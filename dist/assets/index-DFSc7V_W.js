function ZA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function eI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yx={exports:{}},Sh={},xx={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),tI=Symbol.for("react.portal"),rI=Symbol.for("react.fragment"),nI=Symbol.for("react.strict_mode"),iI=Symbol.for("react.profiler"),sI=Symbol.for("react.provider"),aI=Symbol.for("react.context"),oI=Symbol.for("react.forward_ref"),lI=Symbol.for("react.suspense"),uI=Symbol.for("react.memo"),cI=Symbol.for("react.lazy"),Hv=Symbol.iterator;function fI(t){return t===null||typeof t!="object"?null:(t=Hv&&t[Hv]||t["@@iterator"],typeof t=="function"?t:null)}var Ex={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wx=Object.assign,Tx={};function Po(t,e,r){this.props=t,this.context=e,this.refs=Tx,this.updater=r||Ex}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sx(){}Sx.prototype=Po.prototype;function Xp(t,e,r){this.props=t,this.context=e,this.refs=Tx,this.updater=r||Ex}var Yp=Xp.prototype=new Sx;Yp.constructor=Xp;wx(Yp,Po.prototype);Yp.isPureReactComponent=!0;var $v=Array.isArray,Ax=Object.prototype.hasOwnProperty,Qp={current:null},Ix={key:!0,ref:!0,__self:!0,__source:!0};function Cx(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Ax.call(e,n)&&!Ix.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Nu,type:t,key:s,ref:a,props:i,_owner:Qp.current}}function hI(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function dI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Gv=/\/+/g;function Rd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dI(""+t.key):e.toString(36)}function Zc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nu:case tI:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Rd(a,0):n,$v(i)?(r="",t!=null&&(r=t.replace(Gv,"$&/")+"/"),Zc(i,e,r,"",function(u){return u})):i!=null&&(Jp(i)&&(i=hI(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Gv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",$v(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Rd(s,o);a+=Zc(s,e,r,l,i)}else if(l=fI(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Rd(s,o++),a+=Zc(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ec(t,e,r){if(t==null)return t;var n=[],i=0;return Zc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function pI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},ef={transition:null},mI={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:ef,ReactCurrentOwner:Qp};function kx(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Ec,forEach:function(t,e,r){Ec(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!Jp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Po;be.Fragment=rI;be.Profiler=iI;be.PureComponent=Xp;be.StrictMode=nI;be.Suspense=lI;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mI;be.act=kx;be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wx({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Ax.call(e,l)&&!Ix.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Nu,type:t.type,key:i,ref:s,props:n,_owner:a}};be.createContext=function(t){return t={$$typeof:aI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sI,_context:t},t.Consumer=t};be.createElement=Cx;be.createFactory=function(t){var e=Cx.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:oI,render:t}};be.isValidElement=Jp;be.lazy=function(t){return{$$typeof:cI,_payload:{_status:-1,_result:t},_init:pI}};be.memo=function(t,e){return{$$typeof:uI,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=ef.transition;ef.transition={};try{t()}finally{ef.transition=e}};be.unstable_act=kx;be.useCallback=function(t,e){return Cr.current.useCallback(t,e)};be.useContext=function(t){return Cr.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};be.useEffect=function(t,e){return Cr.current.useEffect(t,e)};be.useId=function(){return Cr.current.useId()};be.useImperativeHandle=function(t,e,r){return Cr.current.useImperativeHandle(t,e,r)};be.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Cr.current.useMemo(t,e)};be.useReducer=function(t,e,r){return Cr.current.useReducer(t,e,r)};be.useRef=function(t){return Cr.current.useRef(t)};be.useState=function(t){return Cr.current.useState(t)};be.useSyncExternalStore=function(t,e,r){return Cr.current.useSyncExternalStore(t,e,r)};be.useTransition=function(){return Cr.current.useTransition()};be.version="18.3.1";xx.exports=be;var J=xx.exports;const Rx=eI(J),gI=ZA({__proto__:null,default:Rx},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI=J,_I=Symbol.for("react.element"),yI=Symbol.for("react.fragment"),xI=Object.prototype.hasOwnProperty,EI=vI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wI={key:!0,ref:!0,__self:!0,__source:!0};function Nx(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)xI.call(e,n)&&!wI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:_I,type:t,key:s,ref:a,props:i,_owner:EI.current}}Sh.Fragment=yI;Sh.jsx=Nx;Sh.jsxs=Nx;yx.exports=Sh;var k=yx.exports,w0={},Px={exports:{}},en={},Dx={exports:{}},Ox={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,te){var re=Y.length;Y.push(te);e:for(;0<re;){var _e=re-1>>>1,V=Y[_e];if(0<i(V,te))Y[_e]=te,Y[re]=V,re=_e;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var te=Y[0],re=Y.pop();if(re!==te){Y[0]=re;e:for(var _e=0,V=Y.length,H=V>>>1;_e<H;){var W=2*(_e+1)-1,z=Y[W],K=W+1,he=Y[K];if(0>i(z,re))K<V&&0>i(he,z)?(Y[_e]=he,Y[K]=re,_e=K):(Y[_e]=z,Y[W]=re,_e=W);else if(K<V&&0>i(he,re))Y[_e]=he,Y[K]=re,_e=K;else break e}}return te}function i(Y,te){var re=Y.sortIndex-te.sortIndex;return re!==0?re:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,h=null,d=3,m=!1,_=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Y){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=Y)n(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=r(u)}}function D(Y){if(g=!1,S(Y),!_)if(r(l)!==null)_=!0,Xe(B);else{var te=r(u);te!==null&&se(D,te.startTime-Y)}}function B(Y,te){_=!1,g&&(g=!1,I(w),w=-1),m=!0;var re=d;try{for(S(te),h=r(l);h!==null&&(!(h.expirationTime>te)||Y&&!R());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,d=h.priorityLevel;var V=_e(h.expirationTime<=te);te=t.unstable_now(),typeof V=="function"?h.callback=V:h===r(l)&&n(l),S(te)}else n(l);h=r(l)}if(h!==null)var H=!0;else{var W=r(u);W!==null&&se(D,W.startTime-te),H=!1}return H}finally{h=null,d=re,m=!1}}var j=!1,x=null,w=-1,A=5,T=-1;function R(){return!(t.unstable_now()-T<A)}function L(){if(x!==null){var Y=t.unstable_now();T=Y;var te=!0;try{te=x(!0,Y)}finally{te?N():(j=!1,x=null)}}else j=!1}var N;if(typeof E=="function")N=function(){E(L)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,ke=Ie.port2;Ie.port1.onmessage=L,N=function(){ke.postMessage(null)}}else N=function(){y(L,0)};function Xe(Y){x=Y,j||(j=!0,N())}function se(Y,te){w=y(function(){Y(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,Xe(B))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(Y){switch(d){case 1:case 2:case 3:var te=3;break;default:te=d}var re=d;d=te;try{return Y()}finally{d=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=d;d=Y;try{return te()}finally{d=re}},t.unstable_scheduleCallback=function(Y,te,re){var _e=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=re+V,Y={id:f++,callback:te,priorityLevel:Y,startTime:re,expirationTime:V,sortIndex:-1},re>_e?(Y.sortIndex=re,e(u,Y),r(l)===null&&Y===r(u)&&(g?(I(w),w=-1):g=!0,se(D,re-_e))):(Y.sortIndex=V,e(l,Y),_||m||(_=!0,Xe(B))),Y},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(Y){var te=d;return function(){var re=d;d=te;try{return Y.apply(this,arguments)}finally{d=re}}}})(Ox);Dx.exports=Ox;var TI=Dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI=J,Jr=TI;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fx=new Set,Kl={};function ca(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(Kl[t]=e,t=0;t<e.length;t++)Fx.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T0=Object.prototype.hasOwnProperty,AI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kv={},qv={};function II(t){return T0.call(qv,t)?!0:T0.call(Kv,t)?!1:AI.test(t)?qv[t]=!0:(Kv[t]=!0,!1)}function CI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kI(t,e,r,n){if(e===null||typeof e>"u"||CI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sr[e]=new kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zp=/[\-:]([a-z])/g;function em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zp,em);sr[e]=new kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zp,em);sr[e]=new kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zp,em);sr[e]=new kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new kr(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function tm(t,e,r,n){var i=sr.hasOwnProperty(e)?sr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kI(e,r,i,n)&&(r=null),n||i===null?II(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ci=SI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),Ba=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),Lx=Symbol.for("react.provider"),Mx=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),A0=Symbol.for("react.suspense"),I0=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),bx=Symbol.for("react.offscreen"),Xv=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=Xv&&t[Xv]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Nd;function ml(t){if(Nd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Nd=e&&e[1]||""}return`
`+Nd+t}var Pd=!1;function Dd(t,e){if(!t||Pd)return"";Pd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Pd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ml(t):""}function RI(t){switch(t.tag){case 5:return ml(t.type);case 16:return ml("Lazy");case 13:return ml("Suspense");case 19:return ml("SuspenseList");case 0:case 2:case 15:return t=Dd(t.type,!1),t;case 11:return t=Dd(t.type.render,!1),t;case 1:return t=Dd(t.type,!0),t;default:return""}}function C0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ba:return"Fragment";case Ua:return"Portal";case S0:return"Profiler";case rm:return"StrictMode";case A0:return"Suspense";case I0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mx:return(t.displayName||"Context")+".Consumer";case Lx:return(t._context.displayName||"Context")+".Provider";case nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:C0(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return C0(t(e))}catch{}}return null}function NI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C0(e);case 8:return e===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PI(t){var e=Vx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tc(t){t._valueTracker||(t._valueTracker=PI(t))}function Ux(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Vx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function k0(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Yv(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=cs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bx(t,e){e=e.checked,e!=null&&tm(t,"checked",e,!1)}function R0(t,e){Bx(t,e);var r=cs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N0(t,e.type,r):e.hasOwnProperty("defaultValue")&&N0(t,e.type,cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function N0(t,e,r){(e!=="number"||Ef(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var gl=Array.isArray;function Za(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+cs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function P0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jv(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(gl(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:cs(r)}}function jx(t,e){var r=cs(e.value),n=cs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Zv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sc,Wx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DI=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){DI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function Hx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function $x(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Hx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var OI=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O0(t,e){if(e){if(OI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function F0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L0=null;function sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var M0=null,eo=null,to=null;function e1(t){if(t=Ou(t)){if(typeof M0!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Rh(e),M0(t.stateNode,t.type,e))}}function Gx(t){eo?to?to.push(t):to=[t]:eo=t}function Kx(){if(eo){var t=eo,e=to;if(to=eo=null,e1(t),e)for(t=0;t<e.length;t++)e1(e[t])}}function qx(t,e){return t(e)}function Xx(){}var Od=!1;function Yx(t,e,r){if(Od)return t(e,r);Od=!0;try{return qx(t,e,r)}finally{Od=!1,(eo!==null||to!==null)&&(Xx(),Kx())}}function Xl(t,e){var r=t.stateNode;if(r===null)return null;var n=Rh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var b0=!1;if(vi)try{var al={};Object.defineProperty(al,"passive",{get:function(){b0=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{b0=!1}function FI(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var kl=!1,wf=null,Tf=!1,V0=null,LI={onError:function(t){kl=!0,wf=t}};function MI(t,e,r,n,i,s,a,o,l){kl=!1,wf=null,FI.apply(LI,arguments)}function bI(t,e,r,n,i,s,a,o,l){if(MI.apply(this,arguments),kl){if(kl){var u=wf;kl=!1,wf=null}else throw Error(ce(198));Tf||(Tf=!0,V0=u)}}function fa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Qx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t1(t){if(fa(t)!==t)throw Error(ce(188))}function VI(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return t1(i),t;if(s===n)return t1(i),e;s=s.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function Jx(t){return t=VI(t),t!==null?Zx(t):null}function Zx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zx(t);if(e!==null)return e;t=t.sibling}return null}var eE=Jr.unstable_scheduleCallback,r1=Jr.unstable_cancelCallback,UI=Jr.unstable_shouldYield,BI=Jr.unstable_requestPaint,At=Jr.unstable_now,jI=Jr.unstable_getCurrentPriorityLevel,am=Jr.unstable_ImmediatePriority,tE=Jr.unstable_UserBlockingPriority,Sf=Jr.unstable_NormalPriority,zI=Jr.unstable_LowPriority,rE=Jr.unstable_IdlePriority,Ah=null,jn=null;function WI(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Ah,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:GI,HI=Math.log,$I=Math.LN2;function GI(t){return t>>>=0,t===0?32:31-(HI(t)/$I|0)|0}var Ac=64,Ic=4194304;function vl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Af(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=vl(o):(s&=a,s!==0&&(n=vl(s)))}else a=r&~i,a!==0?n=vl(a):s!==0&&(n=vl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-In(e),i=1<<r,n|=t[r],e&=~i;return n}function KI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-In(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=KI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function U0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nE(){var t=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),t}function Fd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Pu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=r}function XI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-In(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function om(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-In(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var et=0;function iE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sE,lm,aE,oE,lE,B0=!1,Cc=[],Ji=null,Zi=null,es=null,Yl=new Map,Ql=new Map,Bi=[],YI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n1(t,e){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function ol(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ou(e),e!==null&&lm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QI(t,e,r,n,i){switch(e){case"focusin":return Ji=ol(Ji,t,e,r,n,i),!0;case"dragenter":return Zi=ol(Zi,t,e,r,n,i),!0;case"mouseover":return es=ol(es,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Yl.set(s,ol(Yl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ql.set(s,ol(Ql.get(s)||null,t,e,r,n,i)),!0}return!1}function uE(t){var e=Us(t.target);if(e!==null){var r=fa(e);if(r!==null){if(e=r.tag,e===13){if(e=Qx(r),e!==null){t.blockedOn=e,lE(t.priority,function(){aE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=j0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);L0=n,r.target.dispatchEvent(n),L0=null}else return e=Ou(r),e!==null&&lm(e),t.blockedOn=r,!1;e.shift()}return!0}function i1(t,e,r){tf(t)&&r.delete(e)}function JI(){B0=!1,Ji!==null&&tf(Ji)&&(Ji=null),Zi!==null&&tf(Zi)&&(Zi=null),es!==null&&tf(es)&&(es=null),Yl.forEach(i1),Ql.forEach(i1)}function ll(t,e){t.blockedOn===e&&(t.blockedOn=null,B0||(B0=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,JI)))}function Jl(t){function e(i){return ll(i,t)}if(0<Cc.length){ll(Cc[0],t);for(var r=1;r<Cc.length;r++){var n=Cc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ji!==null&&ll(Ji,t),Zi!==null&&ll(Zi,t),es!==null&&ll(es,t),Yl.forEach(e),Ql.forEach(e),r=0;r<Bi.length;r++)n=Bi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Bi.length&&(r=Bi[0],r.blockedOn===null);)uE(r),r.blockedOn===null&&Bi.shift()}var ro=Ci.ReactCurrentBatchConfig,If=!0;function ZI(t,e,r,n){var i=et,s=ro.transition;ro.transition=null;try{et=1,um(t,e,r,n)}finally{et=i,ro.transition=s}}function eC(t,e,r,n){var i=et,s=ro.transition;ro.transition=null;try{et=4,um(t,e,r,n)}finally{et=i,ro.transition=s}}function um(t,e,r,n){if(If){var i=j0(t,e,r,n);if(i===null)Hd(t,e,n,Cf,r),n1(t,n);else if(QI(i,t,e,r,n))n.stopPropagation();else if(n1(t,n),e&4&&-1<YI.indexOf(t)){for(;i!==null;){var s=Ou(i);if(s!==null&&sE(s),s=j0(t,e,r,n),s===null&&Hd(t,e,n,Cf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Hd(t,e,n,null,r)}}var Cf=null;function j0(t,e,r,n){if(Cf=null,t=sm(n),t=Us(t),t!==null)if(e=fa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Qx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cf=t,null}function cE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jI()){case am:return 1;case tE:return 4;case Sf:case zI:return 16;case rE:return 536870912;default:return 16}default:return 16}}var Gi=null,cm=null,rf=null;function fE(){if(rf)return rf;var t,e=cm,r=e.length,n,i="value"in Gi?Gi.value:Gi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return rf=i.slice(t,1<n?1-n:void 0)}function nf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kc(){return!0}function s1(){return!1}function tn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kc:s1,this.isPropagationStopped=s1,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fm=tn(Do),Du=vt({},Do,{view:0,detail:0}),tC=tn(Du),Ld,Md,ul,Ih=vt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ul&&(ul&&t.type==="mousemove"?(Ld=t.screenX-ul.screenX,Md=t.screenY-ul.screenY):Md=Ld=0,ul=t),Ld)},movementY:function(t){return"movementY"in t?t.movementY:Md}}),a1=tn(Ih),rC=vt({},Ih,{dataTransfer:0}),nC=tn(rC),iC=vt({},Du,{relatedTarget:0}),bd=tn(iC),sC=vt({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),aC=tn(sC),oC=vt({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lC=tn(oC),uC=vt({},Do,{data:0}),o1=tn(uC),cC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hC[t])?!!e[t]:!1}function hm(){return dC}var pC=vt({},Du,{key:function(t){if(t.key){var e=cC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(t){return t.type==="keypress"?nf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mC=tn(pC),gC=vt({},Ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l1=tn(gC),vC=vt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),_C=tn(vC),yC=vt({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=tn(yC),EC=vt({},Ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wC=tn(EC),TC=[9,13,27,32],dm=vi&&"CompositionEvent"in window,Rl=null;vi&&"documentMode"in document&&(Rl=document.documentMode);var SC=vi&&"TextEvent"in window&&!Rl,hE=vi&&(!dm||Rl&&8<Rl&&11>=Rl),u1=" ",c1=!1;function dE(t,e){switch(t){case"keyup":return TC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function AC(t,e){switch(t){case"compositionend":return pE(e);case"keypress":return e.which!==32?null:(c1=!0,u1);case"textInput":return t=e.data,t===u1&&c1?null:t;default:return null}}function IC(t,e){if(ja)return t==="compositionend"||!dm&&dE(t,e)?(t=fE(),rf=cm=Gi=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hE&&e.locale!=="ko"?null:e.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CC[t.type]:e==="textarea"}function mE(t,e,r,n){Gx(n),e=kf(e,"onChange"),0<e.length&&(r=new fm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nl=null,Zl=null;function kC(t){IE(t,0)}function Ch(t){var e=Ha(t);if(Ux(e))return t}function RC(t,e){if(t==="change")return e}var gE=!1;if(vi){var Vd;if(vi){var Ud="oninput"in document;if(!Ud){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Ud=typeof h1.oninput=="function"}Vd=Ud}else Vd=!1;gE=Vd&&(!document.documentMode||9<document.documentMode)}function d1(){Nl&&(Nl.detachEvent("onpropertychange",vE),Zl=Nl=null)}function vE(t){if(t.propertyName==="value"&&Ch(Zl)){var e=[];mE(e,Zl,t,sm(t)),Yx(kC,e)}}function NC(t,e,r){t==="focusin"?(d1(),Nl=e,Zl=r,Nl.attachEvent("onpropertychange",vE)):t==="focusout"&&d1()}function PC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ch(Zl)}function DC(t,e){if(t==="click")return Ch(e)}function OC(t,e){if(t==="input"||t==="change")return Ch(e)}function FC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:FC;function eu(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!T0.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function p1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m1(t,e){var r=p1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=p1(r)}}function _E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yE(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ef(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LC(t){var e=yE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&_E(r.ownerDocument.documentElement,r)){if(n!==null&&pm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=m1(r,s);var a=m1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MC=vi&&"documentMode"in document&&11>=document.documentMode,za=null,z0=null,Pl=null,W0=!1;function g1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;W0||za==null||za!==Ef(n)||(n=za,"selectionStart"in n&&pm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pl&&eu(Pl,n)||(Pl=n,n=kf(z0,"onSelect"),0<n.length&&(e=new fm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=za)))}function Rc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Wa={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Bd={},xE={};vi&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function kh(t){if(Bd[t])return Bd[t];if(!Wa[t])return t;var e=Wa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in xE)return Bd[t]=e[r];return t}var EE=kh("animationend"),wE=kh("animationiteration"),TE=kh("animationstart"),SE=kh("transitionend"),AE=new Map,v1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){AE.set(t,e),ca(e,[t])}for(var jd=0;jd<v1.length;jd++){var zd=v1[jd],bC=zd.toLowerCase(),VC=zd[0].toUpperCase()+zd.slice(1);xs(bC,"on"+VC)}xs(EE,"onAnimationEnd");xs(wE,"onAnimationIteration");xs(TE,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(SE,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function _1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bI(n,e,void 0,t),t.currentTarget=null}function IE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;_1(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;_1(i,o,u),s=l}}}if(Tf)throw t=V0,Tf=!1,V0=null,t}function ut(t,e){var r=e[q0];r===void 0&&(r=e[q0]=new Set);var n=t+"__bubble";r.has(n)||(CE(e,t,2,!1),r.add(n))}function Wd(t,e,r){var n=0;e&&(n|=4),CE(r,t,n,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function tu(t){if(!t[Nc]){t[Nc]=!0,Fx.forEach(function(r){r!=="selectionchange"&&(UC.has(r)||Wd(r,!1,t),Wd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,Wd("selectionchange",!1,e))}}function CE(t,e,r,n){switch(cE(e)){case 1:var i=ZI;break;case 4:i=eC;break;default:i=um}r=i.bind(null,e,r,t),i=void 0,!b0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Hd(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Us(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Yx(function(){var u=s,f=sm(r),h=[];e:{var d=AE.get(t);if(d!==void 0){var m=fm,_=t;switch(t){case"keypress":if(nf(r)===0)break e;case"keydown":case"keyup":m=mC;break;case"focusin":_="focus",m=bd;break;case"focusout":_="blur",m=bd;break;case"beforeblur":case"afterblur":m=bd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=a1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_C;break;case EE:case wE:case TE:m=aC;break;case SE:m=xC;break;case"scroll":m=tC;break;case"wheel":m=wC;break;case"copy":case"cut":case"paste":m=lC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=l1}var g=(e&4)!==0,y=!g&&t==="scroll",I=g?d!==null?d+"Capture":null:d;g=[];for(var E=u,S;E!==null;){S=E;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,I!==null&&(D=Xl(E,I),D!=null&&g.push(ru(E,D,S)))),y)break;E=E.return}0<g.length&&(d=new m(d,_,null,r,f),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&r!==L0&&(_=r.relatedTarget||r.fromElement)&&(Us(_)||_[_i]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=r.relatedTarget||r.toElement,m=u,_=_?Us(_):null,_!==null&&(y=fa(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(g=a1,D="onMouseLeave",I="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(g=l1,D="onPointerLeave",I="onPointerEnter",E="pointer"),y=m==null?d:Ha(m),S=_==null?d:Ha(_),d=new g(D,E+"leave",m,r,f),d.target=y,d.relatedTarget=S,D=null,Us(f)===u&&(g=new g(I,E+"enter",_,r,f),g.target=S,g.relatedTarget=y,D=g),y=D,m&&_)t:{for(g=m,I=_,E=0,S=g;S;S=Ra(S))E++;for(S=0,D=I;D;D=Ra(D))S++;for(;0<E-S;)g=Ra(g),E--;for(;0<S-E;)I=Ra(I),S--;for(;E--;){if(g===I||I!==null&&g===I.alternate)break t;g=Ra(g),I=Ra(I)}g=null}else g=null;m!==null&&y1(h,d,m,g,!1),_!==null&&y!==null&&y1(h,y,_,g,!0)}}e:{if(d=u?Ha(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var B=RC;else if(f1(d))if(gE)B=OC;else{B=PC;var j=NC}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(B=DC);if(B&&(B=B(t,u))){mE(h,B,r,f);break e}j&&j(t,d,u),t==="focusout"&&(j=d._wrapperState)&&j.controlled&&d.type==="number"&&N0(d,"number",d.value)}switch(j=u?Ha(u):window,t){case"focusin":(f1(j)||j.contentEditable==="true")&&(za=j,z0=u,Pl=null);break;case"focusout":Pl=z0=za=null;break;case"mousedown":W0=!0;break;case"contextmenu":case"mouseup":case"dragend":W0=!1,g1(h,r,f);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":g1(h,r,f)}var x;if(dm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ja?dE(t,r)&&(w="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(hE&&r.locale!=="ko"&&(ja||w!=="onCompositionStart"?w==="onCompositionEnd"&&ja&&(x=fE()):(Gi=f,cm="value"in Gi?Gi.value:Gi.textContent,ja=!0)),j=kf(u,w),0<j.length&&(w=new o1(w,t,null,r,f),h.push({event:w,listeners:j}),x?w.data=x:(x=pE(r),x!==null&&(w.data=x)))),(x=SC?AC(t,r):IC(t,r))&&(u=kf(u,"onBeforeInput"),0<u.length&&(f=new o1("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:u}),f.data=x))}IE(h,e)})}function ru(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xl(t,r),s!=null&&n.unshift(ru(t,s,i)),s=Xl(t,e),s!=null&&n.push(ru(t,s,i))),t=t.return}return n}function Ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function y1(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Xl(r,s),l!=null&&a.unshift(ru(r,l,o))):i||(l=Xl(r,s),l!=null&&a.push(ru(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var BC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function x1(t){return(typeof t=="string"?t:""+t).replace(BC,`
`).replace(jC,"")}function Pc(t,e,r){if(e=x1(e),x1(t)!==e&&r)throw Error(ce(425))}function Rf(){}var H0=null,$0=null;function G0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var K0=typeof setTimeout=="function"?setTimeout:void 0,zC=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(t){return E1.resolve(null).then(t).catch(HC)}:K0;function HC(t){setTimeout(function(){throw t})}function $d(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Jl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Jl(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Un="__reactFiber$"+Oo,nu="__reactProps$"+Oo,_i="__reactContainer$"+Oo,q0="__reactEvents$"+Oo,$C="__reactListeners$"+Oo,GC="__reactHandles$"+Oo;function Us(t){var e=t[Un];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_i]||r[Un]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=w1(t);t!==null;){if(r=t[Un])return r;t=w1(t)}return e}t=r,r=t.parentNode}return null}function Ou(t){return t=t[Un]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Rh(t){return t[nu]||null}var X0=[],$a=-1;function Es(t){return{current:t}}function ft(t){0>$a||(t.current=X0[$a],X0[$a]=null,$a--)}function at(t,e){$a++,X0[$a]=t.current,t.current=e}var fs={},_r=Es(fs),Fr=Es(!1),Ys=fs;function go(t,e){var r=t.type.contextTypes;if(!r)return fs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(t){return t=t.childContextTypes,t!=null}function Nf(){ft(Fr),ft(_r)}function T1(t,e,r){if(_r.current!==fs)throw Error(ce(168));at(_r,e),at(Fr,r)}function kE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ce(108,NI(t)||"Unknown",i));return vt({},r,n)}function Pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,Ys=_r.current,at(_r,t),at(Fr,Fr.current),!0}function S1(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=kE(t,e,Ys),n.__reactInternalMemoizedMergedChildContext=t,ft(Fr),ft(_r),at(_r,t)):ft(Fr),at(Fr,r)}var si=null,Nh=!1,Gd=!1;function RE(t){si===null?si=[t]:si.push(t)}function KC(t){Nh=!0,RE(t)}function ws(){if(!Gd&&si!==null){Gd=!0;var t=0,e=et;try{var r=si;for(et=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}si=null,Nh=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),eE(am,ws),i}finally{et=e,Gd=!1}}return null}var Ga=[],Ka=0,Df=null,Of=0,on=[],ln=0,Qs=null,ai=1,oi="";function Fs(t,e){Ga[Ka++]=Of,Ga[Ka++]=Df,Df=t,Of=e}function NE(t,e,r){on[ln++]=ai,on[ln++]=oi,on[ln++]=Qs,Qs=t;var n=ai;t=oi;var i=32-In(n)-1;n&=~(1<<i),r+=1;var s=32-In(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ai=1<<32-In(e)+i|r<<i|n,oi=s+t}else ai=1<<s|r<<i|n,oi=t}function mm(t){t.return!==null&&(Fs(t,1),NE(t,1,0))}function gm(t){for(;t===Df;)Df=Ga[--Ka],Ga[Ka]=null,Of=Ga[--Ka],Ga[Ka]=null;for(;t===Qs;)Qs=on[--ln],on[ln]=null,oi=on[--ln],on[ln]=null,ai=on[--ln],on[ln]=null}var Qr=null,Xr=null,pt=!1,Tn=null;function PE(t,e){var r=un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function A1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qr=t,Xr=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qr=t,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Qs!==null?{id:ai,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qr=t,Xr=null,!0):!1;default:return!1}}function Y0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Q0(t){if(pt){var e=Xr;if(e){var r=e;if(!A1(t,e)){if(Y0(t))throw Error(ce(418));e=ts(r.nextSibling);var n=Qr;e&&A1(t,e)?PE(n,r):(t.flags=t.flags&-4097|2,pt=!1,Qr=t)}}else{if(Y0(t))throw Error(ce(418));t.flags=t.flags&-4097|2,pt=!1,Qr=t}}}function I1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qr=t}function Dc(t){if(t!==Qr)return!1;if(!pt)return I1(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!G0(t.type,t.memoizedProps)),e&&(e=Xr)){if(Y0(t))throw DE(),Error(ce(418));for(;e;)PE(t,e),e=ts(e.nextSibling)}if(I1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xr=ts(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xr=null}}else Xr=Qr?ts(t.stateNode.nextSibling):null;return!0}function DE(){for(var t=Xr;t;)t=ts(t.nextSibling)}function vo(){Xr=Qr=null,pt=!1}function vm(t){Tn===null?Tn=[t]:Tn.push(t)}var qC=Ci.ReactCurrentBatchConfig;function cl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function Oc(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C1(t){var e=t._init;return e(t._payload)}function OE(t){function e(I,E){if(t){var S=I.deletions;S===null?(I.deletions=[E],I.flags|=16):S.push(E)}}function r(I,E){if(!t)return null;for(;E!==null;)e(I,E),E=E.sibling;return null}function n(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function i(I,E){return I=ss(I,E),I.index=0,I.sibling=null,I}function s(I,E,S){return I.index=S,t?(S=I.alternate,S!==null?(S=S.index,S<E?(I.flags|=2,E):S):(I.flags|=2,E)):(I.flags|=1048576,E)}function a(I){return t&&I.alternate===null&&(I.flags|=2),I}function o(I,E,S,D){return E===null||E.tag!==6?(E=Zd(S,I.mode,D),E.return=I,E):(E=i(E,S),E.return=I,E)}function l(I,E,S,D){var B=S.type;return B===Ba?f(I,E,S.props.children,D,S.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Vi&&C1(B)===E.type)?(D=i(E,S.props),D.ref=cl(I,E,S),D.return=I,D):(D=ff(S.type,S.key,S.props,null,I.mode,D),D.ref=cl(I,E,S),D.return=I,D)}function u(I,E,S,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=e0(S,I.mode,D),E.return=I,E):(E=i(E,S.children||[]),E.return=I,E)}function f(I,E,S,D,B){return E===null||E.tag!==7?(E=$s(S,I.mode,D,B),E.return=I,E):(E=i(E,S),E.return=I,E)}function h(I,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Zd(""+E,I.mode,S),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wc:return S=ff(E.type,E.key,E.props,null,I.mode,S),S.ref=cl(I,null,E),S.return=I,S;case Ua:return E=e0(E,I.mode,S),E.return=I,E;case Vi:var D=E._init;return h(I,D(E._payload),S)}if(gl(E)||sl(E))return E=$s(E,I.mode,S,null),E.return=I,E;Oc(I,E)}return null}function d(I,E,S,D){var B=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return B!==null?null:o(I,E,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wc:return S.key===B?l(I,E,S,D):null;case Ua:return S.key===B?u(I,E,S,D):null;case Vi:return B=S._init,d(I,E,B(S._payload),D)}if(gl(S)||sl(S))return B!==null?null:f(I,E,S,D,null);Oc(I,S)}return null}function m(I,E,S,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(S)||null,o(E,I,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case wc:return I=I.get(D.key===null?S:D.key)||null,l(E,I,D,B);case Ua:return I=I.get(D.key===null?S:D.key)||null,u(E,I,D,B);case Vi:var j=D._init;return m(I,E,S,j(D._payload),B)}if(gl(D)||sl(D))return I=I.get(S)||null,f(E,I,D,B,null);Oc(E,D)}return null}function _(I,E,S,D){for(var B=null,j=null,x=E,w=E=0,A=null;x!==null&&w<S.length;w++){x.index>w?(A=x,x=null):A=x.sibling;var T=d(I,x,S[w],D);if(T===null){x===null&&(x=A);break}t&&x&&T.alternate===null&&e(I,x),E=s(T,E,w),j===null?B=T:j.sibling=T,j=T,x=A}if(w===S.length)return r(I,x),pt&&Fs(I,w),B;if(x===null){for(;w<S.length;w++)x=h(I,S[w],D),x!==null&&(E=s(x,E,w),j===null?B=x:j.sibling=x,j=x);return pt&&Fs(I,w),B}for(x=n(I,x);w<S.length;w++)A=m(x,I,w,S[w],D),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?w:A.key),E=s(A,E,w),j===null?B=A:j.sibling=A,j=A);return t&&x.forEach(function(R){return e(I,R)}),pt&&Fs(I,w),B}function g(I,E,S,D){var B=sl(S);if(typeof B!="function")throw Error(ce(150));if(S=B.call(S),S==null)throw Error(ce(151));for(var j=B=null,x=E,w=E=0,A=null,T=S.next();x!==null&&!T.done;w++,T=S.next()){x.index>w?(A=x,x=null):A=x.sibling;var R=d(I,x,T.value,D);if(R===null){x===null&&(x=A);break}t&&x&&R.alternate===null&&e(I,x),E=s(R,E,w),j===null?B=R:j.sibling=R,j=R,x=A}if(T.done)return r(I,x),pt&&Fs(I,w),B;if(x===null){for(;!T.done;w++,T=S.next())T=h(I,T.value,D),T!==null&&(E=s(T,E,w),j===null?B=T:j.sibling=T,j=T);return pt&&Fs(I,w),B}for(x=n(I,x);!T.done;w++,T=S.next())T=m(x,I,w,T.value,D),T!==null&&(t&&T.alternate!==null&&x.delete(T.key===null?w:T.key),E=s(T,E,w),j===null?B=T:j.sibling=T,j=T);return t&&x.forEach(function(L){return e(I,L)}),pt&&Fs(I,w),B}function y(I,E,S,D){if(typeof S=="object"&&S!==null&&S.type===Ba&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case wc:e:{for(var B=S.key,j=E;j!==null;){if(j.key===B){if(B=S.type,B===Ba){if(j.tag===7){r(I,j.sibling),E=i(j,S.props.children),E.return=I,I=E;break e}}else if(j.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Vi&&C1(B)===j.type){r(I,j.sibling),E=i(j,S.props),E.ref=cl(I,j,S),E.return=I,I=E;break e}r(I,j);break}else e(I,j);j=j.sibling}S.type===Ba?(E=$s(S.props.children,I.mode,D,S.key),E.return=I,I=E):(D=ff(S.type,S.key,S.props,null,I.mode,D),D.ref=cl(I,E,S),D.return=I,I=D)}return a(I);case Ua:e:{for(j=S.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){r(I,E.sibling),E=i(E,S.children||[]),E.return=I,I=E;break e}else{r(I,E);break}else e(I,E);E=E.sibling}E=e0(S,I.mode,D),E.return=I,I=E}return a(I);case Vi:return j=S._init,y(I,E,j(S._payload),D)}if(gl(S))return _(I,E,S,D);if(sl(S))return g(I,E,S,D);Oc(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(r(I,E.sibling),E=i(E,S),E.return=I,I=E):(r(I,E),E=Zd(S,I.mode,D),E.return=I,I=E),a(I)):r(I,E)}return y}var _o=OE(!0),FE=OE(!1),Ff=Es(null),Lf=null,qa=null,_m=null;function ym(){_m=qa=Lf=null}function xm(t){var e=Ff.current;ft(Ff),t._currentValue=e}function J0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function no(t,e){Lf=t,_m=qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(_m!==t)if(t={context:t,memoizedValue:e,next:null},qa===null){if(Lf===null)throw Error(ce(308));qa=t,Lf.dependencies={lanes:0,firstContext:t}}else qa=qa.next=t;return e}var Bs=null;function Em(t){Bs===null?Bs=[t]:Bs.push(t)}function LE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Em(e)):(r.next=i.next,i.next=r),e.interleaved=r,yi(t,n)}function yi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ui=!1;function wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ME(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yi(t,r)}return i=n.interleaved,i===null?(e.next=e,Em(n)):(e.next=i.next,i.next=e),n.interleaved=e,yi(t,r)}function sf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,om(t,r)}}function k1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mf(t,e,r,n){var i=t.updateQueue;Ui=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,f=u=l=null,o=s;do{var d=o.lane,m=o.eventTime;if((n&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,g=o;switch(d=e,m=r,g.tag){case 1:if(_=g.payload,typeof _=="function"){h=_.call(m,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,d=typeof _=="function"?_.call(m,h,d):_,d==null)break e;h=vt({},h,d);break e;case 2:Ui=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else m={eventTime:m,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zs|=a,t.lanes=a,t.memoizedState=h}}function R1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Fu={},zn=Es(Fu),iu=Es(Fu),su=Es(Fu);function js(t){if(t===Fu)throw Error(ce(174));return t}function Tm(t,e){switch(at(su,e),at(iu,t),at(zn,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:D0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=D0(e,t)}ft(zn),at(zn,e)}function yo(){ft(zn),ft(iu),ft(su)}function bE(t){js(su.current);var e=js(zn.current),r=D0(e,t.type);e!==r&&(at(iu,t),at(zn,r))}function Sm(t){iu.current===t&&(ft(zn),ft(iu))}var mt=Es(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kd=[];function Am(){for(var t=0;t<Kd.length;t++)Kd[t]._workInProgressVersionPrimary=null;Kd.length=0}var af=Ci.ReactCurrentDispatcher,qd=Ci.ReactCurrentBatchConfig,Js=0,gt=null,bt=null,zt=null,Vf=!1,Dl=!1,au=0,XC=0;function cr(){throw Error(ce(321))}function Im(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Nn(t[r],e[r]))return!1;return!0}function Cm(t,e,r,n,i,s){if(Js=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,af.current=t===null||t.memoizedState===null?ZC:ek,t=r(n,i),Dl){s=0;do{if(Dl=!1,au=0,25<=s)throw Error(ce(301));s+=1,zt=bt=null,e.updateQueue=null,af.current=tk,t=r(n,i)}while(Dl)}if(af.current=Uf,e=bt!==null&&bt.next!==null,Js=0,zt=bt=gt=null,Vf=!1,e)throw Error(ce(300));return t}function km(){var t=au!==0;return au=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?gt.memoizedState=zt=t:zt=zt.next=t,zt}function pn(){if(bt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=zt===null?gt.memoizedState:zt.next;if(e!==null)zt=e,bt=t;else{if(t===null)throw Error(ce(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},zt===null?gt.memoizedState=zt=t:zt=zt.next=t}return zt}function ou(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=pn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=bt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var f=u.lane;if((Js&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,gt.lanes|=f,Zs|=f}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Nn(n,e.memoizedState)||(Or=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,Zs|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Yd(t){var e=pn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Nn(s,e.memoizedState)||(Or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function VE(){}function UE(t,e){var r=gt,n=pn(),i=e(),s=!Nn(n.memoizedState,i);if(s&&(n.memoizedState=i,Or=!0),n=n.queue,Rm(zE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||zt!==null&&zt.memoizedState.tag&1){if(r.flags|=2048,lu(9,jE.bind(null,r,n,i,e),void 0,null),Gt===null)throw Error(ce(349));Js&30||BE(r,e,i)}return i}function BE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jE(t,e,r,n){e.value=r,e.getSnapshot=n,WE(e)&&HE(t)}function zE(t,e,r){return r(function(){WE(e)&&HE(t)})}function WE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Nn(t,r)}catch{return!0}}function HE(t){var e=yi(t,1);e!==null&&Cn(e,t,1,-1)}function N1(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=JC.bind(null,gt,t),[e.memoizedState,t]}function lu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function $E(){return pn().memoizedState}function of(t,e,r,n){var i=Vn();gt.flags|=t,i.memoizedState=lu(1|e,r,void 0,n===void 0?null:n)}function Ph(t,e,r,n){var i=pn();n=n===void 0?null:n;var s=void 0;if(bt!==null){var a=bt.memoizedState;if(s=a.destroy,n!==null&&Im(n,a.deps)){i.memoizedState=lu(e,r,s,n);return}}gt.flags|=t,i.memoizedState=lu(1|e,r,s,n)}function P1(t,e){return of(8390656,8,t,e)}function Rm(t,e){return Ph(2048,8,t,e)}function GE(t,e){return Ph(4,2,t,e)}function KE(t,e){return Ph(4,4,t,e)}function qE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XE(t,e,r){return r=r!=null?r.concat([t]):null,Ph(4,4,qE.bind(null,e,t),r)}function Nm(){}function YE(t,e){var r=pn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Im(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function QE(t,e){var r=pn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Im(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function JE(t,e,r){return Js&21?(Nn(r,e)||(r=nE(),gt.lanes|=r,Zs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=r)}function YC(t,e){var r=et;et=r!==0&&4>r?r:4,t(!0);var n=qd.transition;qd.transition={};try{t(!1),e()}finally{et=r,qd.transition=n}}function ZE(){return pn().memoizedState}function QC(t,e,r){var n=is(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ew(t))tw(e,r);else if(r=LE(t,e,r,n),r!==null){var i=Tr();Cn(r,t,n,i),rw(r,e,n)}}function JC(t,e,r){var n=is(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ew(t))tw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Nn(o,a)){var l=e.interleaved;l===null?(i.next=i,Em(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=LE(t,e,i,n),r!==null&&(i=Tr(),Cn(r,t,n,i),rw(r,e,n))}}function ew(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function tw(t,e){Dl=Vf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function rw(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,om(t,r)}}var Uf={readContext:dn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},ZC={readContext:dn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:P1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,of(4194308,4,qE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return of(4194308,4,t,e)},useInsertionEffect:function(t,e){return of(4,2,t,e)},useMemo:function(t,e){var r=Vn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=QC.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:N1,useDebugValue:Nm,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=N1(!1),e=t[0];return t=YC.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=Vn();if(pt){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),Gt===null)throw Error(ce(349));Js&30||BE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,P1(zE.bind(null,n,s,t),[t]),n.flags|=2048,lu(9,jE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Vn(),e=Gt.identifierPrefix;if(pt){var r=oi,n=ai;r=(n&~(1<<32-In(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=au++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=XC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ek={readContext:dn,useCallback:YE,useContext:dn,useEffect:Rm,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:KE,useMemo:QE,useReducer:Xd,useRef:$E,useState:function(){return Xd(ou)},useDebugValue:Nm,useDeferredValue:function(t){var e=pn();return JE(e,bt.memoizedState,t)},useTransition:function(){var t=Xd(ou)[0],e=pn().memoizedState;return[t,e]},useMutableSource:VE,useSyncExternalStore:UE,useId:ZE,unstable_isNewReconciler:!1},tk={readContext:dn,useCallback:YE,useContext:dn,useEffect:Rm,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:KE,useMemo:QE,useReducer:Yd,useRef:$E,useState:function(){return Yd(ou)},useDebugValue:Nm,useDeferredValue:function(t){var e=pn();return bt===null?e.memoizedState=t:JE(e,bt.memoizedState,t)},useTransition:function(){var t=Yd(ou)[0],e=pn().memoizedState;return[t,e]},useMutableSource:VE,useSyncExternalStore:UE,useId:ZE,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Z0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dh={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=is(t),s=hi(n,i);s.payload=e,r!=null&&(s.callback=r),e=rs(t,s,i),e!==null&&(Cn(e,t,i,n),sf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=is(t),s=hi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=rs(t,s,i),e!==null&&(Cn(e,t,i,n),sf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Tr(),n=is(t),i=hi(r,n);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,n),e!==null&&(Cn(e,t,n,r),sf(e,t,n))}};function D1(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!eu(r,n)||!eu(i,s):!0}function nw(t,e,r){var n=!1,i=fs,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Lr(e)?Ys:_r.current,n=e.contextTypes,s=(n=n!=null)?go(t,i):fs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Dh.enqueueReplaceState(e,e.state,null)}function ep(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},wm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Lr(e)?Ys:_r.current,i.context=go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Z0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dh.enqueueReplaceState(i,i.state,null),Mf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var r="",n=e;do r+=RI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function tp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var rk=typeof WeakMap=="function"?WeakMap:Map;function iw(t,e,r){r=hi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jf||(jf=!0,fp=n),tp(t,e)},r}function sw(t,e,r){r=hi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){tp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){tp(t,e),typeof n!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function F1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new rk;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=gk.bind(null,t,e,r),e.then(t,t))}function L1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hi(-1,1),e.tag=2,rs(r,e,1))),r.lanes|=1),t)}var nk=Ci.ReactCurrentOwner,Or=!1;function xr(t,e,r,n){e.child=t===null?FE(e,null,r,n):_o(e,t.child,r,n)}function b1(t,e,r,n,i){r=r.render;var s=e.ref;return no(e,i),n=Cm(t,e,r,n,s,i),r=km(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(pt&&r&&mm(e),e.flags|=1,xr(t,e,n,i),e.child)}function V1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Vm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,aw(t,e,s,n,i)):(t=ff(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:eu,r(a,n)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=ss(s,n),t.ref=e.ref,t.return=e,e.child=t}function aw(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(eu(s,n)&&t.ref===e.ref)if(Or=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,xi(t,e,i)}return rp(t,e,r,n,i)}function ow(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ya,$r),$r|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Ya,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,at(Ya,$r),$r|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,at(Ya,$r),$r|=n;return xr(t,e,i,r),e.child}function lw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function rp(t,e,r,n,i){var s=Lr(r)?Ys:_r.current;return s=go(e,s),no(e,i),r=Cm(t,e,r,n,s,i),n=km(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(pt&&n&&mm(e),e.flags|=1,xr(t,e,r,i),e.child)}function U1(t,e,r,n,i){if(Lr(r)){var s=!0;Pf(e)}else s=!1;if(no(e,i),e.stateNode===null)lf(t,e),nw(e,r,n),ep(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=Lr(r)?Ys:_r.current,u=go(e,u));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&O1(e,a,n,u),Ui=!1;var d=e.memoizedState;a.state=d,Mf(e,n,a,i),l=e.memoizedState,o!==n||d!==l||Fr.current||Ui?(typeof f=="function"&&(Z0(e,r,f,n),l=e.memoizedState),(o=Ui||D1(e,r,o,n,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,ME(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:En(e.type,o),a.props=u,h=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Lr(r)?Ys:_r.current,l=go(e,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&O1(e,a,n,l),Ui=!1,d=e.memoizedState,a.state=d,Mf(e,n,a,i);var _=e.memoizedState;o!==h||d!==_||Fr.current||Ui?(typeof m=="function"&&(Z0(e,r,m,n),_=e.memoizedState),(u=Ui||D1(e,r,u,n,d,_,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return np(t,e,r,n,s,i)}function np(t,e,r,n,i,s){lw(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&S1(e,r,!1),xi(t,e,s);n=e.stateNode,nk.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=_o(e,t.child,null,s),e.child=_o(e,null,o,s)):xr(t,e,o,s),e.memoizedState=n.state,i&&S1(e,r,!0),e.child}function uw(t){var e=t.stateNode;e.pendingContext?T1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T1(t,e.context,!1),Tm(t,e.containerInfo)}function B1(t,e,r,n,i){return vo(),vm(i),e.flags|=256,xr(t,e,r,n),e.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function sp(t){return{baseLanes:t,cachePool:null,transitions:null}}function cw(t,e,r){var n=e.pendingProps,i=mt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(mt,i&1),t===null)return Q0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Lh(a,n,0,null),t=$s(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sp(r),e.memoizedState=ip,t):Pm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ik(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ss(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ss(o,s):(s=$s(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?sp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=ip,n}return s=t.child,t=s.sibling,n=ss(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Pm(t,e){return e=Lh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,r,n){return n!==null&&vm(n),_o(e,t.child,null,r),t=Pm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ik(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Qd(Error(ce(422))),Fc(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Lh({mode:"visible",children:n.children},i,0,null),s=$s(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&_o(e,t.child,null,a),e.child.memoizedState=sp(a),e.memoizedState=ip,s);if(!(e.mode&1))return Fc(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ce(419)),n=Qd(s,n,void 0),Fc(t,e,a,n)}if(o=(a&t.childLanes)!==0,Or||o){if(n=Gt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yi(t,i),Cn(n,t,i,-1))}return bm(),n=Qd(Error(ce(421))),Fc(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xr=ts(i.nextSibling),Qr=e,pt=!0,Tn=null,t!==null&&(on[ln++]=ai,on[ln++]=oi,on[ln++]=Qs,ai=t.id,oi=t.overflow,Qs=e),e=Pm(e,n.children),e.flags|=4096,e)}function j1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),J0(t.return,e,r)}function Jd(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function fw(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(xr(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j1(t,r,e);else if(t.tag===19)j1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(at(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&bf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Jd(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Jd(e,!0,r,null,s);break;case"together":Jd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=ss(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sk(t,e,r){switch(e.tag){case 3:uw(e),vo();break;case 5:bE(e);break;case 1:Lr(e.type)&&Pf(e);break;case 4:Tm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;at(Ff,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(at(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?cw(t,e,r):(at(mt,mt.current&1),t=xi(t,e,r),t!==null?t.sibling:null);at(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return fw(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,ow(t,e,r)}return xi(t,e,r)}var hw,ap,dw,pw;hw=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ap=function(){};dw=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,js(zn.current);var s=null;switch(r){case"input":i=k0(t,i),n=k0(t,n),s=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),s=[];break;case"textarea":i=P0(t,i),n=P0(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rf)}O0(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ut("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pw=function(t,e,r,n){r!==n&&(e.flags|=4)};function fl(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ak(t,e,r){var n=e.pendingProps;switch(gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Lr(e.type)&&Nf(),fr(e),null;case 3:return n=e.stateNode,yo(),ft(Fr),ft(_r),Am(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(pp(Tn),Tn=null))),ap(t,e),fr(e),null;case 5:Sm(e);var i=js(su.current);if(r=e.type,t!==null&&e.stateNode!=null)dw(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return fr(e),null}if(t=js(zn.current),Dc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Un]=e,n[nu]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<_l.length;i++)ut(_l[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":Yv(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":Jv(n,s),ut("invalid",n)}O0(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Pc(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Pc(n.textContent,o,t),i=["children",""+o]):Kl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",n)}switch(r){case"input":Tc(n),Qv(n,s,!0);break;case"textarea":Tc(n),Zv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Un]=e,t[nu]=n,hw(t,e,!1,!1),e.stateNode=t;e:{switch(a=F0(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<_l.length;i++)ut(_l[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":Yv(t,n),i=k0(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),ut("invalid",t);break;case"textarea":Jv(t,n),i=P0(t,n),ut("invalid",t);break;default:i=n}O0(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?$x(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Wx(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ql(t,l):typeof l=="number"&&ql(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ut("scroll",t):l!=null&&tm(t,s,l,a))}switch(r){case"input":Tc(t),Qv(t,n,!1);break;case"textarea":Tc(t),Zv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+cs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Za(t,!!n.multiple,s,!1):n.defaultValue!=null&&Za(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)pw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=js(su.current),js(zn.current),Dc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Un]=e,(s=n.nodeValue!==r)&&(t=Qr,t!==null))switch(t.tag){case 3:Pc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=e,e.stateNode=n}return fr(e),null;case 13:if(ft(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Xr!==null&&e.mode&1&&!(e.flags&128))DE(),vo(),e.flags|=98560,s=!1;else if(s=Dc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Un]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),s=!1}else Tn!==null&&(pp(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ut===0&&(Ut=3):bm())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return yo(),ap(t,e),t===null&&tu(e.stateNode.containerInfo),fr(e),null;case 10:return xm(e.type._context),fr(e),null;case 17:return Lr(e.type)&&Nf(),fr(e),null;case 19:if(ft(mt),s=e.memoizedState,s===null)return fr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)fl(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bf(t),a!==null){for(e.flags|=128,fl(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return at(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>Eo&&(e.flags|=128,n=!0,fl(s,!1),e.lanes=4194304)}else{if(!n)if(t=bf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),fl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pt)return fr(e),null}else 2*At()-s.renderingStartTime>Eo&&r!==1073741824&&(e.flags|=128,n=!0,fl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,r=mt.current,at(mt,n?r&1|2:r&1),e):(fr(e),null);case 22:case 23:return Mm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$r&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function ok(t,e){switch(gm(e),e.tag){case 1:return Lr(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),ft(Fr),ft(_r),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sm(e),null;case 13:if(ft(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(mt),null;case 4:return yo(),null;case 10:return xm(e.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var Lc=!1,pr=!1,lk=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Xa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(t,e,n)}else r.current=null}function op(t,e,r){try{r()}catch(n){Et(t,e,n)}}var z1=!1;function uk(t,e){if(H0=If,t=yE(),pm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,f=0,h=t,d=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===r&&++u===i&&(o=a),d===s&&++f===n&&(l=a),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($0={focusedElem:t,selectionRange:r},If=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,y=_.memoizedState,I=e.stateNode,E=I.getSnapshotBeforeUpdate(e.elementType===e.type?g:En(e.type,g),y);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(D){Et(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return _=z1,z1=!1,_}function Ol(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&op(e,r,s)}i=i.next}while(i!==n)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function lp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function mw(t){var e=t.alternate;e!==null&&(t.alternate=null,mw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[nu],delete e[q0],delete e[$C],delete e[GC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gw(t){return t.tag===5||t.tag===3||t.tag===4}function W1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function up(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rf));else if(n!==4&&(t=t.child,t!==null))for(up(t,e,r),t=t.sibling;t!==null;)up(t,e,r),t=t.sibling}function cp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(cp(t,e,r),t=t.sibling;t!==null;)cp(t,e,r),t=t.sibling}var Yt=null,wn=!1;function Li(t,e,r){for(r=r.child;r!==null;)vw(t,e,r),r=r.sibling}function vw(t,e,r){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Ah,r)}catch{}switch(r.tag){case 5:pr||Xa(r,e);case 6:var n=Yt,i=wn;Yt=null,Li(t,e,r),Yt=n,wn=i,Yt!==null&&(wn?(t=Yt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Yt.removeChild(r.stateNode));break;case 18:Yt!==null&&(wn?(t=Yt,r=r.stateNode,t.nodeType===8?$d(t.parentNode,r):t.nodeType===1&&$d(t,r),Jl(t)):$d(Yt,r.stateNode));break;case 4:n=Yt,i=wn,Yt=r.stateNode.containerInfo,wn=!0,Li(t,e,r),Yt=n,wn=i;break;case 0:case 11:case 14:case 15:if(!pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&op(r,e,a),i=i.next}while(i!==n)}Li(t,e,r);break;case 1:if(!pr&&(Xa(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Et(r,e,o)}Li(t,e,r);break;case 21:Li(t,e,r);break;case 22:r.mode&1?(pr=(n=pr)||r.memoizedState!==null,Li(t,e,r),pr=n):Li(t,e,r);break;default:Li(t,e,r)}}function H1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new lk),e.forEach(function(n){var i=_k.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function _n(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Yt=o.stateNode,wn=!1;break e;case 3:Yt=o.stateNode.containerInfo,wn=!0;break e;case 4:Yt=o.stateNode.containerInfo,wn=!0;break e}o=o.return}if(Yt===null)throw Error(ce(160));vw(s,a,i),Yt=null,wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_w(e,t),e=e.sibling}function _w(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Ln(t),n&4){try{Ol(3,t,t.return),Oh(3,t)}catch(g){Et(t,t.return,g)}try{Ol(5,t,t.return)}catch(g){Et(t,t.return,g)}}break;case 1:_n(e,t),Ln(t),n&512&&r!==null&&Xa(r,r.return);break;case 5:if(_n(e,t),Ln(t),n&512&&r!==null&&Xa(r,r.return),t.flags&32){var i=t.stateNode;try{ql(i,"")}catch(g){Et(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Bx(i,s),F0(o,a);var u=F0(o,s);for(a=0;a<l.length;a+=2){var f=l[a],h=l[a+1];f==="style"?$x(i,h):f==="dangerouslySetInnerHTML"?Wx(i,h):f==="children"?ql(i,h):tm(i,f,h,u)}switch(o){case"input":R0(i,s);break;case"textarea":jx(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Za(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Za(i,!!s.multiple,s.defaultValue,!0):Za(i,!!s.multiple,s.multiple?[]:"",!1))}i[nu]=s}catch(g){Et(t,t.return,g)}}break;case 6:if(_n(e,t),Ln(t),n&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Et(t,t.return,g)}}break;case 3:if(_n(e,t),Ln(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(g){Et(t,t.return,g)}break;case 4:_n(e,t),Ln(t);break;case 13:_n(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fm=At())),n&4&&H1(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(pr=(u=pr)||f,_n(e,t),pr=u):_n(e,t),Ln(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Te=t,f=t.child;f!==null;){for(h=Te=f;Te!==null;){switch(d=Te,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ol(4,d,d.return);break;case 1:Xa(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){Et(n,r,g)}}break;case 5:Xa(d,d.return);break;case 22:if(d.memoizedState!==null){G1(h);continue}}m!==null?(m.return=d,Te=m):G1(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Hx("display",a))}catch(g){Et(t,t.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Et(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(e,t),Ln(t),n&4&&H1(t);break;case 21:break;default:_n(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(gw(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ql(i,""),n.flags&=-33);var s=W1(t);cp(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=W1(t);up(t,o,a);break;default:throw Error(ce(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ck(t,e,r){Te=t,yw(t)}function yw(t,e,r){for(var n=(t.mode&1)!==0;Te!==null;){var i=Te,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Lc;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||pr;o=Lc;var u=pr;if(Lc=a,(pr=l)&&!u)for(Te=i;Te!==null;)a=Te,l=a.child,a.tag===22&&a.memoizedState!==null?K1(i):l!==null?(l.return=a,Te=l):K1(i);for(;s!==null;)Te=s,yw(s),s=s.sibling;Te=i,Lc=o,pr=u}$1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Te=s):$1(t)}}function $1(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pr||Oh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:En(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&R1(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}R1(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Jl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}pr||e.flags&512&&lp(e)}catch(d){Et(e,e.return,d)}}if(e===t){Te=null;break}if(r=e.sibling,r!==null){r.return=e.return,Te=r;break}Te=e.return}}function G1(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Te=r;break}Te=e.return}}function K1(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Oh(4,e)}catch(l){Et(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{lp(e)}catch(l){Et(e,s,l)}break;case 5:var a=e.return;try{lp(e)}catch(l){Et(e,a,l)}}}catch(l){Et(e,e.return,l)}if(e===t){Te=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Te=o;break}Te=e.return}}var fk=Math.ceil,Bf=Ci.ReactCurrentDispatcher,Dm=Ci.ReactCurrentOwner,fn=Ci.ReactCurrentBatchConfig,ze=0,Gt=null,Rt=null,rr=0,$r=0,Ya=Es(0),Ut=0,uu=null,Zs=0,Fh=0,Om=0,Fl=null,Pr=null,Fm=0,Eo=1/0,ii=null,jf=!1,fp=null,ns=null,Mc=!1,Ki=null,zf=0,Ll=0,hp=null,uf=-1,cf=0;function Tr(){return ze&6?At():uf!==-1?uf:uf=At()}function is(t){return t.mode&1?ze&2&&rr!==0?rr&-rr:qC.transition!==null?(cf===0&&(cf=nE()),cf):(t=et,t!==0||(t=window.event,t=t===void 0?16:cE(t.type)),t):1}function Cn(t,e,r,n){if(50<Ll)throw Ll=0,hp=null,Error(ce(185));Pu(t,r,n),(!(ze&2)||t!==Gt)&&(t===Gt&&(!(ze&2)&&(Fh|=r),Ut===4&&ji(t,rr)),Mr(t,n),r===1&&ze===0&&!(e.mode&1)&&(Eo=At()+500,Nh&&ws()))}function Mr(t,e){var r=t.callbackNode;qI(t,e);var n=Af(t,t===Gt?rr:0);if(n===0)r!==null&&r1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&r1(r),e===1)t.tag===0?KC(q1.bind(null,t)):RE(q1.bind(null,t)),WC(function(){!(ze&6)&&ws()}),r=null;else{switch(iE(n)){case 1:r=am;break;case 4:r=tE;break;case 16:r=Sf;break;case 536870912:r=rE;break;default:r=Sf}r=Cw(r,xw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function xw(t,e){if(uf=-1,cf=0,ze&6)throw Error(ce(327));var r=t.callbackNode;if(io()&&t.callbackNode!==r)return null;var n=Af(t,t===Gt?rr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Wf(t,n);else{e=n;var i=ze;ze|=2;var s=ww();(Gt!==t||rr!==e)&&(ii=null,Eo=At()+500,Hs(t,e));do try{pk();break}catch(o){Ew(t,o)}while(!0);ym(),Bf.current=s,ze=i,Rt!==null?e=0:(Gt=null,rr=0,e=Ut)}if(e!==0){if(e===2&&(i=U0(t),i!==0&&(n=i,e=dp(t,i))),e===1)throw r=uu,Hs(t,0),ji(t,n),Mr(t,At()),r;if(e===6)ji(t,n);else{if(i=t.current.alternate,!(n&30)&&!hk(i)&&(e=Wf(t,n),e===2&&(s=U0(t),s!==0&&(n=s,e=dp(t,s))),e===1))throw r=uu,Hs(t,0),ji(t,n),Mr(t,At()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:Ls(t,Pr,ii);break;case 3:if(ji(t,n),(n&130023424)===n&&(e=Fm+500-At(),10<e)){if(Af(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=K0(Ls.bind(null,t,Pr,ii),e);break}Ls(t,Pr,ii);break;case 4:if(ji(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-In(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=At()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fk(n/1960))-n,10<n){t.timeoutHandle=K0(Ls.bind(null,t,Pr,ii),n);break}Ls(t,Pr,ii);break;case 5:Ls(t,Pr,ii);break;default:throw Error(ce(329))}}}return Mr(t,At()),t.callbackNode===r?xw.bind(null,t):null}function dp(t,e){var r=Fl;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=Wf(t,e),t!==2&&(e=Pr,Pr=r,e!==null&&pp(e)),t}function pp(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function hk(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Nn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e){for(e&=~Om,e&=~Fh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-In(e),n=1<<r;t[r]=-1,e&=~n}}function q1(t){if(ze&6)throw Error(ce(327));io();var e=Af(t,0);if(!(e&1))return Mr(t,At()),null;var r=Wf(t,e);if(t.tag!==0&&r===2){var n=U0(t);n!==0&&(e=n,r=dp(t,n))}if(r===1)throw r=uu,Hs(t,0),ji(t,e),Mr(t,At()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,Pr,ii),Mr(t,At()),null}function Lm(t,e){var r=ze;ze|=1;try{return t(e)}finally{ze=r,ze===0&&(Eo=At()+500,Nh&&ws())}}function ea(t){Ki!==null&&Ki.tag===0&&!(ze&6)&&io();var e=ze;ze|=1;var r=fn.transition,n=et;try{if(fn.transition=null,et=1,t)return t()}finally{et=n,fn.transition=r,ze=e,!(ze&6)&&ws()}}function Mm(){$r=Ya.current,ft(Ya)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zC(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(gm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nf();break;case 3:yo(),ft(Fr),ft(_r),Am();break;case 5:Sm(n);break;case 4:yo();break;case 13:ft(mt);break;case 19:ft(mt);break;case 10:xm(n.type._context);break;case 22:case 23:Mm()}r=r.return}if(Gt=t,Rt=t=ss(t.current,null),rr=$r=e,Ut=0,uu=null,Om=Fh=Zs=0,Pr=Fl=null,Bs!==null){for(e=0;e<Bs.length;e++)if(r=Bs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Bs=null}return t}function Ew(t,e){do{var r=Rt;try{if(ym(),af.current=Uf,Vf){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vf=!1}if(Js=0,zt=bt=gt=null,Dl=!1,au=0,Dm.current=null,r===null||r.return===null){Ut=1,uu=e,Rt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=rr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=L1(a);if(m!==null){m.flags&=-257,M1(m,a,o,s,e),m.mode&1&&F1(s,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){F1(s,u,e),bm();break e}l=Error(ce(426))}}else if(pt&&o.mode&1){var y=L1(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),M1(y,a,o,s,e),vm(xo(l,o));break e}}s=l=xo(l,o),Ut!==4&&(Ut=2),Fl===null?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=iw(s,l,e);k1(s,I);break e;case 1:o=l;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ns===null||!ns.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=sw(s,o,e);k1(s,D);break e}}s=s.return}while(s!==null)}Sw(r)}catch(B){e=B,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function ww(){var t=Bf.current;return Bf.current=Uf,t===null?Uf:t}function bm(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Gt===null||!(Zs&268435455)&&!(Fh&268435455)||ji(Gt,rr)}function Wf(t,e){var r=ze;ze|=2;var n=ww();(Gt!==t||rr!==e)&&(ii=null,Hs(t,e));do try{dk();break}catch(i){Ew(t,i)}while(!0);if(ym(),ze=r,Bf.current=n,Rt!==null)throw Error(ce(261));return Gt=null,rr=0,Ut}function dk(){for(;Rt!==null;)Tw(Rt)}function pk(){for(;Rt!==null&&!UI();)Tw(Rt)}function Tw(t){var e=Iw(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?Sw(t):Rt=e,Dm.current=null}function Sw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ok(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Rt=null;return}}else if(r=ak(r,e,$r),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Ls(t,e,r){var n=et,i=fn.transition;try{fn.transition=null,et=1,mk(t,e,r,n)}finally{fn.transition=i,et=n}return null}function mk(t,e,r,n){do io();while(Ki!==null);if(ze&6)throw Error(ce(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(XI(t,s),t===Gt&&(Rt=Gt=null,rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mc||(Mc=!0,Cw(Sf,function(){return io(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=fn.transition,fn.transition=null;var a=et;et=1;var o=ze;ze|=4,Dm.current=null,uk(t,r),_w(r,t),LC($0),If=!!H0,$0=H0=null,t.current=r,ck(r),BI(),ze=o,et=a,fn.transition=s}else t.current=r;if(Mc&&(Mc=!1,Ki=t,zf=i),s=t.pendingLanes,s===0&&(ns=null),WI(r.stateNode),Mr(t,At()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(jf)throw jf=!1,t=fp,fp=null,t;return zf&1&&t.tag!==0&&io(),s=t.pendingLanes,s&1?t===hp?Ll++:(Ll=0,hp=t):Ll=0,ws(),null}function io(){if(Ki!==null){var t=iE(zf),e=fn.transition,r=et;try{if(fn.transition=null,et=16>t?16:t,Ki===null)var n=!1;else{if(t=Ki,Ki=null,zf=0,ze&6)throw Error(ce(331));var i=ze;for(ze|=4,Te=t.current;Te!==null;){var s=Te,a=s.child;if(Te.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Te=u;Te!==null;){var f=Te;switch(f.tag){case 0:case 11:case 15:Ol(8,f,s)}var h=f.child;if(h!==null)h.return=f,Te=h;else for(;Te!==null;){f=Te;var d=f.sibling,m=f.return;if(mw(f),f===u){Te=null;break}if(d!==null){d.return=m,Te=d;break}Te=m}}}var _=s.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Te=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Te=a;else e:for(;Te!==null;){if(s=Te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ol(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,Te=I;break e}Te=s.return}}var E=t.current;for(Te=E;Te!==null;){a=Te;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Te=S;else e:for(a=E;Te!==null;){if(o=Te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Oh(9,o)}}catch(B){Et(o,o.return,B)}if(o===a){Te=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,Te=D;break e}Te=o.return}}if(ze=i,ws(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Ah,t)}catch{}n=!0}return n}finally{et=r,fn.transition=e}}return!1}function X1(t,e,r){e=xo(r,e),e=iw(t,e,1),t=rs(t,e,1),e=Tr(),t!==null&&(Pu(t,1,e),Mr(t,e))}function Et(t,e,r){if(t.tag===3)X1(t,t,r);else for(;e!==null;){if(e.tag===3){X1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ns===null||!ns.has(n))){t=xo(r,t),t=sw(e,t,1),e=rs(e,t,1),t=Tr(),e!==null&&(Pu(e,1,t),Mr(e,t));break}}e=e.return}}function gk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Tr(),t.pingedLanes|=t.suspendedLanes&r,Gt===t&&(rr&r)===r&&(Ut===4||Ut===3&&(rr&130023424)===rr&&500>At()-Fm?Hs(t,0):Om|=r),Mr(t,e)}function Aw(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var r=Tr();t=yi(t,e),t!==null&&(Pu(t,e,r),Mr(t,r))}function vk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Aw(t,r)}function _k(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),Aw(t,r)}var Iw;Iw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fr.current)Or=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Or=!1,sk(t,e,r);Or=!!(t.flags&131072)}else Or=!1,pt&&e.flags&1048576&&NE(e,Of,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;lf(t,e),t=e.pendingProps;var i=go(e,_r.current);no(e,r),i=Cm(null,e,n,t,i,r);var s=km();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(n)?(s=!0,Pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wm(e),i.updater=Dh,e.stateNode=i,i._reactInternals=e,ep(e,n,t,r),e=np(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&mm(e),xr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(lf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=xk(n),t=En(n,t),i){case 0:e=rp(null,e,n,t,r);break e;case 1:e=U1(null,e,n,t,r);break e;case 11:e=b1(null,e,n,t,r);break e;case 14:e=V1(null,e,n,En(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),rp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),U1(t,e,n,i,r);case 3:e:{if(uw(e),t===null)throw Error(ce(387));n=e.pendingProps,s=e.memoizedState,i=s.element,ME(t,e),Mf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xo(Error(ce(423)),e),e=B1(t,e,n,r,i);break e}else if(n!==i){i=xo(Error(ce(424)),e),e=B1(t,e,n,r,i);break e}else for(Xr=ts(e.stateNode.containerInfo.firstChild),Qr=e,pt=!0,Tn=null,r=FE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vo(),n===i){e=xi(t,e,r);break e}xr(t,e,n,r)}e=e.child}return e;case 5:return bE(e),t===null&&Q0(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,G0(n,i)?a=null:s!==null&&G0(n,s)&&(e.flags|=32),lw(t,e),xr(t,e,a,r),e.child;case 6:return t===null&&Q0(e),null;case 13:return cw(t,e,r);case 4:return Tm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=_o(e,null,n,r):xr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),b1(t,e,n,i,r);case 7:return xr(t,e,e.pendingProps,r),e.child;case 8:return xr(t,e,e.pendingProps.children,r),e.child;case 12:return xr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,at(Ff,n._currentValue),n._currentValue=a,s!==null)if(Nn(s.value,a)){if(s.children===i.children&&!Fr.current){e=xi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=hi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),J0(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ce(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),J0(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}xr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,no(e,r),i=dn(i),n=n(i),e.flags|=1,xr(t,e,n,r),e.child;case 14:return n=e.type,i=En(n,e.pendingProps),i=En(n.type,i),V1(t,e,n,i,r);case 15:return aw(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),lf(t,e),e.tag=1,Lr(n)?(t=!0,Pf(e)):t=!1,no(e,r),nw(e,n,i),ep(e,n,i,r),np(null,e,n,!0,t,r);case 19:return fw(t,e,r);case 22:return ow(t,e,r)}throw Error(ce(156,e.tag))};function Cw(t,e){return eE(t,e)}function yk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,r,n){return new yk(t,e,r,n)}function Vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xk(t){if(typeof t=="function")return Vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nm)return 11;if(t===im)return 14}return 2}function ss(t,e){var r=t.alternate;return r===null?(r=un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ff(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Vm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ba:return $s(r.children,i,s,e);case rm:a=8,i|=8;break;case S0:return t=un(12,r,e,i|2),t.elementType=S0,t.lanes=s,t;case A0:return t=un(13,r,e,i),t.elementType=A0,t.lanes=s,t;case I0:return t=un(19,r,e,i),t.elementType=I0,t.lanes=s,t;case bx:return Lh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lx:a=10;break e;case Mx:a=9;break e;case nm:a=11;break e;case im:a=14;break e;case Vi:a=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=un(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function $s(t,e,r,n){return t=un(7,t,n,e),t.lanes=r,t}function Lh(t,e,r,n){return t=un(22,t,n,e),t.elementType=bx,t.lanes=r,t.stateNode={isHidden:!1},t}function Zd(t,e,r){return t=un(6,t,null,e),t.lanes=r,t}function e0(t,e,r){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ek(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Um(t,e,r,n,i,s,a,o,l){return t=new Ek(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(s),t}function wk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ua,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function kw(t){if(!t)return fs;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(Lr(r))return kE(t,r,e)}return e}function Rw(t,e,r,n,i,s,a,o,l){return t=Um(r,n,!0,t,i,s,a,o,l),t.context=kw(null),r=t.current,n=Tr(),i=is(r),s=hi(n,i),s.callback=e??null,rs(r,s,i),t.current.lanes=i,Pu(t,i,n),Mr(t,n),t}function Mh(t,e,r,n){var i=e.current,s=Tr(),a=is(i);return r=kw(r),e.context===null?e.context=r:e.pendingContext=r,e=hi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=rs(i,e,a),t!==null&&(Cn(t,i,a,s),sf(t,i,a)),a}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Bm(t,e){Y1(t,e),(t=t.alternate)&&Y1(t,e)}function Tk(){return null}var Nw=typeof reportError=="function"?reportError:function(t){console.error(t)};function jm(t){this._internalRoot=t}bh.prototype.render=jm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Mh(t,e,null,null)};bh.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){Mh(null,t,null,null)}),e[_i]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=oE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Bi.length&&e!==0&&e<Bi[r].priority;r++);Bi.splice(r,0,t),r===0&&uE(t)}};function zm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q1(){}function Sk(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Hf(a);s.call(u)}}var a=Rw(e,n,t,0,null,!1,!1,"",Q1);return t._reactRootContainer=a,t[_i]=a.current,tu(t.nodeType===8?t.parentNode:t),ea(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Hf(l);o.call(u)}}var l=Um(t,0,!1,null,null,!1,!1,"",Q1);return t._reactRootContainer=l,t[_i]=l.current,tu(t.nodeType===8?t.parentNode:t),ea(function(){Mh(e,l,r,n)}),l}function Uh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Hf(a);o.call(l)}}Mh(e,a,t,i)}else a=Sk(r,e,t,i,n);return Hf(a)}sE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vl(e.pendingLanes);r!==0&&(om(e,r|1),Mr(e,At()),!(ze&6)&&(Eo=At()+500,ws()))}break;case 13:ea(function(){var n=yi(t,1);if(n!==null){var i=Tr();Cn(n,t,1,i)}}),Bm(t,1)}};lm=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var r=Tr();Cn(e,t,134217728,r)}Bm(t,134217728)}};aE=function(t){if(t.tag===13){var e=is(t),r=yi(t,e);if(r!==null){var n=Tr();Cn(r,t,e,n)}Bm(t,e)}};oE=function(){return et};lE=function(t,e){var r=et;try{return et=t,e()}finally{et=r}};M0=function(t,e,r){switch(e){case"input":if(R0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Rh(n);if(!i)throw Error(ce(90));Ux(n),R0(n,i)}}}break;case"textarea":jx(t,r);break;case"select":e=r.value,e!=null&&Za(t,!!r.multiple,e,!1)}};qx=Lm;Xx=ea;var Ak={usingClientEntryPoint:!1,Events:[Ou,Ha,Rh,Gx,Kx,Lm]},hl={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ik={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jx(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Ah=bc.inject(Ik),jn=bc}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;en.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(e))throw Error(ce(200));return wk(t,e,null,r)};en.createRoot=function(t,e){if(!zm(t))throw Error(ce(299));var r=!1,n="",i=Nw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Um(t,1,!1,null,null,r,!1,n,i),t[_i]=e.current,tu(t.nodeType===8?t.parentNode:t),new jm(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=Jx(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return ea(t)};en.hydrate=function(t,e,r){if(!Vh(e))throw Error(ce(200));return Uh(null,t,e,!0,r)};en.hydrateRoot=function(t,e,r){if(!zm(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Nw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Rw(e,null,t,1,r??null,i,!1,s,a),t[_i]=e.current,tu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bh(e)};en.render=function(t,e,r){if(!Vh(e))throw Error(ce(200));return Uh(null,t,e,!1,r)};en.unmountComponentAtNode=function(t){if(!Vh(t))throw Error(ce(40));return t._reactRootContainer?(ea(function(){Uh(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};en.unstable_batchedUpdates=Lm;en.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vh(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Uh(t,e,r,!1,n)};en.version="18.3.1-next-f1338f8080-20240426";function Pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pw)}catch(t){console.error(t)}}Pw(),Px.exports=en;var Ck=Px.exports,J1=Ck;w0.createRoot=J1.createRoot,w0.hydrateRoot=J1.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const Z1="popstate";function kk(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return mp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Dw(i)}return Nk(e,r,null,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rk(){return Math.random().toString(36).substr(2,8)}function e_(t,e){return{usr:t.state,key:t.key,idx:e}}function mp(t,e,r,n){return r===void 0&&(r=null),cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:r,key:e&&e.key||n||Rk()})}function Dw(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Nk(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=qi.Pop,l=null,u=f();u==null&&(u=0,a.replaceState(cu({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){o=qi.Pop;let y=f(),I=y==null?null:y-u;u=y,l&&l({action:o,location:g.location,delta:I})}function d(y,I){o=qi.Push;let E=mp(g.location,y,I);u=f()+1;let S=e_(E,u),D=g.createHref(E);try{a.pushState(S,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(D)}s&&l&&l({action:o,location:g.location,delta:1})}function m(y,I){o=qi.Replace;let E=mp(g.location,y,I);u=f();let S=e_(E,u),D=g.createHref(E);a.replaceState(S,"",D),s&&l&&l({action:o,location:g.location,delta:0})}function _(y){let I=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof y=="string"?y:Dw(y);return E=E.replace(/ $/,"%20"),Pt(I,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,I)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Z1,h),l=y,()=>{i.removeEventListener(Z1,h),l=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let I=_(y);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:d,replace:m,go(y){return a.go(y)}};return g}var t_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(t_||(t_={}));function Pk(t,e,r){return r===void 0&&(r="/"),Dk(t,e,r)}function Dk(t,e,r,n){let i=typeof e=="string"?Fo(e):e,s=Lw(i.pathname||"/",r);if(s==null)return null;let a=Ow(t);Ok(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=$k(s);o=zk(a[l],u)}return o}function Ow(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Gs([n,l.relativePath]),f=r.concat(l);s.children&&s.children.length>0&&(Pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ow(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Bk(u,s.index),routesMeta:f})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Fw(s.path))i(s,a,l)}),e}function Fw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Fw(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ok(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:jk(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Fk=/^:[\w-]+$/,Lk=3,Mk=2,bk=1,Vk=10,Uk=-2,r_=t=>t==="*";function Bk(t,e){let r=t.split("/"),n=r.length;return r.some(r_)&&(n+=Uk),e&&(n+=Mk),r.filter(i=>!r_(i)).reduce((i,s)=>i+(Fk.test(s)?Lk:s===""?bk:Vk),n)}function jk(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function zk(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=Wk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),d=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Gs([s,h.pathname]),pathnameBase:Yk(Gs([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=Gs([s,h.pathnameBase]))}return a}function Wk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Hk(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,f,h)=>{let{paramName:d,isOptional:m}=f;if(d==="*"){let g=o[h]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const _=o[h];return m&&!_?u[d]=void 0:u[d]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Hk(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Wm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $k(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kk=t=>Gk.test(t);function qk(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Fo(t):t,s;if(r)if(Kk(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Wm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=n_(r.substring(1),"/"):s=n_(r,e)}else s=e;return{pathname:s,search:Qk(n),hash:Jk(i)}}function n_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function t0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Mw(t,e){let r=Xk(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Fo(t):(i=cu({},t),Pt(!i.pathname||!i.pathname.includes("?"),t0("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),t0("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),t0("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}o=h>=0?e[h]:"/"}let l=qk(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Gs=t=>t.join("/").replace(/\/\/+/g,"/"),Yk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vw=["post","put","patch","delete"];new Set(Vw);const eR=["get",...Vw];new Set(eR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fu.apply(this,arguments)}const Hm=J.createContext(null),tR=J.createContext(null),Lu=J.createContext(null),Bh=J.createContext(null),ha=J.createContext({outlet:null,matches:[],isDataRoute:!1}),Uw=J.createContext(null);function Mu(){return J.useContext(Bh)!=null}function $m(){return Mu()||Pt(!1),J.useContext(Bh).location}function Bw(t){J.useContext(Lu).static||J.useLayoutEffect(t)}function da(){let{isDataRoute:t}=J.useContext(ha);return t?pR():rR()}function rR(){Mu()||Pt(!1);let t=J.useContext(Hm),{basename:e,future:r,navigator:n}=J.useContext(Lu),{matches:i}=J.useContext(ha),{pathname:s}=$m(),a=JSON.stringify(Mw(i,r.v7_relativeSplatPath)),o=J.useRef(!1);return Bw(()=>{o.current=!0}),J.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=bw(u,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gs([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,s,t])}function nR(t,e){return iR(t,e)}function iR(t,e,r,n){Mu()||Pt(!1);let{navigator:i}=J.useContext(Lu),{matches:s}=J.useContext(ha),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=$m(),f;if(e){var h;let y=typeof e=="string"?Fo(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Pt(!1),f=y}else f=u;let d=f.pathname||"/",m=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=Pk(t,{pathname:m}),g=uR(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Gs([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Gs([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&g?J.createElement(Bh.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qi.Pop}},g):g}function sR(){let t=dR(),e=Zk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),r?J.createElement("pre",{style:i},r):null,null)}const aR=J.createElement(sR,null);class oR extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?J.createElement(ha.Provider,{value:this.props.routeContext},J.createElement(Uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lR(t){let{routeContext:e,match:r,children:n}=t,i=J.useContext(Hm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),J.createElement(ha.Provider,{value:e},n)}function uR(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);f>=0||Pt(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:d,errors:m}=r,_=h.route.loader&&d[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,d)=>{let m,_=!1,g=null,y=null;r&&(m=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||aR,l&&(u<0&&d===0?(mR("route-fallback"),_=!0,y=null):u===d&&(_=!0,y=h.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,d+1)),E=()=>{let S;return m?S=g:_?S=y:h.route.Component?S=J.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,J.createElement(lR,{match:h,routeContext:{outlet:f,matches:I,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?J.createElement(oR,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:E(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):E()},null)}var jw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jw||{}),zw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zw||{});function cR(t){let e=J.useContext(Hm);return e||Pt(!1),e}function fR(t){let e=J.useContext(tR);return e||Pt(!1),e}function hR(t){let e=J.useContext(ha);return e||Pt(!1),e}function Ww(t){let e=hR(),r=e.matches[e.matches.length-1];return r.route.id||Pt(!1),r.route.id}function dR(){var t;let e=J.useContext(Uw),r=fR(),n=Ww();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function pR(){let{router:t}=cR(jw.UseNavigateStable),e=Ww(zw.UseNavigateStable),r=J.useRef(!1);return Bw(()=>{r.current=!0}),J.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fu({fromRouteId:e},s)))},[t,e])}const i_={};function mR(t,e,r){i_[t]||(i_[t]=!0)}function gR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Na(t){let{to:e,replace:r,state:n,relative:i}=t;Mu()||Pt(!1);let{future:s,static:a}=J.useContext(Lu),{matches:o}=J.useContext(ha),{pathname:l}=$m(),u=da(),f=bw(e,Mw(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return J.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Ms(t){Pt(!1)}function vR(t){let{basename:e="/",children:r=null,location:n,navigationType:i=qi.Pop,navigator:s,static:a=!1,future:o}=t;Mu()&&Pt(!1);let l=e.replace(/^\/*/,"/"),u=J.useMemo(()=>({basename:l,navigator:s,static:a,future:fu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Fo(n));let{pathname:f="/",search:h="",hash:d="",state:m=null,key:_="default"}=n,g=J.useMemo(()=>{let y=Lw(f,l);return y==null?null:{location:{pathname:y,search:h,hash:d,state:m,key:_},navigationType:i}},[l,f,h,d,m,_,i]);return g==null?null:J.createElement(Lu.Provider,{value:u},J.createElement(Bh.Provider,{children:r,value:g}))}function _R(t){let{children:e,location:r}=t;return nR(gp(e),r)}new Promise(()=>{});function gp(t,e){e===void 0&&(e=[]);let r=[];return J.Children.forEach(t,(n,i)=>{if(!J.isValidElement(n))return;let s=[...e,i];if(n.type===J.Fragment){r.push.apply(r,gp(n.props.children,s));return}n.type!==Ms&&Pt(!1),!n.props.index||!n.props.children||Pt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=gp(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yR="6";try{window.__reactRouterVersion=yR}catch{}const xR="startTransition",s_=gI[xR];function ER(t){let{basename:e,children:r,future:n,window:i}=t,s=J.useRef();s.current==null&&(s.current=kk({window:i,v5Compat:!0}));let a=s.current,[o,l]=J.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},f=J.useCallback(h=>{u&&s_?s_(()=>l(h)):l(h)},[l,u]);return J.useLayoutEffect(()=>a.listen(f),[a,f]),J.useEffect(()=>gR(n),[n]),J.createElement(vR,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var a_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(a_||(a_={}));var o_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o_||(o_={}));var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},wR=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|o>>4;let d=(o&15)<<2|u>>6,m=u&63;l||(m=64,a||(d=64)),n.push(r[f],r[h],r[d],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||h==null)throw new TR;const d=s<<2|o>>4;if(n.push(d),u!==64){const m=o<<4&240|u>>2;if(n.push(m),h!==64){const _=u<<6&192|h;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(t){const e=Hw(t);return $w.encodeByteArray(e,!0)},$f=function(t){return SR(t).replace(/\./g,"")},Gw=function(t){try{return $w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=()=>AR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof l_>"u")return;const t=l_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gw(t[1]);return e&&JSON.parse(e)},jh=()=>{try{return IR()||CR()||kR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kw=t=>{var e,r;return(r=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},qw=t=>{const e=Kw(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Xw=()=>{var t;return(t=jh())===null||t===void 0?void 0:t.config},Yw=t=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$f(JSON.stringify(r)),$f(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function DR(){var t;const e=(t=jh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function UR(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="FirebaseError";class Qn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=BR,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?jR(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Qn(i,o,n)}}function jR(t,e){return t.replace(zR,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const zR=/\{\$([^}]+)}/g;function WR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gf(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(u_(s)&&u_(a)){if(!Gf(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function u_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xl(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function HR(t,e){const r=new $R(t,e);return r.subscribe.bind(r)}class $R{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=r0),i.error===void 0&&(i.error=r0),i.complete===void 0&&(i.complete=r0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function r0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new RR;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XR(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:qR(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qR(t){return t===bs?void 0:t}function XR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new KR(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const QR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},JR=Ue.INFO,ZR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},e4=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=ZR[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=e4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const t4=(t,e)=>e.some(r=>t instanceof r);let c_,f_;function r4(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n4(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qw=new WeakMap,vp=new WeakMap,Jw=new WeakMap,n0=new WeakMap,Km=new WeakMap;function i4(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(as(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Qw.set(r,t)}).catch(()=>{}),Km.set(e,t),e}function s4(t){if(vp.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});vp.set(t,e)}let _p={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return as(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a4(t){_p=t(_p)}function o4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(i0(this),e,...r);return Jw.set(n,e.sort?e.sort():[e]),as(n)}:n4().includes(t)?function(...e){return t.apply(i0(this),e),as(Qw.get(this))}:function(...e){return as(t.apply(i0(this),e))}}function l4(t){return typeof t=="function"?o4(t):(t instanceof IDBTransaction&&s4(t),t4(t,r4())?new Proxy(t,_p):t)}function as(t){if(t instanceof IDBRequest)return i4(t);if(n0.has(t))return n0.get(t);const e=l4(t);return e!==t&&(n0.set(t,e),Km.set(e,t)),e}const i0=t=>Km.get(t);function u4(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=as(a);return n&&a.addEventListener("upgradeneeded",l=>{n(as(a.result),l.oldVersion,l.newVersion,as(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const c4=["get","getKey","getAll","getAllKeys","count"],f4=["put","add","delete","clear"],s0=new Map;function h_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(s0.get(e))return s0.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=f4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||c4.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return s0.set(e,s),s}a4(t=>({...t,get:(e,r,n)=>h_(e,r)||t.get(e,r,n),has:(e,r)=>!!h_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(d4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function d4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",d_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Gm("@firebase/app"),p4="@firebase/app-compat",m4="@firebase/analytics-compat",g4="@firebase/analytics",v4="@firebase/app-check-compat",_4="@firebase/app-check",y4="@firebase/auth",x4="@firebase/auth-compat",E4="@firebase/database",w4="@firebase/data-connect",T4="@firebase/database-compat",S4="@firebase/functions",A4="@firebase/functions-compat",I4="@firebase/installations",C4="@firebase/installations-compat",k4="@firebase/messaging",R4="@firebase/messaging-compat",N4="@firebase/performance",P4="@firebase/performance-compat",D4="@firebase/remote-config",O4="@firebase/remote-config-compat",F4="@firebase/storage",L4="@firebase/storage-compat",M4="@firebase/firestore",b4="@firebase/vertexai-preview",V4="@firebase/firestore-compat",U4="firebase",B4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",j4={[yp]:"fire-core",[p4]:"fire-core-compat",[g4]:"fire-analytics",[m4]:"fire-analytics-compat",[_4]:"fire-app-check",[v4]:"fire-app-check-compat",[y4]:"fire-auth",[x4]:"fire-auth-compat",[E4]:"fire-rtdb",[w4]:"fire-data-connect",[T4]:"fire-rtdb-compat",[S4]:"fire-fn",[A4]:"fire-fn-compat",[I4]:"fire-iid",[C4]:"fire-iid-compat",[k4]:"fire-fcm",[R4]:"fire-fcm-compat",[N4]:"fire-perf",[P4]:"fire-perf-compat",[D4]:"fire-rc",[O4]:"fire-rc-compat",[F4]:"fire-gcs",[L4]:"fire-gcs-compat",[M4]:"fire-fst",[V4]:"fire-fst-compat",[b4]:"fire-vertex","fire-js":"fire-js",[U4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map,z4=new Map,Ep=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(r){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ta(t){const e=t.name;if(Ep.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,t);for(const r of Kf.values())p_(r,t);for(const r of z4.values())p_(r,t);return!0}function zh(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function li(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new bu("app","Firebase",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=B4;function Zw(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(r||(r=Xw()),!r)throw os.create("no-options");const s=Kf.get(i);if(s){if(Gf(r,s.options)&&Gf(n,s.config))return s;throw os.create("duplicate-app",{appName:i})}const a=new YR(i);for(const l of Ep.values())a.addComponent(l);const o=new H4(r,n,a);return Kf.set(i,o),o}function qm(t=xp){const e=Kf.get(t);if(!e&&t===xp&&Xw())return Zw();if(!e)throw os.create("no-app",{appName:t});return e}function Wn(t,e,r){var n;let i=(n=j4[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(o.join(" "));return}ta(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firebase-heartbeat-database",G4=1,hu="firebase-heartbeat-store";let a0=null;function eT(){return a0||(a0=u4($4,G4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(r){console.warn(r)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),a0}async function K4(t){try{const r=(await eT()).transaction(hu),n=await r.objectStore(hu).get(tT(t));return await r.done,n}catch(e){if(e instanceof Qn)Ei.warn(e.message);else{const r=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(r.message)}}}async function m_(t,e){try{const n=(await eT()).transaction(hu,"readwrite");await n.objectStore(hu).put(e,tT(t)),await n.done}catch(r){if(r instanceof Qn)Ei.warn(r.message);else{const n=os.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ei.warn(n.message)}}}function tT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1024,X4=30*24*60*60*1e3;class Y4{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new J4(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=X4}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ei.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=g_(),{heartbeatsToSend:n,unsentEntries:i}=Q4(this._heartbeatsCache.heartbeats),s=$f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Ei.warn(r),""}}}function g_(){return new Date().toISOString().substring(0,10)}function Q4(t,e=q4){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),v_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),v_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class J4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?UR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await K4(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v_(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){ta(new hs("platform-logger",e=>new h4(e),"PRIVATE")),ta(new hs("heartbeat",e=>new Y4(e),"PRIVATE")),Wn(yp,d_,t),Wn(yp,d_,"esm2017"),Wn("fire-js","")}Z4("");function Xm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=rT,nT=new bu("auth","Firebase",rT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Gm("@firebase/auth");function tN(t,...e){qf.logLevel<=Ue.WARN&&qf.warn(`Auth (${Lo}): ${t}`,...e)}function hf(t,...e){qf.logLevel<=Ue.ERROR&&qf.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw Ym(t,...e)}function Hn(t,...e){return Ym(t,...e)}function iT(t,e,r){const n=Object.assign(Object.assign({},eN()),{[e]:r});return new bu("auth","Firebase",n).create(e,{appName:t.name})}function ls(t){return iT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return nT.create(t,...e)}function Ne(t,e,...r){if(!t)throw Ym(e,...r)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hf(e),new Error(e)}function wi(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rN(){return __()==="http:"||__()==="https:"}function __(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||FR()||"connection"in navigator)?navigator.onLine:!0}function iN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,r){this.shortDelay=e,this.longDelay=r,wi(r>e,"Short delay should be less than long delay!"),this.isMobile=PR()||LR()}get(){return nN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e){wi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Uu(3e4,6e4);function pa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ts(t,e,r,n,i={}){return aT(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Vu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return OR()||(u.referrerPolicy="no-referrer"),sT.fetch()(oT(t,t.config.apiHost,r,o),u)})}async function aT(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},sN),e);try{const i=new lN(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Vc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Vc(t,"user-disabled",a);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iT(t,f,u);Pn(t,f)}}catch(i){if(i instanceof Qn)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function Wh(t,e,r,n,i={}){const s=await Ts(t,e,r,n,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function oT(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Qm(t.config,i):`${t.config.apiScheme}://${i}`}function oN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Hn(this.auth,"network-request-failed")),aN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Hn(t,e,n);return i.customData._tokenResponse=r,i}function y_(t){return t!==void 0&&t.enterprise!==void 0}class uN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return oN(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function cN(t,e){return Ts(t,"GET","/v2/recaptchaConfig",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function lT(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hN(t,e=!1){const r=_t(t),n=await r.getIdToken(e),i=Jm(n);Ne(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Ml(o0(i.auth_time)),issuedAtTime:Ml(o0(i.iat)),expirationTime:Ml(o0(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function o0(t){return Number(t)*1e3}function Jm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gw(r);return i?JSON.parse(i):(hf("Failed to decode base64 JWT payload"),null)}catch(i){return hf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function x_(t){const e=Jm(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Qn&&dN(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function dN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(t){var e;const r=t.auth,n=await t.getIdToken(),i=await du(t,lT(r,{idToken:n}));Ne(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uT(s.providerUserInfo):[],o=gN(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),f=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Tp(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function mN(t){const e=_t(t);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gN(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function uT(t){return t.map(e=>{var{providerId:r}=e,n=Xm(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e){const r=await aT(t,{},async()=>{const n=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=oT(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",sT.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function _N(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const r=x_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await vN(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new so;return n&&(Ne(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ne(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await du(this,this.stsTokenManager.getToken(this.auth,e));return Ne(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return hN(this,e)}reload(){return mN(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Xf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await du(this,fN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,u,f;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,m=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=r.photoURL)!==null&&a!==void 0?a:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,y=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=r.createdAt)!==null&&u!==void 0?u:void 0,E=(f=r.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:S,emailVerified:D,isAnonymous:B,providerData:j,stsTokenManager:x}=r;Ne(S&&x,e,"internal-error");const w=so.fromJSON(this.name,x);Ne(typeof S=="string",e,"internal-error"),Mi(h,e.name),Mi(d,e.name),Ne(typeof D=="boolean",e,"internal-error"),Ne(typeof B=="boolean",e,"internal-error"),Mi(m,e.name),Mi(_,e.name),Mi(g,e.name),Mi(y,e.name),Mi(I,e.name),Mi(E,e.name);const A=new ci({uid:S,auth:e,email:d,emailVerified:D,displayName:h,isAnonymous:B,photoURL:_,phoneNumber:m,tenantId:g,stsTokenManager:w,createdAt:I,lastLoginAt:E});return j&&Array.isArray(j)&&(A.providerData=j.map(T=>Object.assign({},T))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,r,n=!1){const i=new so;i.updateFromServerResponse(r);const s=new ci({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xf(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?uT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new so;o.updateFromIdToken(n);const l=new ci({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Tp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function fi(t){wi(t instanceof Function,"Expected a class definition");let e=E_.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}cT.type="NONE";const w_=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e,r){return`firebase:${t}:${e}:${r}`}class ao{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=df(this.userKey,i.apiKey,s),this.fullPersistenceKey=df("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ao(fi(w_),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||fi(w_);const a=df(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const f=await u._get(a);if(f){const h=ci._fromJSON(e,f);u!==s&&(o=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ao(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new ao(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(vT(e))return"Webos";if(hT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(mT(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function fT(t=yr()){return/firefox\//i.test(t)}function hT(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(t=yr()){return/crios\//i.test(t)}function pT(t=yr()){return/iemobile/i.test(t)}function mT(t=yr()){return/android/i.test(t)}function gT(t=yr()){return/blackberry/i.test(t)}function vT(t=yr()){return/webos/i.test(t)}function Zm(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yN(t=yr()){var e;return Zm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xN(){return MR()&&document.documentMode===10}function _T(t=yr()){return Zm(t)||mT(t)||vT(t)||gT(t)||/windows phone/i.test(t)||pT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e=[]){let r;switch(t){case"Browser":r=T_(yr());break;case"Worker":r=`${T_(yr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Lo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",pa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=6;class SN{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:TN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=fi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await lT(this,{idToken:e}),n=await ci._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(li(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(ls(this));const r=e?_t(e):null;return r&&Ne(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wN(this),r=new SN(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await _N(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&fi(e)||this._popupRedirectResolver;Ne(r,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[fi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&tN(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Mo(t){return _t(t)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=HR(r=>this.observer=r)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IN(t){Hh=t}function xT(t){return Hh.loadJS(t)}function CN(){return Hh.recaptchaEnterpriseScript}function kN(){return Hh.gapiScript}function RN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const NN="recaptcha-enterprise",PN="NO_RECAPTCHA";class DN{constructor(e){this.type=NN,this.auth=Mo(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{cN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new uN(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;y_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(PN)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&y_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=CN();l.length!==0&&(l+=o),xT(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function A_(t,e,r,n=!1){const i=new DN(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function I_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await A_(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await A_(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){const r=zh(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Gf(s,e??{}))return i;Pn(i,"already-initialized")}return r.initialize({options:e})}function FN(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function LN(t,e,r){const n=Mo(t);Ne(n._canInitEmulator,n,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=ET(e),{host:a,port:o}=MN(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),bN()}function ET(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MN(t){const e=ET(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:C_(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:C_(a)}}}function C_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bN(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,r){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function VN(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return Wh(t,"POST","/v1/accounts:signInWithPassword",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e){return Wh(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}async function jN(t,e){return Wh(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends eg{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new pu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new pu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,r,"signInWithPassword",UN);case"emailLink":return BN(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,n,"signUpPassword",VN);case"emailLink":return jN(e,{idToken:r,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e){return Wh(t,"POST","/v1/accounts:signInWithIdp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="http://localhost";class ra extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Pn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=Xm(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new ra(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return oo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,oo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,oo(e,r)}buildRequest(){const e={requestUri:zN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Vu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HN(t){const e=yl(xl(t)).link,r=e?yl(xl(e)).deep_link_id:null,n=yl(xl(t)).deep_link_id;return(n?yl(xl(n)).link:null)||n||r||e||t}class tg{constructor(e){var r,n,i,s,a,o;const l=yl(xl(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,f=(n=l.oobCode)!==null&&n!==void 0?n:null,h=WN((i=l.mode)!==null&&i!==void 0?i:null);Ne(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=HN(e);try{return new tg(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(){this.providerId=On.PROVIDER_ID}static credential(e,r){return pu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=tg.parseLink(r);return Ne(n,"argument-error"),pu._fromEmailAndCode(e,n.code,n.tenantId)}}On.PROVIDER_ID="password";On.EMAIL_PASSWORD_SIGN_IN_METHOD="password";On.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Bu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ra._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Wi.credential(r,n)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Bu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Bu{constructor(){super("twitter.com")}static credential(e,r){return ra._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return $i.credential(r,n)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ci._fromIdTokenResponse(e,n,i),a=k_(n);return new wo({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=k_(n);return new wo({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function k_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends Qn{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Yf(e,r,n,i)}}function TT(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(t,s,e,n):s})}async function $N(t,e,r=!1){const n=await du(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return wo._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t,e,r=!1){const{auth:n}=t;if(li(n.app))return Promise.reject(ls(n));const i="reauthenticate";try{const s=await du(t,TT(n,i,e,t),r);Ne(s.idToken,n,"internal-error");const a=Jm(s.idToken);Ne(a,n,"internal-error");const{sub:o}=a;return Ne(t.uid===o,n,"user-mismatch"),wo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(t,e,r=!1){if(li(t.app))return Promise.reject(ls(t));const n="signIn",i=await TT(t,n,e),s=await wo._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function GN(t,e){return AT(Mo(t),e)}async function ju(t,e){return ST(_t(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t){const e=Mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qN(t,e,r){return li(t.app)?Promise.reject(ls(t)):GN(_t(t),On.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&KN(t),n})}function XN(t,e,r,n){return _t(t).onIdTokenChanged(e,r,n)}function YN(t,e,r){return _t(t).beforeAuthStateChanged(e,r)}function QN(t,e,r,n){return _t(t).onAuthStateChanged(e,r,n)}function JN(t){return _t(t).signOut()}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1e3,eP=10;class CT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);xN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eP):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}CT.type="LOCAL";const tP=CT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}kT.type="SESSION";const RT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new $h(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await rP(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=rg("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function iP(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function sP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oP(){return NT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebaseLocalStorageDb",lP=1,Jf="firebaseLocalStorage",DT="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Gh(t,e){return t.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function uP(){const t=indexedDB.deleteDatabase(PT);return new zu(t).toPromise()}function Sp(){const t=indexedDB.open(PT,lP);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Jf,{keyPath:DT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Jf)?e(n):(n.close(),await uP(),e(await Sp()))})})}async function R_(t,e,r){const n=Gh(t,!0).put({[DT]:e,value:r});return new zu(n).toPromise()}async function cP(t,e){const r=Gh(t,!1).get(e),n=await new zu(r).toPromise();return n===void 0?null:n.value}function N_(t,e){const r=Gh(t,!0).delete(e);return new zu(r).toPromise()}const fP=800,hP=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>hP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(oP()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await sP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await R_(e,Qf,"1"),await N_(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>R_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>cP(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gh(i,!1).getAll();return new zu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const dP=OT;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){return e?fi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return oo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function mP(t){return AT(t.auth,new ng(t),t.bypassAuthState)}function gP(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),ST(r,new ng(t),t.bypassAuthState)}async function vP(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),$N(r,new ng(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mP;case"linkViaPopup":case"linkViaRedirect":return vP;case"reauthViaPopup":case"reauthViaRedirect":return gP;default:Pn(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Uu(2e3,1e4);class Qa extends FT{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_P.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="pendingRedirect",pf=new Map;class xP extends FT{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const n=await EP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EP(t,e){const r=SP(e),n=TP(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function wP(t,e){pf.set(t._key(),e)}function TP(t){return fi(t._redirectPersistence)}function SP(t){return df(yP,t.config.apiKey,t.name)}async function AP(t,e,r=!1){if(li(t.app))return Promise.reject(ls(t));const n=Mo(t),i=pP(n,e),a=await new xP(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=10*60*1e3;class CP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kP(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!LT(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Hn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IP&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PP=/^https?/;async function DP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RP(t);for(const r of e)try{if(OP(r))return}catch{}Pn(t,"unauthorized-domain")}function OP(t){const e=wp(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!PP.test(r))return!1;if(NP.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Uu(3e4,6e4);function D_(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function LP(t){return new Promise((e,r)=>{var n,i,s;function a(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),r(Hn(t,"network-request-failed"))},timeout:FP.get()})}if(!((i=(n=$n().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)a();else{const o=RN("iframefcb");return $n()[o]=()=>{gapi.load?a():r(Hn(t,"network-request-failed"))},xT(`${kN()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw mf=null,e})}let mf=null;function MP(t){return mf=mf||LP(t),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Uu(5e3,15e3),VP="__/auth/iframe",UP="emulator/auth/iframe",BP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zP(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Qm(e,UP):`https://${t.config.authDomain}/${VP}`,n={apiKey:e.apiKey,appName:t.name,v:Lo},i=jP.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Vu(n).slice(1)}`}async function WP(t){const e=await MP(t),r=$n().gapi;return Ne(r,t,"internal-error"),e.open({where:document.body,url:zP(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BP,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Hn(t,"network-request-failed"),o=$n().setTimeout(()=>{s(a)},bP.get());function l(){$n().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$P=500,GP=600,KP="_blank",qP="http://localhost";class O_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XP(t,e,r,n=$P,i=GP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},HP),{width:n.toString(),height:i.toString(),top:s,left:a}),u=yr().toLowerCase();r&&(o=dT(u)?KP:r),fT(u)&&(e=e||qP,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[m,_])=>`${d}${m}=${_},`,"");if(yN(u)&&o!=="_self")return YP(e||"",o),new O_(null);const h=window.open(e||"",o,f);Ne(h,t,"popup-blocked");try{h.focus()}catch{}return new O_(h)}function YP(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="__/auth/handler",JP="emulator/auth/handler",ZP=encodeURIComponent("fac");async function F_(t,e,r,n,i,s){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Lo,eventId:i};if(e instanceof wT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",WR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof Bu){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),u=l?`#${ZP}=${encodeURIComponent(l)}`:"";return`${eD(t)}?${Vu(o).slice(1)}${u}`}function eD({config:t}){return t.emulator?Qm(t,JP):`https://${t.authDomain}/${QP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="webStorageSupport";class tD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=AP,this._overrideRedirectResult=wP}async _openPopup(e,r,n,i){var s;wi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await F_(e,r,n,wp(),i);return XP(e,a,rg())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await F_(e,r,n,wp(),i);return iP(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(wi(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await WP(e),n=new CP(e);return r.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(l0,{type:l0},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[l0];a!==void 0&&r(!!a),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=DP(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return _T()||hT()||Zm()}}const rD=tD;var L_="@firebase/auth",M_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sD(t){ta(new hs("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(t)},u=new AN(n,i,s,l);return FN(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ta(new hs("auth-internal",e=>{const r=Mo(e.getProvider("auth").getImmediate());return(n=>new nD(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(L_,M_,iD(t)),Wn(L_,M_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=5*60,oD=Yw("authIdTokenMaxAge")||aD;let b_=null;const lD=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>oD)return;const i=r==null?void 0:r.token;b_!==i&&(b_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uD(t=qm()){const e=zh(t,"auth");if(e.isInitialized())return e.getImmediate();const r=ON(t,{popupRedirectResolver:rD,persistence:[dP,tP,RT]}),n=Yw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=lD(s.toString());YN(r,a,()=>a(r.currentUser)),XN(r,o=>a(o))}}const i=Kw("auth");return i&&LN(r,`http://${i}`),r}function cD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IN({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Hn("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",cD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sD("Browser");var fD="firebase",hD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(fD,hD,"app");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,MT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function A(){}A.prototype=w.prototype,x.D=w.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(T,R,L){for(var N=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)N[Ie-2]=arguments[Ie];return w.prototype[R].apply(T,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,w,A){A||(A=0);var T=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)T[R]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(R=0;16>R;++R)T[R]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=x.g[0],A=x.g[1],R=x.g[2];var L=x.g[3],N=w+(L^A&(R^L))+T[0]+3614090360&4294967295;w=A+(N<<7&4294967295|N>>>25),N=L+(R^w&(A^R))+T[1]+3905402710&4294967295,L=w+(N<<12&4294967295|N>>>20),N=R+(A^L&(w^A))+T[2]+606105819&4294967295,R=L+(N<<17&4294967295|N>>>15),N=A+(w^R&(L^w))+T[3]+3250441966&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(L^A&(R^L))+T[4]+4118548399&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(R^w&(A^R))+T[5]+1200080426&4294967295,L=w+(N<<12&4294967295|N>>>20),N=R+(A^L&(w^A))+T[6]+2821735955&4294967295,R=L+(N<<17&4294967295|N>>>15),N=A+(w^R&(L^w))+T[7]+4249261313&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(L^A&(R^L))+T[8]+1770035416&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(R^w&(A^R))+T[9]+2336552879&4294967295,L=w+(N<<12&4294967295|N>>>20),N=R+(A^L&(w^A))+T[10]+4294925233&4294967295,R=L+(N<<17&4294967295|N>>>15),N=A+(w^R&(L^w))+T[11]+2304563134&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(L^A&(R^L))+T[12]+1804603682&4294967295,w=A+(N<<7&4294967295|N>>>25),N=L+(R^w&(A^R))+T[13]+4254626195&4294967295,L=w+(N<<12&4294967295|N>>>20),N=R+(A^L&(w^A))+T[14]+2792965006&4294967295,R=L+(N<<17&4294967295|N>>>15),N=A+(w^R&(L^w))+T[15]+1236535329&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(R^L&(A^R))+T[1]+4129170786&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^R&(w^A))+T[6]+3225465664&4294967295,L=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(L^w))+T[11]+643717713&4294967295,R=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(R^L))+T[0]+3921069994&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(R^L&(A^R))+T[5]+3593408605&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^R&(w^A))+T[10]+38016083&4294967295,L=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(L^w))+T[15]+3634488961&4294967295,R=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(R^L))+T[4]+3889429448&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(R^L&(A^R))+T[9]+568446438&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^R&(w^A))+T[14]+3275163606&4294967295,L=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(L^w))+T[3]+4107603335&4294967295,R=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(R^L))+T[8]+1163531501&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(R^L&(A^R))+T[13]+2850285829&4294967295,w=A+(N<<5&4294967295|N>>>27),N=L+(A^R&(w^A))+T[2]+4243563512&4294967295,L=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(L^w))+T[7]+1735328473&4294967295,R=L+(N<<14&4294967295|N>>>18),N=A+(L^w&(R^L))+T[12]+2368359562&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(A^R^L)+T[5]+4294588738&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^R)+T[8]+2272392833&4294967295,L=w+(N<<11&4294967295|N>>>21),N=R+(L^w^A)+T[11]+1839030562&4294967295,R=L+(N<<16&4294967295|N>>>16),N=A+(R^L^w)+T[14]+4259657740&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(A^R^L)+T[1]+2763975236&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^R)+T[4]+1272893353&4294967295,L=w+(N<<11&4294967295|N>>>21),N=R+(L^w^A)+T[7]+4139469664&4294967295,R=L+(N<<16&4294967295|N>>>16),N=A+(R^L^w)+T[10]+3200236656&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(A^R^L)+T[13]+681279174&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^R)+T[0]+3936430074&4294967295,L=w+(N<<11&4294967295|N>>>21),N=R+(L^w^A)+T[3]+3572445317&4294967295,R=L+(N<<16&4294967295|N>>>16),N=A+(R^L^w)+T[6]+76029189&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(A^R^L)+T[9]+3654602809&4294967295,w=A+(N<<4&4294967295|N>>>28),N=L+(w^A^R)+T[12]+3873151461&4294967295,L=w+(N<<11&4294967295|N>>>21),N=R+(L^w^A)+T[15]+530742520&4294967295,R=L+(N<<16&4294967295|N>>>16),N=A+(R^L^w)+T[2]+3299628645&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(R^(A|~L))+T[0]+4096336452&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~R))+T[7]+1126891415&4294967295,L=w+(N<<10&4294967295|N>>>22),N=R+(w^(L|~A))+T[14]+2878612391&4294967295,R=L+(N<<15&4294967295|N>>>17),N=A+(L^(R|~w))+T[5]+4237533241&4294967295,A=R+(N<<21&4294967295|N>>>11),N=w+(R^(A|~L))+T[12]+1700485571&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~R))+T[3]+2399980690&4294967295,L=w+(N<<10&4294967295|N>>>22),N=R+(w^(L|~A))+T[10]+4293915773&4294967295,R=L+(N<<15&4294967295|N>>>17),N=A+(L^(R|~w))+T[1]+2240044497&4294967295,A=R+(N<<21&4294967295|N>>>11),N=w+(R^(A|~L))+T[8]+1873313359&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~R))+T[15]+4264355552&4294967295,L=w+(N<<10&4294967295|N>>>22),N=R+(w^(L|~A))+T[6]+2734768916&4294967295,R=L+(N<<15&4294967295|N>>>17),N=A+(L^(R|~w))+T[13]+1309151649&4294967295,A=R+(N<<21&4294967295|N>>>11),N=w+(R^(A|~L))+T[4]+4149444226&4294967295,w=A+(N<<6&4294967295|N>>>26),N=L+(A^(w|~R))+T[11]+3174756917&4294967295,L=w+(N<<10&4294967295|N>>>22),N=R+(w^(L|~A))+T[2]+718787259&4294967295,R=L+(N<<15&4294967295|N>>>17),N=A+(L^(R|~w))+T[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+L&4294967295}n.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var A=w-this.blockSize,T=this.B,R=this.h,L=0;L<w;){if(R==0)for(;L<=A;)i(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<w;)if(T[R++]=x.charCodeAt(L++),R==this.blockSize){i(this,T),R=0;break}}else for(;L<w;)if(T[R++]=x[L++],R==this.blockSize){i(this,T),R=0;break}}this.h=R,this.o+=w},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var A=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=A&255,A/=256;for(this.u(x),x=Array(16),w=A=0;4>w;++w)for(var T=0;32>T;T+=8)x[A++]=this.g[w]>>>T&255;return x};function s(x,w){var A=o;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=w(x)}function a(x,w){this.h=w;for(var A=[],T=!0,R=x.length-1;0<=R;R--){var L=x[R]|0;T&&L==w||(A[R]=L,T=!1)}this.g=A}var o={};function l(x){return-128<=x&&128>x?s(x,function(w){return new a([w|0],0>w?-1:0)}):new a([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return y(u(-x));for(var w=[],A=1,T=0;x>=A;T++)w[T]=x/A|0,A*=4294967296;return new a(w,0)}function f(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return y(f(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(w,8)),T=h,R=0;R<x.length;R+=8){var L=Math.min(8,x.length-R),N=parseInt(x.substring(R,R+L),w);8>L?(L=u(Math.pow(w,L)),T=T.j(L).add(u(N))):(T=T.j(A),T=T.add(u(N)))}return T}var h=l(0),d=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var x=0,w=1,A=0;A<this.g.length;A++){var T=this.i(A);x+=(0<=T?T:4294967296+T)*w,w*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(_(this))return"0";if(g(this))return"-"+y(this).toString(x);for(var w=u(Math.pow(x,6)),A=this,T="";;){var R=D(A,w).g;A=I(A,R.j(w));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=R,_(A))return L+T;for(;6>L.length;)L="0"+L;T=L+T}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function _(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=I(this,x),g(x)?-1:_(x)?0:1};function y(x){for(var w=x.g.length,A=[],T=0;T<w;T++)A[T]=~x.g[T];return new a(A,~x.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],T=0,R=0;R<=w;R++){var L=T+(this.i(R)&65535)+(x.i(R)&65535),N=(L>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);T=N>>>16,L&=65535,N&=65535,A[R]=N<<16|L}return new a(A,A[A.length-1]&-2147483648?-1:0)};function I(x,w){return x.add(y(w))}t.j=function(x){if(_(this)||_(x))return h;if(g(this))return g(x)?y(this).j(y(x)):y(y(this).j(x));if(g(x))return y(this.j(y(x)));if(0>this.l(m)&&0>x.l(m))return u(this.m()*x.m());for(var w=this.g.length+x.g.length,A=[],T=0;T<2*w;T++)A[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<x.g.length;R++){var L=this.i(T)>>>16,N=this.i(T)&65535,Ie=x.i(R)>>>16,ke=x.i(R)&65535;A[2*T+2*R]+=N*ke,E(A,2*T+2*R),A[2*T+2*R+1]+=L*ke,E(A,2*T+2*R+1),A[2*T+2*R+1]+=N*Ie,E(A,2*T+2*R+1),A[2*T+2*R+2]+=L*Ie,E(A,2*T+2*R+2)}for(T=0;T<w;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=w;T<2*w;T++)A[T]=0;return new a(A,0)};function E(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function S(x,w){this.g=x,this.h=w}function D(x,w){if(_(w))throw Error("division by zero");if(_(x))return new S(h,h);if(g(x))return w=D(y(x),w),new S(y(w.g),y(w.h));if(g(w))return w=D(x,y(w)),new S(y(w.g),w.h);if(30<x.g.length){if(g(x)||g(w))throw Error("slowDivide_ only works with positive integers.");for(var A=d,T=w;0>=T.l(x);)A=B(A),T=B(T);var R=j(A,1),L=j(T,1);for(T=j(T,2),A=j(A,2);!_(T);){var N=L.add(T);0>=N.l(x)&&(R=R.add(A),L=N),T=j(T,1),A=j(A,1)}return w=I(x,R.j(w)),new S(R,w)}for(R=h;0<=x.l(w);){for(A=Math.max(1,Math.floor(x.m()/w.m())),T=Math.ceil(Math.log(A)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),L=u(A),N=L.j(w);g(N)||0<N.l(x);)A-=T,L=u(A),N=L.j(w);_(L)&&(L=d),R=R.add(L),x=I(x,N)}return new S(R,x)}t.A=function(x){return D(this,x).h},t.and=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)&x.i(T);return new a(A,this.h&x.h)},t.or=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)|x.i(T);return new a(A,this.h|x.h)},t.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),A=[],T=0;T<w;T++)A[T]=this.i(T)^x.i(T);return new a(A,this.h^x.h)};function B(x){for(var w=x.g.length+1,A=[],T=0;T<w;T++)A[T]=x.i(T)<<1|x.i(T-1)>>>31;return new a(A,x.h)}function j(x,w){var A=w>>5;w%=32;for(var T=x.g.length-A,R=[],L=0;L<T;L++)R[L]=0<w?x.i(L+A)>>>w|x.i(L+A+1)<<32-w:x.i(L+A);return new a(R,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,MT=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,Ks=a}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,El,VT,gf,Ap,UT,BT,jT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var n=r(this);function i(c,p){if(p)e:{var v=n;c=c.split(".");for(var P=0;P<c.length-1;P++){var G=c[P];if(!(G in v))break e;v=v[G]}c=c[c.length-1],P=v[c],p=p(P),p!=P&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,P=!1,G={next:function(){if(!P&&v<c.length){var ee=v++;return{value:p(ee,c[ee]),done:!1}}return P=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function f(c,p,v){return c.call.apply(c.bind,arguments)}function h(c,p,v){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,P),c.apply(p,G)}}return function(){return c.apply(p,arguments)}}function d(c,p,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,d.apply(null,arguments)}function m(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var P=v.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function _(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(P,G,ee){for(var ve=Array(arguments.length-2),st=2;st<arguments.length;st++)ve[st-2]=arguments[st];return p.prototype[G].apply(P,ve)}}function g(c){const p=c.length;if(0<p){const v=Array(p);for(let P=0;P<p;P++)v[P]=c[P];return v}return[]}function y(c,p){for(let v=1;v<arguments.length;v++){const P=arguments[v];if(l(P)){const G=c.length||0,ee=P.length||0;c.length=G+ee;for(let ve=0;ve<ee;ve++)c[G+ve]=P[ve]}else c.push(P)}}class I{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var B=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(c,p,v){for(const P in c)p.call(v,c[P],P,c)}function x(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function w(c){const p={};for(const v in c)p[v]=c[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,p){let v,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(v in P)c[v]=P[v];for(let ee=0;ee<A.length;ee++)v=A[ee],Object.prototype.hasOwnProperty.call(P,v)&&(c[v]=P[v])}}function R(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function L(c){o.setTimeout(()=>{throw c},0)}function N(){var c=te;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ie{constructor(){this.h=this.g=null}add(p,v){const P=ke.get();P.set(p,v),this.h?this.h.next=P:this.g=P,this.h=P}}var ke=new I(()=>new Xe,c=>c.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Y=!1,te=new Ie,re=()=>{const c=o.Promise.resolve(void 0);se=()=>{c.then(_e)}};var _e=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){L(v)}var p=ke;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}Y=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};o.addEventListener("test",v,p),o.removeEventListener("test",v,p)}catch{}return c}();function z(c,p){if(H.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(B){e:{try{D(p.nodeName);var G=!0;break e}catch{}G=!1}G||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:K[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&z.aa.h.call(this)}}_(z,H);var K={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Se(c,p,v,P,G){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!P,this.ha=G,this.key=++xe,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function We(c){this.src=c,this.g={},this.h=0}We.prototype.add=function(c,p,v,P,G){var ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);var ve=Ft(c,p,P,G);return-1<ve?(p=c[ve],v||(p.fa=!1)):(p=new Se(p,this.src,ee,!!P,G),p.fa=v,c.push(p)),p};function Me(c,p){var v=p.type;if(v in c.g){var P=c.g[v],G=Array.prototype.indexOf.call(P,p,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(P,G,1),ee&&(me(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ft(c,p,v,P){for(var G=0;G<c.length;++G){var ee=c[G];if(!ee.da&&ee.listener==p&&ee.capture==!!v&&ee.ha==P)return G}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),jr={};function ot(c,p,v,P,G){if(Array.isArray(p)){for(var ee=0;ee<p.length;ee++)ot(c,p[ee],v,P,G);return null}return v=Cs(v),c&&c[he]?c.K(p,v,u(P)?!!P.capture:!1,G):Ae(c,p,v,!1,P,G)}function Ae(c,p,v,P,G,ee){if(!p)throw Error("Invalid event type");var ve=u(G)?!!G.capture:!!G,st=Is(c);if(st||(c[Be]=st=new We(c)),v=st.add(p,v,P,ve,ee),v.proxy)return v;if(P=Rr(),v.proxy=P,P.src=c,P.listener=v,c.addEventListener)W||(G=ve),G===void 0&&(G=!1),c.addEventListener(p.toString(),P,G);else if(c.attachEvent)c.attachEvent(Jn(p.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rr(){function c(v){return p.call(c.src,c.listener,v)}const p=nc;return c}function rn(c,p,v,P,G){if(Array.isArray(p))for(var ee=0;ee<p.length;ee++)rn(c,p[ee],v,P,G);else P=u(P)?!!P.capture:!!P,v=Cs(v),c&&c[he]?(c=c.i,p=String(p).toString(),p in c.g&&(ee=c.g[p],v=Ft(ee,v,P,G),-1<v&&(me(ee[v]),Array.prototype.splice.call(ee,v,1),ee.length==0&&(delete c.g[p],c.h--)))):c&&(c=Is(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ft(p,v,P,G)),(v=-1<c?p[c]:null)&&gn(v))}function gn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[he])Me(p.i,c);else{var v=c.type,P=c.proxy;p.removeEventListener?p.removeEventListener(v,P,c.capture):p.detachEvent?p.detachEvent(Jn(v),P):p.addListener&&p.removeListener&&p.removeListener(P),(v=Is(p))?(Me(v,c),v.h==0&&(v.src=null,p[Be]=null)):me(c)}}}function Jn(c){return c in jr?jr[c]:jr[c]="on"+c}function nc(c,p){if(c.da)c=!0;else{p=new z(p,this);var v=c.listener,P=c.ha||c.src;c.fa&&gn(c),c=v.call(P,p)}return c}function Is(c){return c=c[Be],c instanceof We?c:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cs(c){return typeof c=="function"?c:(c[Nr]||(c[Nr]=function(p){return c.handleEvent(p)}),c[Nr])}function It(){V.call(this),this.i=new We(this),this.M=this,this.F=null}_(It,V),It.prototype[he]=!0,It.prototype.removeEventListener=function(c,p,v,P){rn(this,c,p,v,P)};function Lt(c,p){var v,P=c.F;if(P)for(v=[];P;P=P.F)v.push(P);if(c=c.M,P=p.type||p,typeof p=="string")p=new H(p,c);else if(p instanceof H)p.target=p.target||c;else{var G=p;p=new H(P,c),T(p,G)}if(G=!0,v)for(var ee=v.length-1;0<=ee;ee--){var ve=p.g=v[ee];G=nn(ve,P,!0,p)&&G}if(ve=p.g=c,G=nn(ve,P,!0,p)&&G,G=nn(ve,P,!1,p)&&G,v)for(ee=0;ee<v.length;ee++)ve=p.g=v[ee],G=nn(ve,P,!1,p)&&G}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],P=0;P<v.length;P++)me(v[P]);delete c.g[p],c.h--}}this.F=null},It.prototype.K=function(c,p,v,P){return this.i.add(String(c),p,!1,v,P)},It.prototype.L=function(c,p,v,P){return this.i.add(String(c),p,!0,v,P)};function nn(c,p,v,P){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var G=!0,ee=0;ee<p.length;++ee){var ve=p[ee];if(ve&&!ve.da&&ve.capture==v){var st=ve.listener,qt=ve.ha||ve.src;ve.fa&&Me(c.i,ve),G=st.call(qt,P)!==!1&&G}}return G&&!P.defaultPrevented}function ic(c,p,v){if(typeof c=="function")v&&(c=d(c,v));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(c,p||0)}function Go(c){c.g=ic(()=>{c.g=null,c.i&&(c.i=!1,Go(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class sc extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(c){V.call(this),this.h=c,this.g={}}_(Ni,V);var Ko=[];function qo(c){j(c.g,function(p,v){this.g.hasOwnProperty(v)&&gn(p)},c),c.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),qo(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wa=o.JSON.stringify,yd=o.JSON.parse,xd=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ta(){}Ta.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Yo(){}var ks={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qo(){H.call(this,"d")}_(Qo,H);function Pi(){H.call(this,"c")}_(Pi,H);var Zn={},ac=null;function Sa(){return ac=ac||new It}Zn.La="serverreachability";function oc(c){H.call(this,Zn.La,c)}_(oc,H);function Rs(c){const p=Sa();Lt(p,new oc(p))}Zn.STAT_EVENT="statevent";function lc(c,p){H.call(this,Zn.STAT_EVENT,c),this.stat=p}_(lc,H);function Kt(c){const p=Sa();Lt(p,new lc(p,c))}Zn.Ma="timingevent";function uc(c,p){H.call(this,Zn.Ma,c),this.size=p}_(uc,H);function ei(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function Ns(){this.g=!0}Ns.prototype.xa=function(){this.g=!1};function Ed(c,p,v,P,G,ee){c.info(function(){if(c.g)if(ee)for(var ve="",st=ee.split("&"),qt=0;qt<st.length;qt++){var He=st[qt].split("=");if(1<He.length){var lr=He[0];He=He[1];var ur=lr.split("_");ve=2<=ur.length&&ur[1]=="type"?ve+(lr+"="+He+"&"):ve+(lr+"=redacted&")}}else ve=null;else ve=ee;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+p+`
`+v+`
`+ve})}function wd(c,p,v,P,G,ee,ve){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+p+`
`+v+`
`+ee+" "+ve})}function C(c,p,v,P){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+O(c,v)+(P?" "+P:"")})}function M(c,p){c.info(function(){return"TIMEOUT: "+p})}Ns.prototype.info=function(){};function O(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var P=v[c];if(!(2>P.length)){var G=P[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ve=1;ve<G.length;ve++)G[ve]=""}}}}return wa(v)}catch{return p}}var F={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},b={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},U;function q(){}_(q,Ta),q.prototype.g=function(){return new XMLHttpRequest},q.prototype.i=function(){return{}},U=new q;function ne(c,p,v,P){this.j=c,this.i=p,this.l=v,this.R=P||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X}function X(){this.i=null,this.g="",this.h=!1}var Q={},Z={};function ue(c,p,v){c.L=1,c.v=hc(ri(p)),c.m=v,c.P=!0,ge(c,null)}function ge(c,p){c.F=Date.now(),ye(c),c.A=ri(c.v);var v=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),wv(v.i,"t",P),c.C=0,v=c.j.J,c.h=new X,c.g=Bv(c.j,v?p:null,!c.m),0<c.O&&(c.M=new sc(d(c.Y,c,c.g),c.O)),p=c.U,v=c.g,P=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ko[0]=G.toString()),G=Ko);for(var ee=0;ee<G.length;ee++){var ve=ot(v,G[ee],P||p.handleEvent,!1,p.h||p);if(!ve)break;p.g[ve.key]=ve}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Rs(),Ed(c.i,c.u,c.A,c.l,c.R,c.m)}ne.prototype.ca=function(c){c=c.target;const p=this.M;p&&ni(c)==3?p.j():this.Y(c)},ne.prototype.Y=function(c){try{if(c==this.g)e:{const ur=ni(this.g);var p=this.g.Ba();const ka=this.g.Z();if(!(3>ur)&&(ur!=3||this.g&&(this.h.h||this.g.oa()||Rv(this.g)))){this.J||ur!=4||p==7||(p==8||0>=ka?Rs(3):Rs(2)),it(this);var v=this.g.Z();this.X=v;t:if(Ee(this)){var P=Rv(this.g);c="";var G=P.length,ee=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),Ye(this);var ve="";break t}this.h.i=new o.TextDecoder}for(p=0;p<G;p++)this.h.h=!0,c+=this.h.i.decode(P[p],{stream:!(ee&&p==G-1)});P.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=v==200,wd(this.i,this.u,this.A,this.l,this.R,ur,v),this.o){if(this.T&&!this.K){t:{if(this.g){var st,qt=this.g;if((st=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(st)){var He=st;break t}}He=null}if(v=He)C(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,v);else{this.o=!1,this.s=3,Kt(12),dt(this),Ye(this);break e}}if(this.P){v=!0;let vn;for(;!this.J&&this.C<ve.length;)if(vn=fe(this,ve),vn==Z){ur==4&&(this.s=4,Kt(14),v=!1),C(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Q){this.s=4,Kt(15),C(this.i,this.l,ve,"[Invalid Chunk]"),v=!1;break}else C(this.i,this.l,vn,null),ti(this,vn);if(Ee(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ur!=4||ve.length!=0||this.h.h||(this.s=1,Kt(16),v=!1),this.o=this.o&&v,!v)C(this.i,this.l,ve,"[Invalid Chunked Response]"),dt(this),Ye(this);else if(0<ve.length&&!this.W){this.W=!0;var lr=this.j;lr.g==this&&lr.ba&&!lr.M&&(lr.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Cd(lr),lr.M=!0,Kt(11))}}else C(this.i,this.l,ve,null),ti(this,ve);ur==4&&dt(this),this.o&&!this.J&&(ur==4?Mv(this.j,this):(this.o=!1,ye(this)))}else QA(this.g),v==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),dt(this),Ye(this)}}}catch{}finally{}};function Ee(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fe(c,p){var v=c.C,P=p.indexOf(`
`,v);return P==-1?Z:(v=Number(p.substring(v,P)),isNaN(v)?Q:(P+=1,P+v>p.length?Z:(p=p.slice(P,P+v),c.C=P+v,p)))}ne.prototype.cancel=function(){this.J=!0,dt(this)};function ye(c){c.S=Date.now()+c.I,Pe(c,c.I)}function Pe(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ei(d(c.ba,c),p)}function it(c){c.B&&(o.clearTimeout(c.B),c.B=null)}ne.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(M(this.i,this.A),this.L!=2&&(Rs(),Kt(17)),dt(this),this.s=2,Ye(this)):Pe(this,this.S-c)};function Ye(c){c.j.G==0||c.J||Mv(c.j,c)}function dt(c){it(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,qo(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function ti(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||zr(v.h,c))){if(!c.K&&zr(v.h,c)&&v.G==3){try{var P=v.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)_c(v),gc(v);else break e;Id(v),Kt(18)}}else v.za=G[1],0<v.za-v.T&&37500>G[2]&&v.F&&v.v==0&&!v.C&&(v.C=ei(d(v.Za,v),6e3));if(1>=Aa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Os(v,11)}else if((c.K||v.g==c)&&_c(v),!E(p))for(G=v.Da.g.parse(p),p=0;p<G.length;p++){let He=G[p];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const lr=He[3];lr!=null&&(v.la=lr,v.j.info("VER="+v.la));const ur=He[4];ur!=null&&(v.Aa=ur,v.j.info("SVER="+v.Aa));const ka=He[5];ka!=null&&typeof ka=="number"&&0<ka&&(P=1.5*ka,v.L=P,v.j.info("backChannelRequestTimeoutMs_="+P)),P=v;const vn=c.g;if(vn){const xc=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var ee=P.h;ee.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Td(ee,ee.h),ee.h=null))}if(P.D){const kd=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;kd&&(P.ya=kd,lt(P.I,P.D,kd))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),P=v;var ve=c;if(P.qa=Uv(P,P.J?P.ia:null,P.W),ve.K){pv(P.h,ve);var st=ve,qt=P.L;qt&&(st.I=qt),st.B&&(it(st),ye(st)),P.g=ve}else Fv(P);0<v.i.length&&vc(v)}else He[0]!="stop"&&He[0]!="close"||Os(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Os(v,7):Ad(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}Rs(4)}catch{}}var Ps=class{constructor(c,p){this.g=c,this.map=p}};function Di(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Aa(c){return c.h?1:c.g?c.g.size:0}function zr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Td(c,p){c.g?c.g.add(p):c.h=p}function pv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Di.prototype.cancel=function(){if(this.i=mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return g(c.i)}function MA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,P=0;P<v;P++)p.push(c[P]);return p}p=[],v=0;for(P in c)p[v++]=c[P];return p}function bA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const P in c)p[v++]=P;return p}}}function gv(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=bA(c),P=MA(c),G=P.length,ee=0;ee<G;ee++)p.call(void 0,P[ee],v&&v[ee],c)}var vv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VA(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var P=c[v].indexOf("="),G=null;if(0<=P){var ee=c[v].substring(0,P);G=c[v].substring(P+1)}else ee=c[v];p(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ds(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ds){this.h=c.h,cc(this,c.j),this.o=c.o,this.g=c.g,fc(this,c.s),this.l=c.l;var p=c.i,v=new el;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),_v(this,v),this.m=c.m}else c&&(p=String(c).match(vv))?(this.h=!1,cc(this,p[1]||"",!0),this.o=Jo(p[2]||""),this.g=Jo(p[3]||"",!0),fc(this,p[4]),this.l=Jo(p[5]||"",!0),_v(this,p[6]||"",!0),this.m=Jo(p[7]||"")):(this.h=!1,this.i=new el(null,this.h))}Ds.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Zo(p,yv,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Zo(p,yv,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Zo(v,v.charAt(0)=="/"?jA:BA,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Zo(v,WA)),c.join("")};function ri(c){return new Ds(c)}function cc(c,p,v){c.j=v?Jo(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function fc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function _v(c,p,v){p instanceof el?(c.i=p,HA(c.i,c.h)):(v||(p=Zo(p,zA)),c.i=new el(p,c.h))}function lt(c,p,v){c.i.set(p,v)}function hc(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Jo(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zo(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,UA),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function UA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yv=/[#\/\?@]/g,BA=/[#\?:]/g,jA=/[#\?]/g,zA=/[#\?@]/g,WA=/#/g;function el(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Oi(c){c.g||(c.g=new Map,c.h=0,c.i&&VA(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=el.prototype,t.add=function(c,p){Oi(this),this.i=null,c=Ia(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function xv(c,p){Oi(c),p=Ia(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ev(c,p){return Oi(c),p=Ia(c,p),c.g.has(p)}t.forEach=function(c,p){Oi(this),this.g.forEach(function(v,P){v.forEach(function(G){c.call(p,G,P,this)},this)},this)},t.na=function(){Oi(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let P=0;P<p.length;P++){const G=c[P];for(let ee=0;ee<G.length;ee++)v.push(p[P])}return v},t.V=function(c){Oi(this);let p=[];if(typeof c=="string")Ev(this,c)&&(p=p.concat(this.g.get(Ia(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return Oi(this),this.i=null,c=Ia(this,c),Ev(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function wv(c,p,v){xv(c,p),0<v.length&&(c.i=null,c.g.set(Ia(c,p),g(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var P=p[v];const ee=encodeURIComponent(String(P)),ve=this.V(P);for(P=0;P<ve.length;P++){var G=ee;ve[P]!==""&&(G+="="+encodeURIComponent(String(ve[P]))),c.push(G)}}return this.i=c.join("&")};function Ia(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function HA(c,p){p&&!c.j&&(Oi(c),c.i=null,c.g.forEach(function(v,P){var G=P.toLowerCase();P!=G&&(xv(this,P),wv(this,G,v))},c)),c.j=p}function $A(c,p){const v=new Ns;if(o.Image){const P=new Image;P.onload=m(Fi,v,"TestLoadImage: loaded",!0,p,P),P.onerror=m(Fi,v,"TestLoadImage: error",!1,p,P),P.onabort=m(Fi,v,"TestLoadImage: abort",!1,p,P),P.ontimeout=m(Fi,v,"TestLoadImage: timeout",!1,p,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else p(!1)}function GA(c,p){const v=new Ns,P=new AbortController,G=setTimeout(()=>{P.abort(),Fi(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:P.signal}).then(ee=>{clearTimeout(G),ee.ok?Fi(v,"TestPingServer: ok",!0,p):Fi(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(G),Fi(v,"TestPingServer: error",!1,p)})}function Fi(c,p,v,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(v)}catch{}}function KA(){this.g=new xd}function qA(c,p,v){const P=v||"";try{gv(c,function(G,ee){let ve=G;u(G)&&(ve=wa(G)),p.push(P+ee+"="+encodeURIComponent(ve))})}catch(G){throw p.push(P+"type="+encodeURIComponent("_badmap")),G}}function dc(c){this.l=c.Ub||null,this.j=c.eb||!1}_(dc,Ta),dc.prototype.g=function(){return new pc(this.l,this.j)},dc.prototype.i=function(c){return function(){return c}}({});function pc(c,p){It.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(pc,It),t=pc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,rl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?tl(this):rl(this),this.readyState==3&&Tv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,tl(this))},t.Qa=function(c){this.g&&(this.response=c,tl(this))},t.ga=function(){this.g&&tl(this)};function tl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,rl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function rl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sv(c){let p="";return j(c,function(v,P){p+=P,p+=":",p+=v,p+=`\r
`}),p}function Sd(c,p,v){e:{for(P in v){var P=!1;break e}P=!0}P||(v=Sv(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):lt(c,p,v))}function xt(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(xt,It);var XA=/^https?$/i,YA=["POST","PUT"];t=xt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():U.g(),this.v=this.o?Xo(this.o):Xo(U),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(ee){Av(this,ee);return}if(c=v||"",v=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)v.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ee of P.keys())v.set(ee,P.get(ee));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(v.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(YA,p,void 0))||P||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ve]of v)this.g.setRequestHeader(ee,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kv(this),this.u=!0,this.g.send(c),this.u=!1}catch(ee){Av(this,ee)}};function Av(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Iv(c),mc(c)}function Iv(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mc(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cv(this):this.bb())},t.bb=function(){Cv(this)};function Cv(c){if(c.h&&typeof a<"u"&&(!c.v[1]||ni(c)!=4||c.Z()!=2)){if(c.u&&ni(c)==4)ic(c.Ea,0,c);else if(Lt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var P;if(P=ve===0){var G=String(c.D).match(vv)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),P=!XA.test(G?G.toLowerCase():"")}v=P}if(v)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var ee=2<ni(c)?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.Z()+"]",Iv(c)}}finally{mc(c)}}}}function mc(c,p){if(c.g){kv(c);const v=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Lt(c,"ready");try{v.onreadystatechange=P}catch{}}}function kv(c){c.I&&(o.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),yd(p)}};function Rv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function QA(c){const p={};c=(c.g&&2<=ni(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(E(c[P]))continue;var v=R(c[P]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const ee=p[G]||[];p[G]=ee,ee.push(v)}x(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nl(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Nv(c){this.Aa=0,this.i=[],this.j=new Ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nl("baseRetryDelayMs",5e3,c),this.cb=nl("retryDelaySeedMs",1e4,c),this.Wa=nl("forwardChannelMaxRetries",2,c),this.wa=nl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new KA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nv.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,P){Kt(0),this.W=c,this.H=p||{},v&&P!==void 0&&(this.H.OSID=v,this.H.OAID=P),this.F=this.X,this.I=Uv(this,null,this.W),vc(this)};function Ad(c){if(Pv(c),c.G==3){var p=c.U++,v=ri(c.I);if(lt(v,"SID",c.K),lt(v,"RID",p),lt(v,"TYPE","terminate"),il(c,v),p=new ne(c,c.j,p),p.L=2,p.v=hc(ri(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&o.Image&&(new Image().src=p.v,v=!0),v||(p.g=Bv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ye(p)}Vv(c)}function gc(c){c.g&&(Cd(c),c.g.cancel(),c.g=null)}function Pv(c){gc(c),c.u&&(o.clearTimeout(c.u),c.u=null),_c(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function vc(c){if(!Fn(c.h)&&!c.s){c.s=!0;var p=c.Ga;se||re(),Y||(se(),Y=!0),te.add(p,c),c.B=0}}function JA(c,p){return Aa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ei(d(c.Ga,c,p),bv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new ne(this,this.j,c);let ee=this.o;if(this.S&&(ee?(ee=w(ee),T(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var P=this.i[v];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Ov(this,G,p),v=ri(this.I),lt(v,"RID",c),lt(v,"CVER",22),this.D&&lt(v,"X-HTTP-Session-Id",this.D),il(this,v),ee&&(this.O?p="headers="+encodeURIComponent(String(Sv(ee)))+"&"+p:this.m&&Sd(v,this.m,ee)),Td(this.h,G),this.Ua&&lt(v,"TYPE","init"),this.P?(lt(v,"$req",p),lt(v,"SID","null"),G.T=!0,ue(G,v,null)):ue(G,v,p),this.G=2}}else this.G==3&&(c?Dv(this,c):this.i.length==0||Fn(this.h)||Dv(this))};function Dv(c,p){var v;p?v=p.l:v=c.U++;const P=ri(c.I);lt(P,"SID",c.K),lt(P,"RID",v),lt(P,"AID",c.T),il(c,P),c.m&&c.o&&Sd(P,c.m,c.o),v=new ne(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Ov(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Td(c.h,v),ue(v,P,p)}function il(c,p){c.H&&j(c.H,function(v,P){lt(p,P,v)}),c.l&&gv({},function(v,P){lt(p,P,v)})}function Ov(c,p,v){v=Math.min(c.i.length,v);var P=c.l?d(c.l.Na,c.l,c):null;e:{var G=c.i;let ee=-1;for(;;){const ve=["count="+v];ee==-1?0<v?(ee=G[0].g,ve.push("ofs="+ee)):ee=0:ve.push("ofs="+ee);let st=!0;for(let qt=0;qt<v;qt++){let He=G[qt].g;const lr=G[qt].map;if(He-=ee,0>He)ee=Math.max(0,G[qt].g-100),st=!1;else try{qA(lr,ve,"req"+He+"_")}catch{P&&P(lr)}}if(st){P=ve.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,P}function Fv(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;se||re(),Y||(se(),Y=!0),te.add(p,c),c.v=0}}function Id(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ei(d(c.Fa,c),bv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Lv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ei(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),gc(this),Lv(this))};function Cd(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function Lv(c){c.g=new ne(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ri(c.qa);lt(p,"RID","rpc"),lt(p,"SID",c.K),lt(p,"AID",c.T),lt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(p,"TO",c.ja),lt(p,"TYPE","xmlhttp"),il(c,p),c.m&&c.o&&Sd(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=hc(ri(p)),v.m=null,v.P=!0,ge(v,c)}t.Za=function(){this.C!=null&&(this.C=null,gc(this),Id(this),Kt(19))};function _c(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Mv(c,p){var v=null;if(c.g==p){_c(c),Cd(c),c.g=null;var P=2}else if(zr(c.h,p))v=p.D,pv(c.h,p),P=1;else return;if(c.G!=0){if(p.o)if(P==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var G=c.B;P=Sa(),Lt(P,new uc(P,v)),vc(c)}else Fv(c);else if(G=p.s,G==3||G==0&&0<p.X||!(P==1&&JA(c,p)||P==2&&Id(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),G){case 1:Os(c,5);break;case 4:Os(c,10);break;case 3:Os(c,6);break;default:Os(c,2)}}}function bv(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Os(c,p){if(c.j.info("Error code "+p),p==2){var v=d(c.fb,c),P=c.Xa;const G=!P;P=new Ds(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||cc(P,"https"),hc(P),G?$A(P.toString(),v):GA(P.toString(),v)}else Kt(2);c.G=0,c.l&&c.l.sa(p),Vv(c),Pv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Vv(c){if(c.G=0,c.ka=[],c.l){const p=mv(c.h);(p.length!=0||c.i.length!=0)&&(y(c.ka,p),y(c.ka,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.ra()}}function Uv(c,p,v){var P=v instanceof Ds?ri(v):new Ds(v);if(P.g!="")p&&(P.g=p+"."+P.g),fc(P,P.s);else{var G=o.location;P=G.protocol,p=p?p+"."+G.hostname:G.hostname,G=+G.port;var ee=new Ds(null);P&&cc(ee,P),p&&(ee.g=p),G&&fc(ee,G),v&&(ee.l=v),P=ee}return v=c.D,p=c.ya,v&&p&&lt(P,v,p),lt(P,"VER",c.la),il(c,P),P}function Bv(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new xt(new dc({eb:v})):new xt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jv(){}t=jv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(c,p){return new Wr(c,p)};function Wr(c,p){It.call(this),this.g=new Nv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!E(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ca(this)}_(Wr,It),Wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){Ad(this.g)},Wr.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=wa(c),c=v);p.i.push(new Ps(p.Ya++,c)),p.G==3&&vc(p)},Wr.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,Wr.aa.N.call(this)};function zv(c){Qo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}_(zv,Qo);function Wv(){Pi.call(this),this.status=1}_(Wv,Pi);function Ca(c){this.g=c}_(Ca,jv),Ca.prototype.ua=function(){Lt(this.g,"a")},Ca.prototype.ta=function(c){Lt(this.g,new zv(c))},Ca.prototype.sa=function(c){Lt(this.g,new Wv)},Ca.prototype.ra=function(){Lt(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,jT=function(){return new yc},BT=function(){return Sa()},UT=Zn,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},F.NO_ERROR=0,F.TIMEOUT=8,F.HTTP_ERROR=6,gf=F,b.COMPLETE="complete",VT=b,Yo.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",It.prototype.listen=It.prototype.K,El=Yo,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,bT=xt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const U_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Gm("@firebase/firestore");function dl(){return na.logLevel}function Ce(t,...e){if(na.logLevel<=Ue.DEBUG){const r=e.map(ig);na.debug(`Firestore (${bo}): ${t}`,...r)}}function Ti(t,...e){if(na.logLevel<=Ue.ERROR){const r=e.map(ig);na.error(`Firestore (${bo}): ${t}`,...r)}}function To(t,...e){if(na.logLevel<=Ue.WARN){const r=e.map(ig);na.warn(`Firestore (${bo}): ${t}`,...r)}}function ig(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw Ti(e),new Error(e)}function tt(t,e){t||De()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Qn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(dr.UNAUTHENTICATED))}shutdown(){}}class pD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class mD{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){tt(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new di,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new di)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tt(typeof n.accessToken=="string"),new zT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new dr(e)}}class gD{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vD{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new gD(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _D{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){tt(this.o===void 0);const n=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(tt(typeof r.token=="string"),this.R=r.token,new _D(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=xD(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ge(t,e){return t<e?-1:t>e?1:0}function So(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Bt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Bt(0,0))}static max(){return new Oe(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,r,n){r===void 0?r=0:r>e.length&&De(),n===void 0?n=e.length-r:n>e.length-r&&De(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return mu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof mu?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class ct extends mu{construct(e,r,n){return new ct(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new ct(r)}static emptyPath(){return new ct([])}}const ED=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends mu{construct(e,r,n){return new Zt(e,r,n)}static isValidIdentifier(e){return ED.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(r)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ct.fromString(e))}static fromName(e){return new Re(ct.fromString(e).popFirst(5))}static empty(){return new Re(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ct.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ct(e.slice()))}}function wD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(n===1e9?new Bt(r+1,0):new Bt(r,n));return new ds(i,Re.empty(),e)}function TD(t){return new ds(t.readTime,t.key,-1)}class ds{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ds(Oe.min(),Re.empty(),-1)}static max(){return new ds(Oe.max(),Re.empty(),-1)}}function SD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Re.comparator(t.documentKey,e.documentKey),r!==0?r:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ID{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==AD)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new le((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof le?r:le.resolve(r)}catch(r){return le.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):le.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):le.reject(r)}static resolve(e){return new le((r,n)=>{r(e)})}static reject(e){return new le((r,n)=>{n(e)})}static waitFor(e){return new le((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=le.resolve(!1);for(const n of e)r=r.next(i=>i?le.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new le((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(f=>{a[u]=f,++o,o===s&&n(a)},f=>i(f))}})}static doWhile(e,r){return new le((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function CD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sg.oe=-1;function Kh(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function kD(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ma(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function HT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,r){this.comparator=e,this.root=r||Jt.EMPTY}insert(e,r){return new yt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Jt.RED,this.left=i??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Jt(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Jt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new nr(this.comparator);return r.data=e,r}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Yr([])}unionWith(e){let r=new nr(Zt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Yr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $T("Invalid base64 string: "+s):s}}(e);return new ar(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ar(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const RD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(tt(!!t),typeof t=="string"){let e=0;const r=RD.exec(t);if(tt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function og(t){const e=t.mapValue.fields.__previous_value__;return ag(e)?og(e):e}function gu(t){const e=ps(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,r,n,i,s,a,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class vu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{}};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:DD(t)?9007199254740991:PD(t)?10:11:De()}function Xn(t,e){if(t===e)return!0;const r=sa(t);if(r!==sa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ps(i.timestampValue),o=ps(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ia(i.bytesValue).isEqual(ia(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=St(i.doubleValue),o=St(s.doubleValue);return a===o?Zf(a)===Zf(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(B_(a)!==B_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Xn(a[l],o[l])))return!1;return!0}(t,e);default:return De()}}function _u(t,e){return(t.values||[]).find(r=>Xn(r,e))!==void 0}function Ao(t,e){if(t===e)return 0;const r=sa(t),n=sa(e);if(r!==n)return Ge(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=St(s.integerValue||s.doubleValue),l=St(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return z_(t.timestampValue,e.timestampValue);case 4:return z_(gu(t),gu(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(s,a){const o=ia(s),l=ia(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const f=Ge(o[u],l[u]);if(f!==0)return f}return Ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ge(St(s.latitude),St(a.latitude));return o!==0?o:Ge(St(s.longitude),St(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,f;const h=s.fields||{},d=a.fields||{},m=(o=h.value)===null||o===void 0?void 0:o.arrayValue,_=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Ge(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0);return g!==0?g:W_(m,_)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===jc.mapValue&&a===jc.mapValue)return 0;if(s===jc.mapValue)return 1;if(a===jc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const d=Ge(l[h],f[h]);if(d!==0)return d;const m=Ao(o[l[h]],u[f[h]]);if(m!==0)return m}return Ge(l.length,f.length)}(t.mapValue,e.mapValue);default:throw De()}}function z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const r=ps(t),n=ps(e),i=Ge(r.seconds,n.seconds);return i!==0?i:Ge(r.nanos,n.nanos)}function W_(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Ao(r[i],n[i]);if(s)return s}return Ge(r.length,n.length)}function Io(t){return Ip(t)}function Ip(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ps(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ia(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Re.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Ip(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Ip(r.fields[a])}`;return i+"}"}(t.mapValue):De()}function H_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cp(t){return!!t&&"integerValue"in t}function lg(t){return!!t&&"arrayValue"in t}function $_(t){return!!t&&"nullValue"in t}function G_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vf(t){return!!t&&"mapValue"in t}function PD(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=bl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function DD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!vf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(r)}setAll(e){let r=Zt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=bl(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());vf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ma(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Dr(bl(this.value))}}function GT(t){const e=[];return ma(t.fields,(r,n)=>{const i=new Zt([r]);if(vf(n)){const s=GT(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new mr(e,0,Oe.min(),Oe.min(),Oe.min(),Dr.empty(),0)}static newFoundDocument(e,r,n,i){return new mr(e,1,r,Oe.min(),n,i,0)}static newNoDocument(e,r){return new mr(e,2,r,Oe.min(),Oe.min(),Dr.empty(),0)}static newUnknownDocument(e,r){return new mr(e,3,r,Oe.min(),Oe.min(),Dr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,r){this.position=e,this.inclusive=r}}function K_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Re.comparator(Re.fromName(a.referenceValue),r.key):n=Ao(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Xn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,r="asc"){this.field=e,this.dir=r}}function OD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{}class Nt extends KT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new LD(e,r,n):r==="array-contains"?new VD(e,n):r==="in"?new UD(e,n):r==="not-in"?new BD(e,n):r==="array-contains-any"?new jD(e,n):new Nt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new MD(e,n):new bD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ao(r,this.value)):r!==null&&sa(this.value)===sa(r)&&this.matchesComparison(Ao(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends KT{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Dn(e,r)}matches(e){return qT(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qT(t){return t.op==="and"}function XT(t){return FD(t)&&qT(t)}function FD(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function kp(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(XT(t))return t.filters.map(e=>kp(e)).join(",");{const e=t.filters.map(r=>kp(r)).join(",");return`${t.op}(${e})`}}function YT(t,e){return t instanceof Nt?function(n,i){return i instanceof Nt&&n.op===i.op&&n.field.isEqual(i.field)&&Xn(n.value,i.value)}(t,e):t instanceof Dn?function(n,i){return i instanceof Dn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&YT(a,i.filters[o]),!0):!1}(t,e):void De()}function QT(t){return t instanceof Nt?function(r){return`${r.field.canonicalString()} ${r.op} ${Io(r.value)}`}(t):t instanceof Dn?function(r){return r.op.toString()+" {"+r.getFilters().map(QT).join(" ,")+"}"}(t):"Filter"}class LD extends Nt{constructor(e,r,n){super(e,r,n),this.key=Re.fromName(n.referenceValue)}matches(e){const r=Re.comparator(e.key,this.key);return this.matchesComparison(r)}}class MD extends Nt{constructor(e,r){super(e,"in",r),this.keys=JT("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class bD extends Nt{constructor(e,r){super(e,"not-in",r),this.keys=JT("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function JT(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Re.fromName(n.referenceValue))}class VD extends Nt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return lg(r)&&_u(r.arrayValue,this.value)}}class UD extends Nt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&_u(this.value.arrayValue,r)}}class BD extends Nt{constructor(e,r){super(e,"not-in",r)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!_u(this.value.arrayValue,r)}}class jD extends Nt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!lg(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>_u(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function X_(t,e=null,r=[],n=[],i=null,s=null,a=null){return new zD(t,e,r,n,i,s,a)}function ug(t){const e=Fe(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>kp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Kh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Io(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Io(n)).join(",")),e.ue=r}return e.ue}function cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!OD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!YT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q_(t.startAt,e.startAt)&&q_(t.endAt,e.endAt)}function Rp(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WD(t,e,r,n,i,s,a,o){return new Vo(t,e,r,n,i,s,a,o)}function qh(t){return new Vo(t)}function Y_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZT(t){return t.collectionGroup!==null}function Vl(t){const e=Fe(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new nr(Zt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new yu(s,n))}),r.has(Zt.keyField().canonicalString())||e.ce.push(new yu(Zt.keyField(),n))}return e.ce}function Gn(t){const e=Fe(t);return e.le||(e.le=HD(e,Vl(t))),e.le}function HD(t,e){if(t.limitType==="F")return X_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yu(i.field,s)});const r=t.endAt?new eh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new eh(t.startAt.position,t.startAt.inclusive):null;return X_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Np(t,e){const r=t.filters.concat([e]);return new Vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function th(t,e,r){return new Vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Xh(t,e){return cg(Gn(t),Gn(e))&&t.limitType===e.limitType}function e2(t){return`${ug(Gn(t))}|lt:${t.limitType}`}function La(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>QT(i)).join(", ")}]`),Kh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Io(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Io(i)).join(",")),`Target(${n})`}(Gn(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Re.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Vl(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=K_(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,Vl(n),i)||n.endAt&&!function(a,o,l){const u=K_(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,Vl(n),i))}(t,e)}function $D(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t2(t){return(e,r)=>{let n=!1;for(const i of Vl(t)){const s=GD(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function GD(t,e,r){const n=t.field.isKeyField()?Re.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Ao(l,u):De()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new yt(Re.comparator);function Si(){return KD}const r2=new yt(Re.comparator);function wl(...t){let e=r2;for(const r of t)e=e.insert(r.key,r);return e}function n2(t){let e=r2;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function zs(){return Ul()}function i2(){return Ul()}function Ul(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const qD=new yt(Re.comparator),XD=new nr(Re.comparator);function Ve(...t){let e=XD;for(const r of t)e=e.add(r);return e}const YD=new nr(Ge);function QD(){return YD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function s2(t){return{integerValue:""+t}}function JD(t,e){return kD(e)?s2(e):fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function ZD(t,e,r){return t instanceof xu?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ag(s)&&(s=og(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof Eu?o2(t,e):t instanceof wu?l2(t,e):function(i,s){const a=a2(i,s),o=Q_(a)+Q_(i.Pe);return Cp(a)&&Cp(i.Pe)?s2(o):fg(i.serializer,o)}(t,e)}function eO(t,e,r){return t instanceof Eu?o2(t,e):t instanceof wu?l2(t,e):r}function a2(t,e){return t instanceof rh?function(n){return Cp(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class xu extends Qh{}class Eu extends Qh{constructor(e){super(),this.elements=e}}function o2(t,e){const r=u2(e);for(const n of t.elements)r.some(i=>Xn(i,n))||r.push(n);return{arrayValue:{values:r}}}class wu extends Qh{constructor(e){super(),this.elements=e}}function l2(t,e){let r=u2(e);for(const n of t.elements)r=r.filter(i=>!Xn(i,n));return{arrayValue:{values:r}}}class rh extends Qh{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Q_(t){return St(t.integerValue||t.doubleValue)}function u2(t){return lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,r){this.field=e,this.transform=r}}function rO(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Eu&&i instanceof Eu||n instanceof wu&&i instanceof wu?So(n.elements,i.elements,Xn):n instanceof rh&&i instanceof rh?Xn(n.Pe,i.Pe):n instanceof xu&&i instanceof xu}(t.transform,e.transform)}class nO{constructor(e,r){this.version=e,this.transformResults=r}}class kn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jh{}function c2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hg(t.key,kn.none()):new $u(t.key,t.data,kn.none());{const r=t.data,n=Dr.empty();let i=new nr(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Ss(t.key,n,new Yr(i.toArray()),kn.none())}}function iO(t,e,r){t instanceof $u?function(i,s,a){const o=i.value.clone(),l=Z_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Ss?function(i,s,a){if(!_f(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Z_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(f2(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Bl(t,e,r,n){return t instanceof $u?function(s,a,o,l){if(!_f(s.precondition,a))return o;const u=s.value.clone(),f=ey(s.fieldTransforms,l,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ss?function(s,a,o,l){if(!_f(s.precondition,a))return o;const u=ey(s.fieldTransforms,l,a),f=a.data;return f.setAll(f2(s)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,a,o){return _f(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function sO(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=a2(n.transform,i||null);s!=null&&(r===null&&(r=Dr.empty()),r.set(n.field,s))}return r||null}function J_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&So(n,i,(s,a)=>rO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $u extends Jh{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends Jh{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f2(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Z_(t,e,r){const n=new Map;tt(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,eO(a,o,r[i]))}return n}function ey(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,ZD(s,a,e))}return n}class hg extends Jh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aO extends Jh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iO(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Bl(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Bl(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=i2();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=c2(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Oe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(r,n)=>J_(r,n))&&So(this.baseMutations,e.baseMutations,(r,n)=>J_(r,n))}}class dg{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){tt(e.mutations.length===n.length);let i=function(){return qD}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new dg(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,je;function cO(t){switch(t){default:return De();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function h2(t){if(t===void 0)return Ti("GRPC error has no .code"),ae.UNKNOWN;switch(t){case kt.OK:return ae.OK;case kt.CANCELLED:return ae.CANCELLED;case kt.UNKNOWN:return ae.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ae.INTERNAL;case kt.UNAVAILABLE:return ae.UNAVAILABLE;case kt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case kt.NOT_FOUND:return ae.NOT_FOUND;case kt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case kt.ABORTED:return ae.ABORTED;case kt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case kt.DATA_LOSS:return ae.DATA_LOSS;default:return De()}}(je=kt||(kt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Ks([4294967295,4294967295],0);function ty(t){const e=fO().encode(t),r=new MT;return r.update(e),new Uint8Array(r.digest())}function ry(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ks([r,n],0),new Ks([i,s],0)]}class pg{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Tl(`Invalid padding: ${r}`);if(n<0)throw new Tl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ks.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Ks.fromNumber(n)));return i.compare(hO)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=ty(e),[n,i]=ry(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new pg(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=ty(e),[n,i]=ry(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Zh(Oe.min(),i,new yt(Ge),Si(),Ve())}}class Gu{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Gu(n,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class d2{constructor(e,r){this.targetId=e,this.me=r}}class p2{constructor(e,r,n=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class ny{constructor(){this.fe=0,this.ge=sy(),this.pe=ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),r=Ve(),n=Ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:De()}}),new Gu(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=sy()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Si(),this.qe=iy(),this.Qe=new yt(Ge)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:De()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Rp(s))if(n===0){const a=new Re(s.path);this.Ue(r,a,mr.newNoDocument(a,Oe.min()))}else tt(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=ia(n).toUint8Array()}catch(l){if(l instanceof $T)return To("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new pg(a,i,s)}catch(l){return To(l instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Rp(o.target)){const l=new Re(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,mr.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Ve();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Zh(e,r,this.Qe,this.ke,n);return this.ke=Si(),this.qe=iy(),this.Qe=new yt(Ge),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new ny,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new nr(Ge),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ny),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function iy(){return new yt(Re.comparator)}function sy(){return new yt(Re.comparator)}const pO={asc:"ASCENDING",desc:"DESCENDING"},mO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gO={and:"AND",or:"OR"};class vO{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Pp(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _O(t,e){return nh(t,e.toTimestamp())}function Kn(t){return tt(!!t),Oe.fromTimestamp(function(r){const n=ps(r);return new Bt(n.seconds,n.nanos)}(t))}function mg(t,e){return Dp(t,e).canonicalString()}function Dp(t,e){const r=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function g2(t){const e=ct.fromString(t);return tt(E2(e)),e}function Op(t,e){return mg(t.databaseId,e.path)}function u0(t,e){const r=g2(e);if(r.get(1)!==t.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Re(_2(r))}function v2(t,e){return mg(t.databaseId,e)}function yO(t){const e=g2(t);return e.length===4?ct.emptyPath():_2(e)}function Fp(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _2(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ay(t,e,r){return{name:Op(t,e),fields:r.value.mapValue.fields}}function xO(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(tt(f===void 0||typeof f=="string"),ar.fromBase64String(f||"")):(tt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ar.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const f=u.code===void 0?ae.UNKNOWN:h2(u.code);return new we(f,u.message||"")}(a);r=new p2(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=u0(t,n.document.name),s=Kn(n.document.updateTime),a=n.document.createTime?Kn(n.document.createTime):Oe.min(),o=new Dr({mapValue:{fields:n.document.fields}}),l=mr.newFoundDocument(i,s,a,o),u=n.targetIds||[],f=n.removedTargetIds||[];r=new yf(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=u0(t,n.document),s=n.readTime?Kn(n.readTime):Oe.min(),a=mr.newNoDocument(i,s),o=n.removedTargetIds||[];r=new yf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=u0(t,n.document),s=n.removedTargetIds||[];r=new yf([],s,i,null)}else{if(!("filter"in e))return De();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new uO(i,s),o=n.targetId;r=new d2(o,a)}}return r}function EO(t,e){let r;if(e instanceof $u)r={update:ay(t,e.key,e.value)};else if(e instanceof hg)r={delete:Op(t,e.key)};else if(e instanceof Ss)r={update:ay(t,e.key,e.data),updateMask:NO(e.fieldMask)};else{if(!(e instanceof aO))return De();r={verify:Op(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof xu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof wu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rh)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw De()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_O(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:De()}(t,e.precondition)),r}function wO(t,e){return t&&t.length>0?(tt(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Kn(i.updateTime):Kn(s);return a.isEqual(Oe.min())&&(a=Kn(s)),new nO(a,i.transformResults||[])}(r,e))):[]}function TO(t,e){return{documents:[v2(t,e.path)]}}function SO(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=v2(t,i);const s=function(u){if(u.length!==0)return x2(Dn.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(f=>function(d){return{field:Ma(d.field),direction:CO(d.dir)}}(f))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Pp(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function AO(t){let e=yO(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){tt(n===1);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];r.where&&(s=function(h){const d=y2(h);return d instanceof Dn&&XT(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(h){return h.map(d=>function(_){return new yu(ba(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,Kh(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(h){const d=!!h.before,m=h.values||[];return new eh(m,d)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const d=!h.before,m=h.values||[];return new eh(m,d)}(r.endAt)),WD(e,i,a,s,o,"F",l,u)}function IO(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function y2(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ba(r.unaryFilter.field);return Nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ba(r.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ba(r.unaryFilter.field);return Nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ba(r.unaryFilter.field);return Nt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):t.fieldFilter!==void 0?function(r){return Nt.create(ba(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Dn.create(r.compositeFilter.filters.map(n=>y2(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(r.compositeFilter.op))}(t):De()}function CO(t){return pO[t]}function kO(t){return mO[t]}function RO(t){return gO[t]}function Ma(t){return{fieldPath:t.canonicalString()}}function ba(t){return Zt.fromServerFormat(t.fieldPath)}function x2(t){return t instanceof Nt?function(r){if(r.op==="=="){if(G_(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NAN"}};if($_(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(G_(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NOT_NAN"}};if($_(r.value))return{unaryFilter:{field:Ma(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(r.field),op:kO(r.op),value:r.value}}}(t):t instanceof Dn?function(r){const n=r.getFilters().map(i=>x2(i));return n.length===1?n[0]:{compositeFilter:{op:RO(r.op),filters:n}}}(t):De()}function NO(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function E2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,r,n,i,s=Oe.min(),a=Oe.min(),o=ar.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.ct=e}}function DO(t){const e=AO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.un=new FO}addToCollectionParentIndex(e,r){return this.un.add(r),le.resolve()}getCollectionParents(e,r){return le.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return le.resolve()}deleteFieldIndex(e,r){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,r){return le.resolve()}getDocumentsMatchingTarget(e,r){return le.resolve(null)}getIndexType(e,r){return le.resolve(0)}getFieldIndexes(e,r){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,r){return le.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,r){return le.resolve(ds.min())}updateCollectionGroup(e,r,n){return le.resolve()}updateIndexEntries(e,r){return le.resolve()}}class FO{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new nr(ct.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new nr(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Co(0)}static kn(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.changes=new Uo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?le.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Bl(n.mutation,i,Yr.empty(),Bt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ve()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ve()){const i=zs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=wl();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=zs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ve()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Si();const a=Ul(),o=function(){return Ul()}();return r.forEach((l,u)=>{const f=n.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ss)?s=s.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),Bl(f.mutation,u,f.mutation.getFieldMask(),Bt.now())):a.set(u.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>a.set(u,f)),r.forEach((u,f)=>{var h;return o.set(u,new MO(f,(h=a.get(u))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Ul();let i=new yt((a,o)=>a-o),s=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let f=n.get(l)||Yr.empty();f=o.applyToLocalView(u,f),n.set(l,f);const h=(i.get(o.batchId)||Ve()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,f=l.value,h=i2();f.forEach(d=>{if(!s.has(d)){const m=c2(r.get(d),n.get(d));m!==null&&h.set(d,m),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return le.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ZT(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):le.resolve(zs());let o=-1,l=s;return a.next(u=>le.forEach(u,(f,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ve())).next(f=>({batchId:o,changes:n2(f)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Re(r)).next(n=>{let i=wl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=wl();return this.indexManager.getCollectionParents(e,s).next(o=>le.forEach(o,l=>{const u=function(h,d){return new Vo(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(f=>{f.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,mr.newInvalidDocument(f)))});let o=wl();return a.forEach((l,u)=>{const f=s.get(l);f!==void 0&&Bl(f.mutation,u,Yr.empty(),Bt.now()),Yh(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return le.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(r)),le.resolve()}getNamedQuery(e,r){return le.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:DO(i.bundledQuery),readTime:Kn(i.readTime)}}(r)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.overlays=new yt(Re.comparator),this.Ir=new Map}getOverlay(e,r){return le.resolve(this.overlays.get(r))}getOverlays(e,r){const n=zs();return le.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),le.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),le.resolve()}getOverlaysForCollection(e,r,n){const i=zs(),s=r.length+1,a=new Re(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new yt((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let f=s.get(u.largestBatchId);f===null&&(f=zs(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const o=zs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>o.set(u,f)),!(o.size()>=i)););return le.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new lO(r,n));let s=this.Ir.get(r);s===void 0&&(s=Ve(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Tr=new nr(jt.Er),this.dr=new nr(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new jt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new jt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Re(new ct([])),n=new jt(r,e),i=new jt(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Re(new ct([])),n=new jt(r,e),i=new jt(r,e+1);let s=Ve();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new jt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class jt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Re.comparator(e.key,r.key)||Ge(e.wr,r.wr)}static Ar(e,r){return Ge(e.wr,r.wr)||Re.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new nr(jt.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oO(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new jt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,r){return le.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new jt(r,0),i=new jt(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new nr(Ge);return r.forEach(i=>{const s=new jt(i,0),a=new jt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),le.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Re.isDocumentKey(s)||(s=s.child(""));const a=new jt(new Re(s),0);let o=new nr(Ge);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),le.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){tt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return le.forEach(r.mutations,i=>{const s=new jt(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new jt(r,0),i=this.br.firstAfterOrEqual(n);return le.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.Mr=e,this.docs=function(){return new yt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return le.resolve(n?n.document.mutableCopy():mr.newInvalidDocument(r))}getEntries(e,r){let n=Si();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():mr.newInvalidDocument(i))}),le.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Si();const a=r.path,o=new Re(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||SD(TD(f),n)<=0||(i.has(f.key)||Yh(r,f))&&(s=s.insert(f.key,f.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,r,n,i){De()}Or(e,r){return le.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new WO(this)}getSize(e){return le.resolve(this.size)}}class WO extends LO{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),le.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.persistence=e,this.Nr=new Uo(r=>ug(r),cg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gg,this.targetCount=0,this.kr=Co.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),le.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Co(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,le.resolve()}updateTargetData(e,r){return this.Kn(r),le.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),le.waitFor(s).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return le.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),le.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),le.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return le.resolve(n)}containsKey(e,r){return le.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,r){this.qr={},this.overlays={},this.Qr=new sg(0),this.Kr=!1,this.Kr=!0,this.$r=new BO,this.referenceDelegate=e(this),this.Ur=new HO(this),this.indexManager=new OO,this.remoteDocumentCache=function(i){return new zO(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new PO(r),this.Gr=new VO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new UO,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new jO(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ce("MemoryPersistence","Starting transaction:",e);const i=new GO(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return le.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class GO extends ID{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Jr=new gg,this.Yr=null}static Zr(e){return new vg(e)}get Xr(){if(this.Yr)return this.Yr;throw De()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),le.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),le.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),le.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,n=>{const i=Re.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Oe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return le.or([()=>le.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ve(),i=Ve();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _g(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bR()?8:CD(yr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new KO;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(dl()<=Ue.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",La(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(dl()<=Ue.DEBUG&&Ce("QueryEngine","Query:",La(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(dl()<=Ue.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",La(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(r))):le.resolve())}Yi(e,r){if(Y_(r))return le.resolve(null);let n=Gn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=th(r,null,"F"),n=Gn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Ve(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,a,l.readTime)?this.Yi(e,th(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return Y_(r)||i.isEqual(Oe.min())?le.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?le.resolve(null):(dl()<=Ue.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(r)),this.rs(e,a,r,wD(i,-1)).next(o=>o))})}ts(e,r){let n=new nr(t2(e));return r.forEach((i,s)=>{Yh(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return dl()<=Ue.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",La(r)),this.Ji.getDocumentsMatchingQuery(e,r,ds.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new yt(Ge),this._s=new Uo(s=>ug(s),cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function YO(t,e,r,n){return new XO(t,e,r,n)}async function w2(t,e){const r=Fe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Ve();for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function QO(t,e){const r=Fe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,f){const h=u.batch,d=h.keys();let m=le.resolve();return d.forEach(_=>{m=m.next(()=>f.getEntry(l,_)).next(g=>{const y=u.docVersions.get(_);tt(y!==null),g.version.compareTo(y)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),f.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Ve();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function T2(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function JO(t,e){const r=Fe(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((f,h)=>{const d=i.get(h);if(!d)return;o.push(r.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>r.Ur.addMatchingKeys(s,f.addedDocuments,h)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(ar.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,n)),i=i.insert(h,m),function(g,y,I){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(d,m,f)&&o.push(r.Ur.updateTargetData(s,m))});let l=Si(),u=Ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,f))}),o.push(ZO(s,a,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!n.isEqual(Oe.min())){const f=r.Ur.getLastRemoteSnapshotVersion(s).next(h=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(f)}return le.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.os=i,s))}function ZO(t,e,r){let n=Ve(),i=Ve();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Si();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ce("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function eF(t,e){const r=Fe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function tF(t,e){const r=Fe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,le.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new Xi(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Lp(t,e,r){const n=Fe(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Hu(a))throw a;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function oy(t,e,r){const n=Fe(t);let i=Oe.min(),s=Ve();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,f){const h=Fe(l),d=h._s.get(f);return d!==void 0?le.resolve(h.os.get(d)):h.Ur.getTargetData(u,f)}(n,a,Gn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Oe.min(),r?s:Ve())).next(o=>(rF(n,$D(e),o),{documents:o,Ts:s})))}function rF(t,e,r){let n=t.us.get(e)||Oe.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class ly{constructor(){this.activeTargetIds=QD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.so=new ly,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ly,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function c0(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class oF extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=c0(),l=this.xo(r,n.toUriEncodedString());Ce("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(r,l,u,i).then(f=>(Ce("RestConnection",`Received RPC '${r}' ${o}: `,f),f),f=>{throw To("RestConnection",`RPC '${r}' ${o} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=sF[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=c0();return new Promise((a,o)=>{const l=new bT;l.setWithCredentials(!0),l.listenOnce(VT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gf.NO_ERROR:const f=l.getResponseJson();Ce(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case gf.TIMEOUT:Ce(hr,`RPC '${e}' ${s} timed out`),o(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const h=l.getStatus();if(Ce(hr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const _=function(y){const I=y.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(I)>=0?I:ae.UNKNOWN}(m.status);o(new we(_,m.message))}else o(new we(ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new we(ae.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{Ce(hr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ce(hr,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=c0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jT(),o=BT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=s.join("");Ce(hr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=a.createWebChannel(f,l);let d=!1,m=!1;const _=new aF({Io:y=>{m?Ce(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(Ce(hr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Ce(hr,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},To:()=>h.close()}),g=(y,I,E)=>{y.listen(I,S=>{try{E(S)}catch(D){setTimeout(()=>{throw D},0)}})};return g(h,El.EventType.OPEN,()=>{m||(Ce(hr,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),g(h,El.EventType.CLOSE,()=>{m||(m=!0,Ce(hr,`RPC '${e}' stream ${i} transport closed`),_.So())}),g(h,El.EventType.ERROR,y=>{m||(m=!0,To(hr,`RPC '${e}' stream ${i} transport errored:`,y),_.So(new we(ae.UNAVAILABLE,"The operation could not be completed")))}),g(h,El.EventType.MESSAGE,y=>{var I;if(!m){const E=y.data[0];tt(!!E);const S=E,D=S.error||((I=S[0])===null||I===void 0?void 0:I.error);if(D){Ce(hr,`RPC '${e}' stream ${i} received error:`,D);const B=D.status;let j=function(A){const T=kt[A];if(T!==void 0)return h2(T)}(B),x=D.message;j===void 0&&(j=ae.INTERNAL,x="Unknown error status: "+B+" with message "+D.message),m=!0,_.So(new we(j,x)),h.close()}else Ce(hr,`RPC '${e}' stream ${i} received:`,E),_.bo(E)}}),g(o,UT.STAT_EVENT,y=>{y.stat===Ap.PROXY?Ce(hr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Ap.NOPROXY&&Ce(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function f0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return new vO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new S2(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ae.RESOURCE_EXHAUSTED?(Ti(r.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new we(ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lF extends A2{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=xO(this.serializer,e),n=function(s){if(!("targetChange"in s))return Oe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Oe.min():a.readTime?Kn(a.readTime):Oe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Fp(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=Rp(l)?{documents:TO(s,l)}:{query:SO(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=m2(s,a.resumeToken);const u=Pp(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Oe.min())>0){o.readTime=nh(s,a.snapshotVersion.toTimestamp());const u=Pp(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=IO(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Fp(this.serializer),r.removeTarget=e,this.a_(r)}}class uF extends A2{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return tt(!!e.streamToken),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=wO(e.writeResults,e.commitTime),n=Kn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Fp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>EO(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Dp(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(ae.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Dp(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ae.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fF{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ti(r),this.D_=!1):Ce("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{ga(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Fe(l);u.L_.add(4),await Ku(u),u.q_.set("Unknown"),u.L_.delete(4),await td(u)}(this))})}),this.q_=new fF(n,i)}}async function td(t){if(ga(t))for(const e of t.B_)await e(!0)}async function Ku(t){for(const e of t.B_)await e(!1)}function I2(t,e){const r=Fe(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),wg(r)?Eg(r):Bo(r).r_()&&xg(r,e))}function yg(t,e){const r=Fe(t),n=Bo(r);r.N_.delete(e),n.r_()&&C2(r,e),r.N_.size===0&&(n.r_()?n.o_():ga(r)&&r.q_.set("Unknown"))}function xg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Bo(t).A_(e)}function C2(t,e){t.Q_.xe(e),Bo(t).R_(e)}function Eg(t){t.Q_=new dO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.q_.v_()}function wg(t){return ga(t)&&!Bo(t).n_()&&t.N_.size>0}function ga(t){return Fe(t).L_.size===0}function k2(t){t.Q_=void 0}async function dF(t){t.q_.set("Online")}async function pF(t){t.N_.forEach((e,r)=>{xg(t,e)})}async function mF(t,e){k2(t),wg(t)?(t.q_.M_(e),Eg(t)):t.q_.set("Unknown")}async function gF(t,e,r){if(t.q_.set("Online"),e instanceof p2&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ih(t,n)}else if(e instanceof yf?t.Q_.Ke(e):e instanceof d2?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Oe.min()))try{const n=await T2(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(ar.EMPTY_BYTE_STRING,f.snapshotVersion)),C2(s,l);const h=new Xi(f.target,l,u,f.sequenceNumber);xg(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Ce("RemoteStore","Failed to raise snapshot:",n),await ih(t,n)}}async function ih(t,e,r){if(!Hu(e))throw e;t.L_.add(1),await Ku(t),t.q_.set("Offline"),r||(r=()=>T2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await td(t)})}function R2(t,e){return e().catch(r=>ih(t,r,e))}async function rd(t){const e=Fe(t),r=ms(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vF(e);)try{const i=await eF(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,_F(e,i)}catch(i){await ih(e,i)}N2(e)&&P2(e)}function vF(t){return ga(t)&&t.O_.length<10}function _F(t,e){t.O_.push(e);const r=ms(t);r.r_()&&r.V_&&r.m_(e.mutations)}function N2(t){return ga(t)&&!ms(t).n_()&&t.O_.length>0}function P2(t){ms(t).start()}async function yF(t){ms(t).p_()}async function xF(t){const e=ms(t);for(const r of t.O_)e.m_(r.mutations)}async function EF(t,e,r){const n=t.O_.shift(),i=dg.from(n,e,r);await R2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rd(t)}async function wF(t,e){e&&ms(t).V_&&await async function(n,i){if(function(a){return cO(a)&&a!==ae.ABORTED}(i.code)){const s=n.O_.shift();ms(n).s_(),await R2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rd(n)}}(t,e),N2(t)&&P2(t)}async function cy(t,e){const r=Fe(t);r.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const n=ga(r);r.L_.add(3),await Ku(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await td(r)}async function TF(t,e){const r=Fe(t);e?(r.L_.delete(2),await td(r)):e||(r.L_.add(2),await Ku(r),r.q_.set("Unknown"))}function Bo(t){return t.K_||(t.K_=function(r,n,i){const s=Fe(r);return s.w_(),new lF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dF.bind(null,t),Ro:pF.bind(null,t),mo:mF.bind(null,t),d_:gF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),wg(t)?Eg(t):t.q_.set("Unknown")):(await t.K_.stop(),k2(t))})),t.K_}function ms(t){return t.U_||(t.U_=function(r,n,i){const s=Fe(r);return s.w_(),new uF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yF.bind(null,t),mo:wF.bind(null,t),f_:xF.bind(null,t),g_:EF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rd(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new Tg(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(t,e){if(Ti("AsyncQueue",`${e}: ${t}`),Hu(t))return new we(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Re.comparator(r.key,n.key):(r,n)=>Re.comparator(r.key,n.key),this.keyedMap=wl(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new lo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.W_=new yt(Re.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):De():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ko{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new ko(e,r,lo.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class AF{constructor(){this.queries=hy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Fe(r),s=i.queries;i.queries=hy(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new we(ae.ABORTED,"Firestore shutting down"))}}function hy(){return new Uo(t=>e2(t),Xh)}async function Ag(t,e){const r=Fe(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new SF,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=Sg(a,`Initialization of query '${La(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Cg(r)}async function Ig(t,e){const r=Fe(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function IF(t,e){const r=Fe(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&Cg(r)}function CF(t,e,r){const n=Fe(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function Cg(t){t.Y_.forEach(e=>{e.next()})}var Mp,dy;(dy=Mp||(Mp={})).ea="default",dy.Cache="cache";class kg{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ko(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.key=e}}class O2{constructor(e){this.key=e}}class kF{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=t2(e),this.Ra=new lo(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new fy,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const d=i.get(f),m=Yh(this.query,h)?h:null,_=!!d&&this.mutatedKeys.has(d.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;d&&m?d.data.isEqual(m.data)?_!==g&&(n.track({type:3,doc:m}),y=!0):this.ga(d,m)||(n.track({type:2,doc:m}),y=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(o=!0)):!d&&m?(n.track({type:0,doc:m}),y=!0):d&&!m&&(n.track({type:1,doc:d}),y=!0,(l||u)&&(o=!0)),y&&(m?(a=a.add(m),s=g?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,h)=>function(m,_){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return g(m)-g(_)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new ko(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new O2(n))}),this.da.forEach(n=>{e.has(n)||r.push(new D2(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ve();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class RF{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class NF{constructor(e){this.key=e,this.va=!1}}class PF{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Uo(o=>e2(o),Xh),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(Re.comparator),this.Na=new Map,this.La=new gg,this.Ba={},this.ka=new Map,this.qa=Co.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function DF(t,e,r=!0){const n=U2(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await F2(n,e,r,!0),i}async function OF(t,e){const r=U2(t);await F2(r,e,!0,!1)}async function F2(t,e,r,n){const i=await tF(t.localStore,Gn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await FF(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&I2(t.remoteStore,i),o}async function FF(t,e,r,n,i){t.Ka=(h,d,m)=>async function(g,y,I,E){let S=y.view.ma(I);S.ns&&(S=await oy(g.localStore,y.query,!1).then(({documents:x})=>y.view.ma(x,S)));const D=E&&E.targetChanges.get(y.targetId),B=E&&E.targetMismatches.get(y.targetId)!=null,j=y.view.applyChanges(S,g.isPrimaryClient,D,B);return my(g,y.targetId,j.wa),j.snapshot}(t,h,d,m);const s=await oy(t.localStore,e,!0),a=new kF(e,s.Ts),o=a.ma(s.documents),l=Gu.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);my(t,r,u.wa);const f=new RF(e,r,a);return t.Fa.set(e,f),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function LF(t,e,r){const n=Fe(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!Xh(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Lp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&yg(n.remoteStore,i.targetId),bp(n,i.targetId)}).catch(Wu)):(bp(n,i.targetId),await Lp(n.localStore,i.targetId,!0))}async function MF(t,e){const r=Fe(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),yg(r.remoteStore,n.targetId))}async function bF(t,e,r){const n=HF(t);try{const i=await function(a,o){const l=Fe(a),u=Bt.now(),f=o.reduce((m,_)=>m.add(_.key),Ve());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Si(),g=Ve();return l.cs.getEntries(m,f).next(y=>{_=y,_.forEach((I,E)=>{E.isValidDocument()||(g=g.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(y=>{h=y;const I=[];for(const E of o){const S=sO(E,h.get(E.key).overlayedDocument);S!=null&&I.push(new Ss(E.key,S,GT(S.value.mapValue),kn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,I,o)}).next(y=>{d=y;const I=y.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(m,y.batchId,I)})}).then(()=>({batchId:d.batchId,changes:n2(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new yt(Ge)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await qu(n,i.changes),await rd(n.remoteStore)}catch(i){const s=Sg(i,"Failed to persist write");r.reject(s)}}async function L2(t,e){const r=Fe(t);try{const n=await JO(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?tt(a.va):i.removedDocuments.size>0&&(tt(a.va),a.va=!1))}),await qu(r,n,e)}catch(n){await Wu(n)}}function py(t,e,r){const n=Fe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Fe(a);l.onlineState=o;let u=!1;l.queries.forEach((f,h)=>{for(const d of h.j_)d.Z_(o)&&(u=!0)}),u&&Cg(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function VF(t,e,r){const n=Fe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new yt(Re.comparator);a=a.insert(s,mr.newNoDocument(s,Oe.min()));const o=Ve().add(s),l=new Zh(Oe.min(),new Map,new yt(Ge),a,o);await L2(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),Rg(n)}else await Lp(n.localStore,e,!1).then(()=>bp(n,e,r)).catch(Wu)}async function UF(t,e){const r=Fe(t),n=e.batch.batchId;try{const i=await QO(r.localStore,e);b2(r,n,null),M2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await qu(r,i)}catch(i){await Wu(i)}}async function BF(t,e,r){const n=Fe(t);try{const i=await function(a,o){const l=Fe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(tt(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(n.localStore,e);b2(n,e,r),M2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await qu(n,i)}catch(i){await Wu(i)}}function M2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function b2(t,e,r){const n=Fe(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function bp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||V2(t,n)})}function V2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(yg(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Rg(t))}function my(t,e,r){for(const n of r)n instanceof D2?(t.La.addReference(n.key,e),jF(t,n)):n instanceof O2?(Ce("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||V2(t,n.key)):De()}function jF(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ce("SyncEngine","New document in limbo: "+r),t.xa.add(n),Rg(t))}function Rg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Re(ct.fromString(e)),n=t.qa.next();t.Na.set(n,new NF(r)),t.Oa=t.Oa.insert(r,n),I2(t.remoteStore,new Xi(Gn(qh(r.path)),n,"TargetPurposeLimboResolution",sg.oe))}}async function qu(t,e,r){const n=Fe(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(u=>{var f;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(f=r==null?void 0:r.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=_g.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,u){const f=Fe(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>le.forEach(u,d=>le.forEach(d.$i,m=>f.persistence.referenceDelegate.addReference(h,d.targetId,m)).next(()=>le.forEach(d.Ui,m=>f.persistence.referenceDelegate.removeReference(h,d.targetId,m)))))}catch(h){if(!Hu(h))throw h;Ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const m=f.os.get(d),_=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(_);f.os=f.os.insert(d,g)}}}(n.localStore,s))}async function zF(t,e){const r=Fe(t);if(!r.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const n=await w2(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new we(ae.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await qu(r,n.hs)}}function WF(t,e){const r=Fe(t),n=r.Na.get(e);if(n&&n.va)return Ve().add(n.key);{let i=Ve();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function U2(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=L2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VF.bind(null,e),e.Ca.d_=IF.bind(null,e.eventManager),e.Ca.$a=CF.bind(null,e.eventManager),e}function HF(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BF.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return YO(this.persistence,new qO,e.initialUser,this.serializer)}Ga(e){return new $O(vg.Zr,this.serializer)}Wa(e){return new nF}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class Vp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>py(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zF.bind(null,this.syncEngine),await TF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AF}()}createDatastore(e){const r=ed(e.databaseInfo.databaseId),n=function(s){return new oF(s)}(e.databaseInfo);return function(s,a,o,l){return new cF(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new hF(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>py(this.syncEngine,r,0),function(){return uy.D()?new uy:new iF}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,f){const h=new PF(i,s,a,o,l,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Fe(i);Ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ku(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=dr.UNAUTHENTICATED,this.clientId=WT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Ce("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Ce("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Sg(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function h0(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await w2(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gy(t,e){t.asyncQueue.verifyOperationInProgress();const r=await GF(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>cy(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>cy(e.remoteStore,i)),t._onlineComponents=e}async function GF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await h0(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;To("Error using user provided cache. Falling back to memory cache: "+r),await h0(t,new sh)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await h0(t,new sh);return t._offlineComponents}async function B2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await gy(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await gy(t,new Vp))),t._onlineComponents}function KF(t){return B2(t).then(e=>e.syncEngine)}async function ah(t){const e=await B2(t),r=e.eventManager;return r.onListen=DF.bind(null,e.syncEngine),r.onUnlisten=LF.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=OF.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=MF.bind(null,e.syncEngine),r}function qF(t,e,r={}){const n=new di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const f=new Ng({next:d=>{f.Za(),a.enqueueAndForget(()=>Ig(s,h));const m=d.docs.has(o);!m&&d.fromCache?u.reject(new we(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?u.reject(new we(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new kg(qh(o.path),f,{includeMetadataChanges:!0,_a:!0});return Ag(s,h)}(await ah(t),t.asyncQueue,e,r,n)),n.promise}function XF(t,e,r={}){const n=new di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const f=new Ng({next:d=>{f.Za(),a.enqueueAndForget(()=>Ig(s,h)),d.fromCache&&l.source==="server"?u.reject(new we(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new kg(o,f,{includeMetadataChanges:!0,_a:!0});return Ag(s,h)}(await ah(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e,r){if(!r)throw new we(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YF(t,e,r,n){if(e===!0&&n===!0)throw new we(ae.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function _y(t){if(!Re.isDocumentKey(t))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yy(t){if(Re.isDocumentKey(t))throw new we(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De()}function hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nd(t);throw new we(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dD;switch(n.type){case"firstParty":return new vD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=vy.get(r);n&&(Ce("ComponentProvider","Removing Datastore"),vy.delete(r),n.terminate())}(this),Promise.resolve()}}function QF(t,e,r,n={}){var i;const s=(t=hn(t,id))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=dr.MOCK_USER;else{o=NR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new we(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dr(u)}t._authCredentials=new pD(new zT(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class Sr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class us extends ki{constructor(e,r,n){super(e,r,qh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new Re(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Vt(t,e,...r){if(t=_t(t),z2("collection","path",e),t instanceof id){const n=ct.fromString(e,...r);return yy(n),new us(t,null,n)}{if(!(t instanceof Sr||t instanceof us))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ct.fromString(e,...r));return yy(n),new us(t.firestore,null,n)}}function br(t,e,...r){if(t=_t(t),arguments.length===1&&(e=WT.newId()),z2("doc","path",e),t instanceof id){const n=ct.fromString(e,...r);return _y(n),new Sr(t,null,new Re(n))}{if(!(t instanceof Sr||t instanceof us))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ct.fromString(e,...r));return _y(n),new Sr(t.firestore,t instanceof us?t.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new S2(this,"async_queue_retry"),this.Vu=()=>{const n=f0();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=f0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=f0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hu(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Ti("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Tg.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&De()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function wy(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class gs extends id{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Ey,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ey(e),this._firestoreClient=void 0,await e}}}function JF(t,e){const r=typeof t=="object"?t:qm(),n=typeof t=="string"?t:"(default)",i=zh(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=qw("firestore");s&&QF(i,...s)}return i}function sd(t){if(t._terminated)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZF(t),t._firestoreClient}function ZF(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,u,f){return new ND(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,j2(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $F(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(ar.fromBase64String(e))}catch(r){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ro(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/^__.*__$/;class t3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,r,this.fieldTransforms):new $u(e,this.data,r,this.fieldTransforms)}}class W2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ss(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function H2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Og{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return oh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(H2(this.Cu)&&e3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class r3{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ed(e)}Qu(e,r,n,i=!1){return new Og({Cu:e,methodName:r,qu:n,path:Zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fg(t){const e=t._freezeSettings(),r=ed(t._databaseId);return new r3(t._databaseId,!!e.ignoreUndefinedProperties,r)}function n3(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);Mg("Data must be an object, but it was:",a,n);const o=$2(n,a);let l,u;if(s.merge)l=new Yr(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const d=Up(e,h,r);if(!a.contains(d))throw new we(ae.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);K2(f,d)||f.push(d)}l=new Yr(f),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new t3(new Dr(o),l,u)}class ld extends od{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}class Lg extends od{_toFieldTransform(e){return new tO(e.path,new xu)}isEqual(e){return e instanceof Lg}}function i3(t,e,r,n){const i=t.Qu(1,e,r);Mg("Data must be an object, but it was:",i,n);const s=[],a=Dr.empty();ma(n,(l,u)=>{const f=bg(e,l,r);u=_t(u);const h=i.Nu(f);if(u instanceof ld)s.push(f);else{const d=Xu(u,h);d!=null&&(s.push(f),a.set(f,d))}});const o=new Yr(s);return new W2(a,o,i.fieldTransforms)}function s3(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[Up(e,n,r)],l=[i];if(s.length%2!=0)throw new we(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Up(e,s[d])),l.push(s[d+1]);const u=[],f=Dr.empty();for(let d=o.length-1;d>=0;--d)if(!K2(u,o[d])){const m=o[d];let _=l[d];_=_t(_);const g=a.Nu(m);if(_ instanceof ld)u.push(m);else{const y=Xu(_,g);y!=null&&(u.push(m),f.set(m,y))}}const h=new Yr(u);return new W2(f,h,a.fieldTransforms)}function a3(t,e,r,n=!1){return Xu(r,t.Qu(n?4:3,e))}function Xu(t,e){if(G2(t=_t(t)))return Mg("Unsupported field value:",e,t),$2(t,e);if(t instanceof od)return function(n,i){if(!H2(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Xu(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=_t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JD(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Bt.fromDate(n);return{timestampValue:nh(i.serializer,s)}}if(n instanceof Bt){const s=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nh(i.serializer,s)}}if(n instanceof Pg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:m2(i.serializer,n._byteString)};if(n instanceof Sr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mg(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Dg)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return fg(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${nd(n)}`)}(t,e)}function $2(t,e){const r={};return HT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,(n,i)=>{const s=Xu(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function G2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof Pg||t instanceof Ro||t instanceof Sr||t instanceof od||t instanceof Dg)}function Mg(t,e,r){if(!G2(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=nd(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Up(t,e,r){if((e=_t(e))instanceof ad)return e._internalPath;if(typeof e=="string")return bg(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,r)}const o3=new RegExp("[~\\*/\\[\\]]");function bg(t,e,r){if(e.search(o3)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ad(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function oh(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new we(ae.INVALID_ARGUMENT,o+t+l)}function K2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class l3 extends q2{data(){return super.data()}}function ud(t,e){return typeof e=="string"?bg(t,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class Ug extends Vg{}function cn(t,e,...r){let n=[];e instanceof Vg&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof Bg).length,o=s.filter(l=>l instanceof cd).length;if(a>1||a>0&&o>0)throw new we(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class cd extends Ug{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new cd(e,r,n)}_apply(e){const r=this._parse(e);return Q2(e._query,r),new ki(e.firestore,e.converter,Np(e._query,r))}_parse(e){const r=Fg(e.firestore);return function(s,a,o,l,u,f,h){let d;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new we(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Sy(h,f);const m=[];for(const _ of h)m.push(Ty(l,s,_));d={arrayValue:{values:m}}}else d=Ty(l,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Sy(h,f),d=a3(o,a,h,f==="in"||f==="not-in");return Nt.create(u,f,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Y2(t,e,r){const n=e,i=ud("where",t);return cd._create(i,n,r)}class Bg extends Vg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Bg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Dn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Q2(a,l),a=Np(a,l)}(e._query,r),new ki(e.firestore,e.converter,Np(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends Ug{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new jg(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(s,a)}(e._query,this._field,this._direction);return new ki(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Vo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Bn(t,e="asc"){const r=e,n=ud("orderBy",t);return jg._create(n,r)}class zg extends Ug{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new zg(e,r,n)}_apply(e){return new ki(e.firestore,e.converter,th(e._query,this._limit,this._limitType))}}function u3(t){return zg._create("limit",t,"F")}function Ty(t,e,r){if(typeof(r=_t(r))=="string"){if(r==="")throw new we(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&r.indexOf("/")!==-1)throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(ct.fromString(r));if(!Re.isDocumentKey(n))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return H_(t,new Re(n))}if(r instanceof Sr)return H_(t,r._key);throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(r)}.`)}function Sy(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q2(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class c3{convertValue(e,r="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ma(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>St(a.doubleValue));return new Dg(s)}convertGeoPoint(e){return new Pg(St(e.latitude),St(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=og(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const r=ps(e);return new Bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=ct.fromString(e);tt(E2(n));const i=new vu(n.get(1),n.get(3)),s=new Re(n.popFirst(5));return i.isEqual(r)||Ti(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J2 extends q2{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class xf extends J2{data(e={}){return super.data(e)}}class Z2{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new xf(this._firestore,this._userDataWriter,n.key,n,new Sl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new xf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new xf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:h3(o.type),doc:l,oldIndex:u,newIndex:f}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function h3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){t=hn(t,Sr);const e=hn(t.firestore,gs);return qF(sd(e),t._key).then(r=>eS(e,t,r))}class Wg extends c3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,r)}}function d3(t){t=hn(t,ki);const e=hn(t.firestore,gs),r=sd(e),n=new Wg(e);return X2(t._query),XF(r,t._query).then(i=>new Z2(e,n,t,i))}function Ay(t,e,r,...n){t=hn(t,Sr);const i=hn(t.firestore,gs),s=Fg(i);let a;return a=typeof(e=_t(e))=="string"||e instanceof ad?s3(s,"updateDoc",t._key,e,r,n):i3(s,"updateDoc",t._key,e),Hg(i,[a.toMutation(t._key,kn.exists(!0))])}function qs(t){return Hg(hn(t.firestore,gs),[new hg(t._key,kn.none())])}function aa(t,e){const r=hn(t.firestore,gs),n=br(t),i=f3(t.converter,e);return Hg(r,[n3(Fg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,kn.exists(!1))]).then(()=>n)}function qn(t,...e){var r,n,i;t=_t(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||wy(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wy(e[a])){const h=e[a];e[a]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[a+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,f;if(t instanceof Sr)u=hn(t.firestore,gs),f=qh(t._key.path),l={next:h=>{e[a]&&e[a](eS(u,t,h))},error:e[a+1],complete:e[a+2]};else{const h=hn(t,ki);u=hn(h.firestore,gs),f=h._query;const d=new Wg(u);l={next:m=>{e[a]&&e[a](new Z2(u,d,h,m))},error:e[a+1],complete:e[a+2]},X2(t._query)}return function(d,m,_,g){const y=new Ng(g),I=new kg(m,y,_);return d.asyncQueue.enqueueAndForget(async()=>Ag(await ah(d),I)),()=>{y.Za(),d.asyncQueue.enqueueAndForget(async()=>Ig(await ah(d),I))}}(sd(u),f,o,l)}function Hg(t,e){return function(n,i){const s=new di;return n.asyncQueue.enqueueAndForget(async()=>bF(await KF(n),i,s)),s.promise}(sd(t),e)}function eS(t,e,r){const n=r.docs.get(e._key),i=new Wg(t);return new J2(t,i,e._key,n,new Sl(r.hasPendingWrites,r.fromCache),e.converter)}function Al(){return new Lg("serverTimestamp")}(function(e,r=!0){(function(i){bo=i})(Lo),ta(new hs("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new gs(new mD(n.getProvider("auth-internal")),new yD(n.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(u.options.projectId,f)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Wn(U_,"4.7.3",e),Wn(U_,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="type.googleapis.com/google.protobuf.Int64Value",m3="type.googleapis.com/google.protobuf.UInt64Value";function tS(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function Bp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Bp(e));if(typeof t=="function"||typeof t=="object")return tS(t,e=>Bp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function lh(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case p3:case m3:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>lh(e)):typeof t=="function"||typeof t=="object"?tS(t,e=>lh(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class uo extends Qn{constructor(e,r,n){super(`${$g}/${e}`,r||""),this.details=n}}function g3(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function v3(t,e){let r=g3(t),n=r,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!Iy[a])return new uo("internal","internal");r=Iy[a],n=a}const o=s.message;typeof o=="string"&&(n=o),i=s.details,i!==void 0&&(i=lh(i))}}catch{}return r==="ok"?null:new uo(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="us-central1";function y3(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new uo("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class x3{constructor(e,r,n,i,s=jp,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new _3(r,n,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=jp}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function E3(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function w3(t,e,r){return n=>S3(t,e,n,{})}async function T3(t,e,r,n){r["Content-Type"]="application/json";let i;try{i=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function S3(t,e,r,n){const i=t._url(e);return A3(t,i,r,n)}async function A3(t,e,r,n){r=Bp(r);const i={data:r},s={},a=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=n.timeout||7e4,l=y3(o),u=await Promise.race([T3(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new uo("cancelled","Firebase Functions instance was deleted.");const f=v3(u.status,u.json);if(f)throw f;if(!u.json)throw new uo("internal","Response is not valid JSON object.");let h=u.json.data;if(typeof h>"u"&&(h=u.json.result),typeof h>"u")throw new uo("internal","Response is missing data field.");return{data:lh(h)}}const Cy="@firebase/functions",ky="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="auth-internal",C3="app-check-internal",k3="messaging-internal";function R3(t,e){const r=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),a=n.getProvider(I3),o=n.getProvider(k3),l=n.getProvider(C3);return new x3(s,a,o,l,i,t)};ta(new hs($g,r,"PUBLIC").setMultipleInstances(!0)),Wn(Cy,ky,e),Wn(Cy,ky,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t=qm(),e=jp){const n=zh(_t(t),$g).getImmediate({identifier:e}),i=qw("functions");return i&&P3(n,...i),n}function P3(t,e,r){E3(_t(t),e,r)}function zp(t,e,r){return w3(_t(t),e)}R3(fetch.bind(self));const D3={apiKey:"AIzaSyDx28KYr4ngy_qGTJvQ8ulmFsiVhsXIXEg",authDomain:"okas-itd-1768557071.firebaseapp.com",projectId:"okas-itd-1768557071",storageBucket:"okas-itd-1768557071.firebasestorage.app",messagingSenderId:"368882757379",appId:"1:368882757379:web:351607b6462200f7c74336"},Gg=Zw(D3),Ir=uD(Gg),Ke=JF(Gg),Wp=N3(Gg,"europe-west1");function O3(){const[t,e]=J.useState(null),[r,n]=J.useState(!0);return J.useEffect(()=>{const i=QN(Ir,s=>{e(s),n(!1)});return()=>i()},[]),{user:t,loading:r}}function F3(){const[t,e]=J.useState(""),[r,n]=J.useState(""),[i,s]=J.useState(""),[a,o]=J.useState(!1),l=async u=>{u.preventDefault(),s(""),o(!0);try{await qN(Ir,t,r)}catch(f){s(f.message)}finally{o(!1)}};return k.jsx("div",{className:"login-container",children:k.jsxs("div",{className:"login-card",children:[k.jsx("h1",{children:"OKAS  Takip Sistemi"}),k.jsx("h2",{children:"Giri Yap"}),k.jsxs("form",{onSubmit:l,children:[k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"email",children:"E-posta"}),k.jsx("input",{type:"email",id:"email",value:t,onChange:u=>e(u.target.value),required:!0,placeholder:"ornek@email.com"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"password",children:"ifre"}),k.jsx("input",{type:"password",id:"password",value:r,onChange:u=>n(u.target.value),required:!0,placeholder:"",minLength:"6"})]}),i&&k.jsx("div",{className:"error-message",children:i}),k.jsx("button",{type:"submit",disabled:a,className:"submit-button",children:a?"Ykleniyor...":"Giri Yap"})]})]})})}function jo({isOpen:t,title:e="Silme ilemini onaylamak iin ifrenizi girin",confirmText:r="Onayla",cancelText:n="ptal",onCancel:i,onConfirm:s}){const[a,o]=J.useState(""),[l,u]=J.useState(!1),[f,h]=J.useState(!1),[d,m]=J.useState("");return J.useEffect(()=>{t&&(o(""),u(!1),h(!1),m(""))},[t]),t?k.jsx("div",{className:"pcm-modal-overlay",role:"dialog","aria-modal":"true",children:k.jsxs("div",{className:"pcf-modal",children:[k.jsx("div",{className:"pcf-header",children:k.jsx("h3",{children:e})}),k.jsxs("div",{className:"pcf-body",children:[k.jsxs("div",{className:"pcf-field",children:[k.jsx("label",{children:"ifre"}),k.jsxs("div",{className:"pcf-password-row",children:[k.jsx("input",{type:l?"text":"password",value:a,onChange:_=>o(_.target.value),placeholder:"",autoFocus:!0}),k.jsx("button",{type:"button",className:"pcf-toggle",onClick:()=>u(_=>!_),"aria-label":l?"ifreyi gizle":"ifreyi gster",title:l?"ifreyi gizle":"ifreyi gster",children:l?"Gizle":"Gster"})]}),k.jsx("div",{className:"pcf-hint",children:"sterseniz Gster ile ifreyi grnr yapabilirsiniz."})]}),d?k.jsx("div",{className:"pcf-error",children:d}):null]}),k.jsxs("div",{className:"pcf-actions",children:[k.jsx("button",{className:"pcf-btn pcf-btn-ghost",onClick:i,disabled:f,children:n}),k.jsx("button",{className:"pcf-btn pcf-btn-primary",disabled:f,onClick:async()=>{if(m(""),!a){m("Ltfen ifrenizi girin.");return}try{h(!0),await s(a)}catch(_){m((_==null?void 0:_.message)||"lem srasnda hata olutu.")}finally{h(!1)}},children:f?"Onaylanyor...":r})]})]})}):null}async function Wc(t,e,r={}){try{const n=Ir.currentUser;if(!n){console.warn("Log kaydedilemedi: Kullanc bulunamad");return}await aa(Vt(Ke,"logs"),{action:t,module:e,details:r,userId:n.uid,userEmail:n.email,timestamp:Al()})}catch(n){console.error("Log kaydedilirken hata:",n)}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var uh={};uh.version="0.18.5";var rS=1252,L3=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nS=function(t){L3.indexOf(t)!=-1&&(rS=t)};function M3(){nS(1252)}var Tu=function(t){nS(t)};function b3(){Tu(1200),M3()}var Hc=function(e){return String.fromCharCode(e)},Ry=function(e){return String.fromCharCode(e)},ch,Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Su(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Yi.charAt(s)+Yi.charAt(a)+Yi.charAt(o)+Yi.charAt(l);return e}function Ai(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=Yi.indexOf(t.charAt(u++)),a=Yi.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=Yi.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Yi.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ri=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function oa(t){return qe?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Ny(t){return qe?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Sn=function(e){return qe?Ri(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function fd(t){if(typeof ArrayBuffer>"u")return Sn(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Qu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function V3(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var er=qe?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ri(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function U3(t){for(var e=[],r=0,n=t.length+250,i=oa(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=oa(65535),n=65530)}return e.push(i.slice(0,r)),er(e)}var jl=/\u0000/g,$c=/[\u0001-\u0006]/g;function co(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function An(t,e){var r=""+t;return r.length>=e?r:wt("0",e-r.length)+r}function Kg(t,e){var r=""+t;return r.length>=e?r:wt(" ",e-r.length)+r}function fh(t,e){var r=""+t;return r.length>=e?r:r+wt(" ",e-r.length)}function B3(t,e){var r=""+Math.round(t);return r.length>=e?r:wt("0",e-r.length)+r}function j3(t,e){var r=""+t;return r.length>=e?r:wt("0",e-r.length)+r}var Py=Math.pow(2,32);function Pa(t,e){if(t>Py||t<-Py)return B3(t,e);var r=Math.round(t);return j3(r,e)}function hh(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Dy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],d0=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function z3(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Tt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Oy={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},W3={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dh(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,f=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*a+s,f=h*u+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=u,u=f;if(f>e&&(u>e?(f=l,o=s):(f=u,o=a)),!r)return[0,n*o,f];var d=Math.floor(n*o/f);return[d,n*o-d*f,f]}function Gc(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=Y3(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var iS=new Date(1899,11,31,0,0,0),H3=iS.getTime(),$3=new Date(1900,2,1,0,0,0);function sS(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=$3&&(r+=24*60*60*1e3),(r-(H3+(t.getTimezoneOffset()-iS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function qg(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function G3(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function K3(t){var e=t<0?12:11,r=qg(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function q3(t){var e=qg(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function X3(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=K3(t):e===10?r=t.toFixed(10).substr(0,12):r=q3(t),qg(G3(r.toUpperCase()))}function Hp(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):X3(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return vs(14,sS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Y3(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Q3(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return d0[r.m-1][1];case 5:return d0[r.m-1][0];default:return d0[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return Dy[r.q][0];default:return Dy[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?An(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=An(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var f=u>0?An(l,u):"";return f}function Qi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var aS=/%/g;function J3(t,e,r){var n=e.replace(aS,""),i=e.length-n.length;return pi(t,n,r*Math.pow(10,2*i))+wt("%",i)}function Z3(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function oS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+oS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var lS=/# (\?+)( ?)\/( ?)(\d+)/;function eL(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?wt(" ",t[1].length+1+t[4].length):Kg(a,t[1].length)+t[2]+"/"+t[3]+An(o,t[4].length))}function tL(t,e,r){return r+(e===0?"":""+e)+wt(" ",t[1].length+2+t[4].length)}var uS=/^#*0*\.([0#]+)/,cS=/\).*[0#]/,fS=/\(###\) ###\\?-####/;function Er(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Fy(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Ly(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function rL(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function nL(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function sn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(cS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?sn("n",n,r):"("+sn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Z3(t,e,r);if(e.indexOf("%")!==-1)return J3(t,e,r);if(e.indexOf("E")!==-1)return oS(e,r);if(e.charCodeAt(0)===36)return"$"+sn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Pa(l,e.length);if(e.match(/^[#?]+$/))return i=Pa(r,0),i==="0"&&(i=""),i.length>e.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(lS))return eL(s,l,u);if(e.match(/^#+0+$/))return u+Pa(l,e.length-e.indexOf("0"));if(s=e.match(uS))return i=Fy(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Er(s[1])).replace(/\.$/,"."+Er(s[1])).replace(/\.(\d*)$/,function(_,g){return"."+g+wt("0",Er(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+Fy(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Qi(Pa(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+sn(t,e,-r):Qi(""+(Math.floor(r)+rL(r,s[1].length)))+"."+An(Ly(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return sn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=co(sn(t,e.replace(/[\\-]/g,""),r)),a=0,co(co(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(fS))return i=sn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=dh(l,Math.pow(10,a)-1,!1),i=""+u,f=pi("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=fh(o[2],a),f.length<s[4].length&&(f=Er(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=dh(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Kg(o[1],a)+s[2]+"/"+s[3]+fh(o[2],a):wt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Pa(r,0),e.length<=i.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return Er(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=Ly(r,s[1].length),r<0?"-"+sn(t,e,-r):Qi(nL(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?An(0,3-_.length):"")+_})+"."+An(a,s[1].length);switch(e){case"###,##0.00":return sn(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Qi(Pa(l,0));return m!=="0"?u+m:"";case"###,###.00":return sn(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return sn(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function iL(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function sL(t,e,r){var n=e.replace(aS,""),i=e.length-n.length;return pi(t,n,r*Math.pow(10,2*i))+wt("%",i)}function hS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+hS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Mn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(cS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Mn("n",n,r):"("+Mn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return iL(t,e,r);if(e.indexOf("%")!==-1)return sL(t,e,r);if(e.indexOf("E")!==-1)return hS(e,r);if(e.charCodeAt(0)===36)return"$"+Mn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+An(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(lS))return tL(s,l,u);if(e.match(/^#+0+$/))return u+An(l,e.length-e.indexOf("0"));if(s=e.match(uS))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Er(s[1])).replace(/\.$/,"."+Er(s[1])),i=i.replace(/\.(\d*)$/,function(_,g){return"."+g+wt("0",Er(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Qi(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Mn(t,e,-r):Qi(""+r)+"."+wt("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Mn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=co(Mn(t,e.replace(/[\\-]/g,""),r)),a=0,co(co(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(fS))return i=Mn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=dh(l,Math.pow(10,a)-1,!1),i=""+u,f=pi("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=fh(o[2],a),f.length<s[4].length&&(f=Er(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=dh(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Kg(o[1],a)+s[2]+"/"+s[3]+fh(o[2],a):wt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return Er(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Mn(t,e,-r):Qi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?An(0,3-_.length):"")+_})+"."+An(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Qi(""+l);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return Mn(t,e.slice(0,e.lastIndexOf(".")),r)+Er(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function pi(t,e,r){return(r|0)===r?Mn(t,e,r):sn(t,e,r)}function aL(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var dS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pS(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":hh(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(dS))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function oL(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,f,h,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!hh(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),_=m==="("||m===")"?m:"t";i[i.length]={t:_,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=Gc(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Gc(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=Gc(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",a+=5,d="h"):(g.t="t",++a),u==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(dS)){if(u==null&&(u=Gc(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",pS(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,I=0,E;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",y<1&&(y=1);break;case"s":(E=i[a].v.match(/\.0+$/))&&(I=Math.max(I,E[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",D;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=Q3(i[a].t.charCodeAt(0),i[a].v,u,I),i[a].t="t";break;case"n":case"?":for(D=a+1;i[D]!=null&&((o=i[D].t)==="?"||o==="D"||(o===" "||o==="t")&&i[D+1]!=null&&(i[D+1].t==="?"||i[D+1].t==="t"&&i[D+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[D].v==="/"||i[D].v===" "&&i[D+1]!=null&&i[D+1].t=="?"));)i[a].v+=i[D].v,i[D]={v:"",t:";"},++D;S+=i[a].v,a=D-1;break;case"G":i[a].t="t",i[a].v=Hp(e,r);break}var B="",j,x;if(S.length>0){S.charCodeAt(0)==40?(j=e<0&&S.charCodeAt(0)===45?-e:e,x=pi("n",S,j)):(j=e<0&&n>1?-e:e,x=pi("n",S,j),j<0&&i[0]&&i[0].t=="t"&&(x=x.substr(1),i[0].v="-"+i[0].v)),D=x.length-1;var w=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){w=a;break}var A=i.length;if(w===i.length&&x.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(D>=i[a].v.length-1?(D-=i[a].v.length,i[a].v=x.substr(D+1,i[a].v.length)):D<0?i[a].v="":(i[a].v=x.substr(0,D+1),D=-1),i[a].t="t",A=a);D>=0&&A<i.length&&(i[A].v=x.substr(0,D+1)+i[A].v)}else if(w!==i.length&&x.indexOf("E")===-1){for(D=x.indexOf(".")-1,a=w;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(f=i[a].v.indexOf(".")>-1&&a===w?i[a].v.indexOf(".")-1:i[a].v.length-1,B=i[a].v.substr(f+1);f>=0;--f)D>=0&&(i[a].v.charAt(f)==="0"||i[a].v.charAt(f)==="#")&&(B=x.charAt(D--)+B);i[a].v=B,i[a].t="t",A=a}for(D>=0&&A<i.length&&(i[A].v=x.substr(0,D+1)+i[A].v),D=x.indexOf(".")+1,a=w;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==w)){for(f=i[a].v.indexOf(".")>-1&&a===w?i[a].v.indexOf(".")+1:0,B=i[a].v.substr(0,f);f<i[a].v.length;++f)D<x.length&&(B+=x.charAt(D++));i[a].v=B,i[a].t="t",A=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(j=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=pi(i[a].t,i[a].v,j),i[a].t="t");var T="";for(a=0;a!==i.length;++a)i[a]!=null&&(T+=i[a].v);return T}var My=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function by(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function lL(t,e){var r=aL(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(My),o=r[1].match(My);return by(e,a)?[n,r[0]]:by(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function vs(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tt)[t],n==null&&(n=r.table&&r.table[Oy[t]]||Tt[Oy[t]]),n==null&&(n=W3[t]||"General");break}if(hh(n,0))return Hp(e,r);e instanceof Date&&(e=sS(e,r.date1904));var i=lL(n,e);if(hh(i[1]))return Hp(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return oL(i[1],e,r,i[0])}function mS(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Tt[r]==null){e<0&&(e=r);continue}if(Tt[r]==t){e=r;break}}e<0&&(e=391)}return Tt[e]=t,e}function hd(t){for(var e=0;e!=392;++e)t[e]!==void 0&&mS(t[e],e)}function dd(){Tt=z3()}var gS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uL(t){var e=typeof t=="number"?Tt[t]:t;return e=e.replace(gS,"(\\d+)"),new RegExp("^"+e+"$")}function cL(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(gS)||[]).forEach(function(h,d){var m=parseInt(r[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?f:u+"T"+f}var fL=function(){var t={};t.version="1.2.0";function e(){for(var x=0,w=new Array(256),A=0;A!=256;++A)x=A,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,w[A]=x;return typeof Int32Array<"u"?new Int32Array(w):w}var r=e();function n(x){var w=0,A=0,T=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)R[T]=x[T];for(T=0;T!=256;++T)for(A=x[T],w=256+T;w<4096;w+=256)A=R[w]=A>>>8^x[A&255];var L=[];for(T=1;T!=16;++T)L[T-1]=typeof Int32Array<"u"?R.subarray(T*256,T*256+256):R.slice(T*256,T*256+256);return L}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],f=i[5],h=i[6],d=i[7],m=i[8],_=i[9],g=i[10],y=i[11],I=i[12],E=i[13],S=i[14];function D(x,w){for(var A=w^-1,T=0,R=x.length;T<R;)A=A>>>8^r[(A^x.charCodeAt(T++))&255];return~A}function B(x,w){for(var A=w^-1,T=x.length-15,R=0;R<T;)A=S[x[R++]^A&255]^E[x[R++]^A>>8&255]^I[x[R++]^A>>16&255]^y[x[R++]^A>>>24]^g[x[R++]]^_[x[R++]]^m[x[R++]]^d[x[R++]]^h[x[R++]]^f[x[R++]]^u[x[R++]]^l[x[R++]]^o[x[R++]]^a[x[R++]]^s[x[R++]]^r[x[R++]];for(T+=15;R<T;)A=A>>>8^r[(A^x[R++])&255];return~A}function j(x,w){for(var A=w^-1,T=0,R=x.length,L=0,N=0;T<R;)L=x.charCodeAt(T++),L<128?A=A>>>8^r[(A^L)&255]:L<2048?(A=A>>>8^r[(A^(192|L>>6&31))&255],A=A>>>8^r[(A^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,N=x.charCodeAt(T++)&1023,A=A>>>8^r[(A^(240|L>>8&7))&255],A=A>>>8^r[(A^(128|L>>2&63))&255],A=A>>>8^r[(A^(128|N>>6&15|(L&3)<<4))&255],A=A>>>8^r[(A^(128|N&63))&255]):(A=A>>>8^r[(A^(224|L>>12&15))&255],A=A>>>8^r[(A^(128|L>>6&63))&255],A=A>>>8^r[(A^(128|L&63))&255]);return~A}return t.table=r,t.bstr=D,t.buf=B,t.str=j,t}(),nt=function(){var e={};e.version="1.2.1";function r(C,M){for(var O=C.split("/"),F=M.split("/"),b=0,U=0,q=Math.min(O.length,F.length);b<q;++b){if(U=O[b].length-F[b].length)return U;if(O[b]!=F[b])return O[b]<F[b]?-1:1}return O.length-F.length}function n(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:n(C.slice(0,-1));var M=C.lastIndexOf("/");return M===-1?C:C.slice(0,M+1)}function i(C){if(C.charAt(C.length-1)=="/")return i(C.slice(0,-1));var M=C.lastIndexOf("/");return M===-1?C:C.slice(M+1)}function s(C,M){typeof M=="string"&&(M=new Date(M));var O=M.getHours();O=O<<6|M.getMinutes(),O=O<<5|M.getSeconds()>>>1,C.write_shift(2,O);var F=M.getFullYear()-1980;F=F<<4|M.getMonth()+1,F=F<<5|M.getDate(),C.write_shift(2,F)}function a(C){var M=C.read_shift(2)&65535,O=C.read_shift(2)&65535,F=new Date,b=O&31;O>>>=5;var U=O&15;O>>>=4,F.setMilliseconds(0),F.setFullYear(O+1980),F.setMonth(U-1),F.setDate(b);var q=M&31;M>>>=5;var ne=M&63;return M>>>=6,F.setHours(M),F.setMinutes(ne),F.setSeconds(q<<1),F}function o(C){Gr(C,0);for(var M={},O=0;C.l<=C.length-4;){var F=C.read_shift(2),b=C.read_shift(2),U=C.l+b,q={};switch(F){case 21589:O=C.read_shift(1),O&1&&(q.mtime=C.read_shift(4)),b>5&&(O&2&&(q.atime=C.read_shift(4)),O&4&&(q.ctime=C.read_shift(4))),q.mtime&&(q.mt=new Date(q.mtime*1e3));break}C.l=U,M[F]=q}return M}var l;function u(){return l||(l={})}function f(C,M){if(C[0]==80&&C[1]==75)return Yo(C,M);if((C[0]|32)==109&&(C[1]|32)==105)return lc(C,M);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var O=3,F=512,b=0,U=0,q=0,ne=0,X=0,Q=[],Z=C.slice(0,512);Gr(Z,0);var ue=h(Z);switch(O=ue[0],O){case 3:F=512;break;case 4:F=4096;break;case 0:if(ue[1]==0)return Yo(C,M);default:throw new Error("Major Version: Expected 3 or 4 saw "+O)}F!==512&&(Z=C.slice(0,F),Gr(Z,28));var ge=C.slice(0,F);d(Z,O);var Ee=Z.read_shift(4,"i");if(O===3&&Ee!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ee);Z.l+=4,q=Z.read_shift(4,"i"),Z.l+=4,Z.chk("00100000","Mini Stream Cutoff Size: "),ne=Z.read_shift(4,"i"),b=Z.read_shift(4,"i"),X=Z.read_shift(4,"i"),U=Z.read_shift(4,"i");for(var fe=-1,ye=0;ye<109&&(fe=Z.read_shift(4,"i"),!(fe<0));++ye)Q[ye]=fe;var Pe=m(C,F);y(X,U,Pe,F,Q);var it=E(Pe,q,Q,F);it[q].name="!Directory",b>0&&ne!==N&&(it[ne].name="!MiniFAT"),it[Q[0]].name="!FAT",it.fat_addrs=Q,it.ssz=F;var Ye={},dt=[],ti=[],Ps=[];S(q,it,Pe,dt,b,Ye,ti,ne),_(ti,Ps,dt),dt.shift();var Di={FileIndex:ti,FullPaths:Ps};return M&&M.raw&&(Di.raw={header:ge,sectors:Pe}),Di}function h(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(Ie,"Header Signature: "),C.l+=16;var M=C.read_shift(2,"u");return[C.read_shift(2,"u"),M]}function d(C,M){var O=9;switch(C.l+=2,O=C.read_shift(2)){case 9:if(M!=3)throw new Error("Sector Shift: Expected 9 saw "+O);break;case 12:if(M!=4)throw new Error("Sector Shift: Expected 12 saw "+O);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+O)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function m(C,M){for(var O=Math.ceil(C.length/M)-1,F=[],b=1;b<O;++b)F[b-1]=C.slice(b*M,(b+1)*M);return F[O-1]=C.slice(O*M),F}function _(C,M,O){for(var F=0,b=0,U=0,q=0,ne=0,X=O.length,Q=[],Z=[];F<X;++F)Q[F]=Z[F]=F,M[F]=O[F];for(;ne<Z.length;++ne)F=Z[ne],b=C[F].L,U=C[F].R,q=C[F].C,Q[F]===F&&(b!==-1&&Q[b]!==b&&(Q[F]=Q[b]),U!==-1&&Q[U]!==U&&(Q[F]=Q[U])),q!==-1&&(Q[q]=F),b!==-1&&F!=Q[F]&&(Q[b]=Q[F],Z.lastIndexOf(b)<ne&&Z.push(b)),U!==-1&&F!=Q[F]&&(Q[U]=Q[F],Z.lastIndexOf(U)<ne&&Z.push(U));for(F=1;F<X;++F)Q[F]===F&&(U!==-1&&Q[U]!==U?Q[F]=Q[U]:b!==-1&&Q[b]!==b&&(Q[F]=Q[b]));for(F=1;F<X;++F)if(C[F].type!==0){if(ne=F,ne!=Q[ne])do ne=Q[ne],M[F]=M[ne]+"/"+M[F];while(ne!==0&&Q[ne]!==-1&&ne!=Q[ne]);Q[F]=-1}for(M[0]+="/",F=1;F<X;++F)C[F].type!==2&&(M[F]+="/")}function g(C,M,O){for(var F=C.start,b=C.size,U=[],q=F;O&&b>0&&q>=0;)U.push(M.slice(q*L,q*L+L)),b-=L,q=Vs(O,q*4);return U.length===0?ie(0):er(U).slice(0,C.size)}function y(C,M,O,F,b){var U=N;if(C===N){if(M!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var q=O[C],ne=(F>>>2)-1;if(!q)return;for(var X=0;X<ne&&(U=Vs(q,X*4))!==N;++X)b.push(U);y(Vs(q,F-4),M-1,O,F,b)}}function I(C,M,O,F,b){var U=[],q=[];b||(b=[]);var ne=F-1,X=0,Q=0;for(X=M;X>=0;){b[X]=!0,U[U.length]=X,q.push(C[X]);var Z=O[Math.floor(X*4/F)];if(Q=X*4&ne,F<4+Q)throw new Error("FAT boundary crossed: "+X+" 4 "+F);if(!C[Z])break;X=Vs(C[Z],Q)}return{nodes:U,data:$y([q])}}function E(C,M,O,F){var b=C.length,U=[],q=[],ne=[],X=[],Q=F-1,Z=0,ue=0,ge=0,Ee=0;for(Z=0;Z<b;++Z)if(ne=[],ge=Z+M,ge>=b&&(ge-=b),!q[ge]){X=[];var fe=[];for(ue=ge;ue>=0;){fe[ue]=!0,q[ue]=!0,ne[ne.length]=ue,X.push(C[ue]);var ye=O[Math.floor(ue*4/F)];if(Ee=ue*4&Q,F<4+Ee)throw new Error("FAT boundary crossed: "+ue+" 4 "+F);if(!C[ye]||(ue=Vs(C[ye],Ee),fe[ue]))break}U[ge]={nodes:ne,data:$y([X])}}return U}function S(C,M,O,F,b,U,q,ne){for(var X=0,Q=F.length?2:0,Z=M[C].data,ue=0,ge=0,Ee;ue<Z.length;ue+=128){var fe=Z.slice(ue,ue+128);Gr(fe,64),ge=fe.read_shift(2),Ee=Zg(fe,0,ge-Q),F.push(Ee);var ye={name:Ee,type:fe.read_shift(1),color:fe.read_shift(1),L:fe.read_shift(4,"i"),R:fe.read_shift(4,"i"),C:fe.read_shift(4,"i"),clsid:fe.read_shift(16),state:fe.read_shift(4,"i"),start:0,size:0},Pe=fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2);Pe!==0&&(ye.ct=D(fe,fe.l-8));var it=fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2);it!==0&&(ye.mt=D(fe,fe.l-8)),ye.start=fe.read_shift(4,"i"),ye.size=fe.read_shift(4,"i"),ye.size<0&&ye.start<0&&(ye.size=ye.type=0,ye.start=N,ye.name=""),ye.type===5?(X=ye.start,b>0&&X!==N&&(M[X].name="!StreamData")):ye.size>=4096?(ye.storage="fat",M[ye.start]===void 0&&(M[ye.start]=I(O,ye.start,M.fat_addrs,M.ssz)),M[ye.start].name=ye.name,ye.content=M[ye.start].data.slice(0,ye.size)):(ye.storage="minifat",ye.size<0?ye.size=0:X!==N&&ye.start!==N&&M[X]&&(ye.content=g(ye,M[X].data,(M[ne]||{}).data))),ye.content&&Gr(ye.content,0),U[Ee]=ye,q.push(ye)}}function D(C,M){return new Date((qr(C,M+4)/1e7*Math.pow(2,32)+qr(C,M)/1e7-11644473600)*1e3)}function B(C,M){return u(),f(l.readFileSync(C),M)}function j(C,M){var O=M&&M.type;switch(O||qe&&Buffer.isBuffer(C)&&(O="buffer"),O||"base64"){case"file":return B(C,M);case"base64":return f(Sn(Ai(C)),M);case"binary":return f(Sn(C),M)}return f(C,M)}function x(C,M){var O=M||{},F=O.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=F+"/",C.FileIndex[0]={name:F,type:5}),O.CLSID&&(C.FileIndex[0].clsid=O.CLSID),w(C)}function w(C){var M="Sh33tJ5";if(!nt.find(C,"/"+M)){var O=ie(4);O[0]=55,O[1]=O[3]=50,O[2]=54,C.FileIndex.push({name:M,type:2,content:O,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+M),A(C)}}function A(C,M){x(C);for(var O=!1,F=!1,b=C.FullPaths.length-1;b>=0;--b){var U=C.FileIndex[b];switch(U.type){case 0:F?O=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:F=!0,isNaN(U.R*U.L*U.C)&&(O=!0),U.R>-1&&U.L>-1&&U.R==U.L&&(O=!0);break;default:O=!0;break}}if(!(!O&&!M)){var q=new Date(1987,1,19),ne=0,X=Object.create?Object.create(null):{},Q=[];for(b=0;b<C.FullPaths.length;++b)X[C.FullPaths[b]]=!0,C.FileIndex[b].type!==0&&Q.push([C.FullPaths[b],C.FileIndex[b]]);for(b=0;b<Q.length;++b){var Z=n(Q[b][0]);F=X[Z],F||(Q.push([Z,{name:i(Z).replace("/",""),type:1,clsid:Xe,ct:q,mt:q,content:null}]),X[Z]=!0)}for(Q.sort(function(Ee,fe){return r(Ee[0],fe[0])}),C.FullPaths=[],C.FileIndex=[],b=0;b<Q.length;++b)C.FullPaths[b]=Q[b][0],C.FileIndex[b]=Q[b][1];for(b=0;b<Q.length;++b){var ue=C.FileIndex[b],ge=C.FullPaths[b];if(ue.name=i(ge).replace("/",""),ue.L=ue.R=ue.C=-(ue.color=1),ue.size=ue.content?ue.content.length:0,ue.start=0,ue.clsid=ue.clsid||Xe,b===0)ue.C=Q.length>1?1:-1,ue.size=0,ue.type=5;else if(ge.slice(-1)=="/"){for(ne=b+1;ne<Q.length&&n(C.FullPaths[ne])!=ge;++ne);for(ue.C=ne>=Q.length?-1:ne,ne=b+1;ne<Q.length&&n(C.FullPaths[ne])!=n(ge);++ne);ue.R=ne>=Q.length?-1:ne,ue.type=1}else n(C.FullPaths[b+1]||"")==n(ge)&&(ue.R=b+1),ue.type=2}}}function T(C,M){var O=M||{};if(O.fileType=="mad")return Kt(C,O);switch(A(C),O.fileType){case"zip":return Qo(C,O)}var F=function(Ee){for(var fe=0,ye=0,Pe=0;Pe<Ee.FileIndex.length;++Pe){var it=Ee.FileIndex[Pe];if(it.content){var Ye=it.content.length;Ye>0&&(Ye<4096?fe+=Ye+63>>6:ye+=Ye+511>>9)}}for(var dt=Ee.FullPaths.length+3>>2,ti=fe+7>>3,Ps=fe+127>>7,Di=ti+ye+dt+Ps,Fn=Di+127>>7,Aa=Fn<=109?0:Math.ceil((Fn-109)/127);Di+Fn+Aa+127>>7>Fn;)Aa=++Fn<=109?0:Math.ceil((Fn-109)/127);var zr=[1,Aa,Fn,Ps,dt,ye,fe,0];return Ee.FileIndex[0].size=fe<<6,zr[7]=(Ee.FileIndex[0].start=zr[0]+zr[1]+zr[2]+zr[3]+zr[4]+zr[5])+(zr[6]+7>>3),zr}(C),b=ie(F[7]<<9),U=0,q=0;{for(U=0;U<8;++U)b.write_shift(1,ke[U]);for(U=0;U<8;++U)b.write_shift(2,0);for(b.write_shift(2,62),b.write_shift(2,3),b.write_shift(2,65534),b.write_shift(2,9),b.write_shift(2,6),U=0;U<3;++U)b.write_shift(2,0);for(b.write_shift(4,0),b.write_shift(4,F[2]),b.write_shift(4,F[0]+F[1]+F[2]+F[3]-1),b.write_shift(4,0),b.write_shift(4,4096),b.write_shift(4,F[3]?F[0]+F[1]+F[2]-1:N),b.write_shift(4,F[3]),b.write_shift(-4,F[1]?F[0]-1:N),b.write_shift(4,F[1]),U=0;U<109;++U)b.write_shift(-4,U<F[2]?F[1]+U:-1)}if(F[1])for(q=0;q<F[1];++q){for(;U<236+q*127;++U)b.write_shift(-4,U<F[2]?F[1]+U:-1);b.write_shift(-4,q===F[1]-1?N:q+1)}var ne=function(Ee){for(q+=Ee;U<q-1;++U)b.write_shift(-4,U+1);Ee&&(++U,b.write_shift(-4,N))};for(q=U=0,q+=F[1];U<q;++U)b.write_shift(-4,se.DIFSECT);for(q+=F[2];U<q;++U)b.write_shift(-4,se.FATSECT);ne(F[3]),ne(F[4]);for(var X=0,Q=0,Z=C.FileIndex[0];X<C.FileIndex.length;++X)Z=C.FileIndex[X],Z.content&&(Q=Z.content.length,!(Q<4096)&&(Z.start=q,ne(Q+511>>9)));for(ne(F[6]+7>>3);b.l&511;)b.write_shift(-4,se.ENDOFCHAIN);for(q=U=0,X=0;X<C.FileIndex.length;++X)Z=C.FileIndex[X],Z.content&&(Q=Z.content.length,!(!Q||Q>=4096)&&(Z.start=q,ne(Q+63>>6)));for(;b.l&511;)b.write_shift(-4,se.ENDOFCHAIN);for(U=0;U<F[4]<<2;++U){var ue=C.FullPaths[U];if(!ue||ue.length===0){for(X=0;X<17;++X)b.write_shift(4,0);for(X=0;X<3;++X)b.write_shift(4,-1);for(X=0;X<12;++X)b.write_shift(4,0);continue}Z=C.FileIndex[U],U===0&&(Z.start=Z.size?Z.start-1:N);var ge=U===0&&O.root||Z.name;if(Q=2*(ge.length+1),b.write_shift(64,ge,"utf16le"),b.write_shift(2,Q),b.write_shift(1,Z.type),b.write_shift(1,Z.color),b.write_shift(-4,Z.L),b.write_shift(-4,Z.R),b.write_shift(-4,Z.C),Z.clsid)b.write_shift(16,Z.clsid,"hex");else for(X=0;X<4;++X)b.write_shift(4,0);b.write_shift(4,Z.state||0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,Z.start),b.write_shift(4,Z.size),b.write_shift(4,0)}for(U=1;U<C.FileIndex.length;++U)if(Z=C.FileIndex[U],Z.size>=4096)if(b.l=Z.start+1<<9,qe&&Buffer.isBuffer(Z.content))Z.content.copy(b,b.l,0,Z.size),b.l+=Z.size+511&-512;else{for(X=0;X<Z.size;++X)b.write_shift(1,Z.content[X]);for(;X&511;++X)b.write_shift(1,0)}for(U=1;U<C.FileIndex.length;++U)if(Z=C.FileIndex[U],Z.size>0&&Z.size<4096)if(qe&&Buffer.isBuffer(Z.content))Z.content.copy(b,b.l,0,Z.size),b.l+=Z.size+63&-64;else{for(X=0;X<Z.size;++X)b.write_shift(1,Z.content[X]);for(;X&63;++X)b.write_shift(1,0)}if(qe)b.l=b.length;else for(;b.l<b.length;)b.write_shift(1,0);return b}function R(C,M){var O=C.FullPaths.map(function(X){return X.toUpperCase()}),F=O.map(function(X){var Q=X.split("/");return Q[Q.length-(X.slice(-1)=="/"?2:1)]}),b=!1;M.charCodeAt(0)===47?(b=!0,M=O[0].slice(0,-1)+M):b=M.indexOf("/")!==-1;var U=M.toUpperCase(),q=b===!0?O.indexOf(U):F.indexOf(U);if(q!==-1)return C.FileIndex[q];var ne=!U.match($c);for(U=U.replace(jl,""),ne&&(U=U.replace($c,"!")),q=0;q<O.length;++q)if((ne?O[q].replace($c,"!"):O[q]).replace(jl,"")==U||(ne?F[q].replace($c,"!"):F[q]).replace(jl,"")==U)return C.FileIndex[q];return null}var L=64,N=-2,Ie="d0cf11e0a1b11ae1",ke=[208,207,17,224,161,177,26,225],Xe="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:Ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Xe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(C,M,O){u();var F=T(C,O);l.writeFileSync(M,F)}function te(C){for(var M=new Array(C.length),O=0;O<C.length;++O)M[O]=String.fromCharCode(C[O]);return M.join("")}function re(C,M){var O=T(C,M);switch(M&&M.type||"buffer"){case"file":return u(),l.writeFileSync(M.filename,O),O;case"binary":return typeof O=="string"?O:te(O);case"base64":return Su(typeof O=="string"?O:te(O));case"buffer":if(qe)return Buffer.isBuffer(O)?O:Ri(O);case"array":return typeof O=="string"?Sn(O):O}return O}var _e;function V(C){try{var M=C.InflateRaw,O=new M;if(O._processChunk(new Uint8Array([3,0]),O._finishFlushFlag),O.bytesRead)_e=C;else throw new Error("zlib does not expose bytesRead")}catch(F){console.error("cannot use native zlib: "+(F.message||F))}}function H(C,M){if(!_e)return Ta(C,M);var O=_e.InflateRaw,F=new O,b=F._processChunk(C.slice(C.l),F._finishFlushFlag);return C.l+=F.bytesRead,b}function W(C){return _e?_e.deflateRawSync(C):Go(C)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(C){var M=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(M>>16|M>>8|M)&255}for(var Se=typeof Uint8Array<"u",me=Se?new Uint8Array(256):[],We=0;We<256;++We)me[We]=xe(We);function Me(C,M){var O=me[C&255];return M<=8?O>>>8-M:(O=O<<8|me[C>>8&255],M<=16?O>>>16-M:(O=O<<8|me[C>>16&255],O>>>24-M))}function Ft(C,M){var O=M&7,F=M>>>3;return(C[F]|(O<=6?0:C[F+1]<<8))>>>O&3}function Be(C,M){var O=M&7,F=M>>>3;return(C[F]|(O<=5?0:C[F+1]<<8))>>>O&7}function jr(C,M){var O=M&7,F=M>>>3;return(C[F]|(O<=4?0:C[F+1]<<8))>>>O&15}function ot(C,M){var O=M&7,F=M>>>3;return(C[F]|(O<=3?0:C[F+1]<<8))>>>O&31}function Ae(C,M){var O=M&7,F=M>>>3;return(C[F]|(O<=1?0:C[F+1]<<8))>>>O&127}function Rr(C,M,O){var F=M&7,b=M>>>3,U=(1<<O)-1,q=C[b]>>>F;return O<8-F||(q|=C[b+1]<<8-F,O<16-F)||(q|=C[b+2]<<16-F,O<24-F)||(q|=C[b+3]<<24-F),q&U}function rn(C,M,O){var F=M&7,b=M>>>3;return F<=5?C[b]|=(O&7)<<F:(C[b]|=O<<F&255,C[b+1]=(O&7)>>8-F),M+3}function gn(C,M,O){var F=M&7,b=M>>>3;return O=(O&1)<<F,C[b]|=O,M+1}function Jn(C,M,O){var F=M&7,b=M>>>3;return O<<=F,C[b]|=O&255,O>>>=8,C[b+1]=O,M+8}function nc(C,M,O){var F=M&7,b=M>>>3;return O<<=F,C[b]|=O&255,O>>>=8,C[b+1]=O&255,C[b+2]=O>>>8,M+16}function Is(C,M){var O=C.length,F=2*O>M?2*O:M+5,b=0;if(O>=M)return C;if(qe){var U=Ny(F);if(C.copy)C.copy(U);else for(;b<C.length;++b)U[b]=C[b];return U}else if(Se){var q=new Uint8Array(F);if(q.set)q.set(C);else for(;b<O;++b)q[b]=C[b];return q}return C.length=F,C}function Nr(C){for(var M=new Array(C),O=0;O<C;++O)M[O]=0;return M}function Cs(C,M,O){var F=1,b=0,U=0,q=0,ne=0,X=C.length,Q=Se?new Uint16Array(32):Nr(32);for(U=0;U<32;++U)Q[U]=0;for(U=X;U<O;++U)C[U]=0;X=C.length;var Z=Se?new Uint16Array(X):Nr(X);for(U=0;U<X;++U)Q[b=C[U]]++,F<b&&(F=b),Z[U]=0;for(Q[0]=0,U=1;U<=F;++U)Q[U+16]=ne=ne+Q[U-1]<<1;for(U=0;U<X;++U)ne=C[U],ne!=0&&(Z[U]=Q[ne+16]++);var ue=0;for(U=0;U<X;++U)if(ue=C[U],ue!=0)for(ne=Me(Z[U],F)>>F-ue,q=(1<<F+4-ue)-1;q>=0;--q)M[ne|q<<ue]=ue&15|U<<4;return F}var It=Se?new Uint16Array(512):Nr(512),Lt=Se?new Uint16Array(32):Nr(32);if(!Se){for(var nn=0;nn<512;++nn)It[nn]=0;for(nn=0;nn<32;++nn)Lt[nn]=0}(function(){for(var C=[],M=0;M<32;M++)C.push(5);Cs(C,Lt,32);var O=[];for(M=0;M<=143;M++)O.push(8);for(;M<=255;M++)O.push(9);for(;M<=279;M++)O.push(7);for(;M<=287;M++)O.push(8);Cs(O,It,288)})();var ic=function(){for(var M=Se?new Uint8Array(32768):[],O=0,F=0;O<he.length-1;++O)for(;F<he[O+1];++F)M[F]=O;for(;F<32768;++F)M[F]=29;var b=Se?new Uint8Array(259):[];for(O=0,F=0;O<K.length-1;++O)for(;F<K[O+1];++F)b[F]=O;function U(ne,X){for(var Q=0;Q<ne.length;){var Z=Math.min(65535,ne.length-Q),ue=Q+Z==ne.length;for(X.write_shift(1,+ue),X.write_shift(2,Z),X.write_shift(2,~Z&65535);Z-- >0;)X[X.l++]=ne[Q++]}return X.l}function q(ne,X){for(var Q=0,Z=0,ue=Se?new Uint16Array(32768):[];Z<ne.length;){var ge=Math.min(65535,ne.length-Z);if(ge<10){for(Q=rn(X,Q,+(Z+ge==ne.length)),Q&7&&(Q+=8-(Q&7)),X.l=Q/8|0,X.write_shift(2,ge),X.write_shift(2,~ge&65535);ge-- >0;)X[X.l++]=ne[Z++];Q=X.l*8;continue}Q=rn(X,Q,+(Z+ge==ne.length)+2);for(var Ee=0;ge-- >0;){var fe=ne[Z];Ee=(Ee<<5^fe)&32767;var ye=-1,Pe=0;if((ye=ue[Ee])&&(ye|=Z&-32768,ye>Z&&(ye-=32768),ye<Z))for(;ne[ye+Pe]==ne[Z+Pe]&&Pe<250;)++Pe;if(Pe>2){fe=b[Pe],fe<=22?Q=Jn(X,Q,me[fe+1]>>1)-1:(Jn(X,Q,3),Q+=5,Jn(X,Q,me[fe-23]>>5),Q+=3);var it=fe<8?0:fe-4>>2;it>0&&(nc(X,Q,Pe-K[fe]),Q+=it),fe=M[Z-ye],Q=Jn(X,Q,me[fe]>>3),Q-=3;var Ye=fe<4?0:fe-2>>1;Ye>0&&(nc(X,Q,Z-ye-he[fe]),Q+=Ye);for(var dt=0;dt<Pe;++dt)ue[Ee]=Z&32767,Ee=(Ee<<5^ne[Z])&32767,++Z;ge-=Pe-1}else fe<=143?fe=fe+48:Q=gn(X,Q,1),Q=Jn(X,Q,me[fe]),ue[Ee]=Z&32767,++Z}Q=Jn(X,Q,0)-1}return X.l=(Q+7)/8|0,X.l}return function(X,Q){return X.length<8?U(X,Q):q(X,Q)}}();function Go(C){var M=ie(50+Math.floor(C.length*1.1)),O=ic(C,M);return M.slice(0,O)}var sc=Se?new Uint16Array(32768):Nr(32768),Ni=Se?new Uint16Array(32768):Nr(32768),Ko=Se?new Uint16Array(128):Nr(128),qo=1,wa=1;function yd(C,M){var O=ot(C,M)+257;M+=5;var F=ot(C,M)+1;M+=5;var b=jr(C,M)+4;M+=4;for(var U=0,q=Se?new Uint8Array(19):Nr(19),ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],X=1,Q=Se?new Uint8Array(8):Nr(8),Z=Se?new Uint8Array(8):Nr(8),ue=q.length,ge=0;ge<b;++ge)q[z[ge]]=U=Be(C,M),X<U&&(X=U),Q[U]++,M+=3;var Ee=0;for(Q[0]=0,ge=1;ge<=X;++ge)Z[ge]=Ee=Ee+Q[ge-1]<<1;for(ge=0;ge<ue;++ge)(Ee=q[ge])!=0&&(ne[ge]=Z[Ee]++);var fe=0;for(ge=0;ge<ue;++ge)if(fe=q[ge],fe!=0){Ee=me[ne[ge]]>>8-fe;for(var ye=(1<<7-fe)-1;ye>=0;--ye)Ko[Ee|ye<<fe]=fe&7|ge<<3}var Pe=[];for(X=1;Pe.length<O+F;)switch(Ee=Ko[Ae(C,M)],M+=Ee&7,Ee>>>=3){case 16:for(U=3+Ft(C,M),M+=2,Ee=Pe[Pe.length-1];U-- >0;)Pe.push(Ee);break;case 17:for(U=3+Be(C,M),M+=3;U-- >0;)Pe.push(0);break;case 18:for(U=11+Ae(C,M),M+=7;U-- >0;)Pe.push(0);break;default:Pe.push(Ee),X<Ee&&(X=Ee);break}var it=Pe.slice(0,O),Ye=Pe.slice(O);for(ge=O;ge<286;++ge)it[ge]=0;for(ge=F;ge<30;++ge)Ye[ge]=0;return qo=Cs(it,sc,286),wa=Cs(Ye,Ni,30),M}function xd(C,M){if(C[0]==3&&!(C[1]&3))return[oa(M),2];for(var O=0,F=0,b=Ny(M||1<<18),U=0,q=b.length>>>0,ne=0,X=0;!(F&1);){if(F=Be(C,O),O+=3,F>>>1)F>>1==1?(ne=9,X=5):(O=yd(C,O),ne=qo,X=wa);else{O&7&&(O+=8-(O&7));var Q=C[O>>>3]|C[(O>>>3)+1]<<8;if(O+=32,Q>0)for(!M&&q<U+Q&&(b=Is(b,U+Q),q=b.length);Q-- >0;)b[U++]=C[O>>>3],O+=8;continue}for(;;){!M&&q<U+32767&&(b=Is(b,U+32767),q=b.length);var Z=Rr(C,O,ne),ue=F>>>1==1?It[Z]:sc[Z];if(O+=ue&15,ue>>>=4,!(ue>>>8&255))b[U++]=ue;else{if(ue==256)break;ue-=257;var ge=ue<8?0:ue-4>>2;ge>5&&(ge=0);var Ee=U+K[ue];ge>0&&(Ee+=Rr(C,O,ge),O+=ge),Z=Rr(C,O,X),ue=F>>>1==1?Lt[Z]:Ni[Z],O+=ue&15,ue>>>=4;var fe=ue<4?0:ue-2>>1,ye=he[ue];for(fe>0&&(ye+=Rr(C,O,fe),O+=fe),!M&&q<Ee&&(b=Is(b,Ee+100),q=b.length);U<Ee;)b[U]=b[U-ye],++U}}}return M?[b,O+7>>>3]:[b.slice(0,U),O+7>>>3]}function Ta(C,M){var O=C.slice(C.l||0),F=xd(O,M);return C.l+=F[1],F[0]}function Xo(C,M){if(C)typeof console<"u"&&console.error(M);else throw new Error(M)}function Yo(C,M){var O=C;Gr(O,0);var F=[],b=[],U={FileIndex:F,FullPaths:b};x(U,{root:M.root});for(var q=O.length-4;(O[q]!=80||O[q+1]!=75||O[q+2]!=5||O[q+3]!=6)&&q>=0;)--q;O.l=q+4,O.l+=4;var ne=O.read_shift(2);O.l+=6;var X=O.read_shift(4);for(O.l=X,q=0;q<ne;++q){O.l+=20;var Q=O.read_shift(4),Z=O.read_shift(4),ue=O.read_shift(2),ge=O.read_shift(2),Ee=O.read_shift(2);O.l+=8;var fe=O.read_shift(4),ye=o(O.slice(O.l+ue,O.l+ue+ge));O.l+=ue+ge+Ee;var Pe=O.l;O.l=fe+4,ks(O,Q,Z,U,ye),O.l=Pe}return U}function ks(C,M,O,F,b){C.l+=2;var U=C.read_shift(2),q=C.read_shift(2),ne=a(C);if(U&8257)throw new Error("Unsupported ZIP encryption");for(var X=C.read_shift(4),Q=C.read_shift(4),Z=C.read_shift(4),ue=C.read_shift(2),ge=C.read_shift(2),Ee="",fe=0;fe<ue;++fe)Ee+=String.fromCharCode(C[C.l++]);if(ge){var ye=o(C.slice(C.l,C.l+ge));(ye[21589]||{}).mt&&(ne=ye[21589].mt),((b||{})[21589]||{}).mt&&(ne=b[21589].mt)}C.l+=ge;var Pe=C.slice(C.l,C.l+Q);switch(q){case 8:Pe=H(C,Z);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+q)}var it=!1;U&8&&(X=C.read_shift(4),X==134695760&&(X=C.read_shift(4),it=!0),Q=C.read_shift(4),Z=C.read_shift(4)),Q!=M&&Xo(it,"Bad compressed size: "+M+" != "+Q),Z!=O&&Xo(it,"Bad uncompressed size: "+O+" != "+Z),ei(F,Ee,Pe,{unsafe:!0,mt:ne})}function Qo(C,M){var O=M||{},F=[],b=[],U=ie(1),q=O.compression?8:0,ne=0,X=0,Q=0,Z=0,ue=0,ge=C.FullPaths[0],Ee=ge,fe=C.FileIndex[0],ye=[],Pe=0;for(X=1;X<C.FullPaths.length;++X)if(Ee=C.FullPaths[X].slice(ge.length),fe=C.FileIndex[X],!(!fe.size||!fe.content||Ee=="Sh33tJ5")){var it=Z,Ye=ie(Ee.length);for(Q=0;Q<Ee.length;++Q)Ye.write_shift(1,Ee.charCodeAt(Q)&127);Ye=Ye.slice(0,Ye.l),ye[ue]=fL.buf(fe.content,0);var dt=fe.content;q==8&&(dt=W(dt)),U=ie(30),U.write_shift(4,67324752),U.write_shift(2,20),U.write_shift(2,ne),U.write_shift(2,q),fe.mt?s(U,fe.mt):U.write_shift(4,0),U.write_shift(-4,ye[ue]),U.write_shift(4,dt.length),U.write_shift(4,fe.content.length),U.write_shift(2,Ye.length),U.write_shift(2,0),Z+=U.length,F.push(U),Z+=Ye.length,F.push(Ye),Z+=dt.length,F.push(dt),U=ie(46),U.write_shift(4,33639248),U.write_shift(2,0),U.write_shift(2,20),U.write_shift(2,ne),U.write_shift(2,q),U.write_shift(4,0),U.write_shift(-4,ye[ue]),U.write_shift(4,dt.length),U.write_shift(4,fe.content.length),U.write_shift(2,Ye.length),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(4,0),U.write_shift(4,it),Pe+=U.l,b.push(U),Pe+=Ye.length,b.push(Ye),++ue}return U=ie(22),U.write_shift(4,101010256),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,ue),U.write_shift(2,ue),U.write_shift(4,Pe),U.write_shift(4,Z),U.write_shift(2,0),er([er(F),er(b),U])}var Pi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zn(C,M){if(C.ctype)return C.ctype;var O=C.name||"",F=O.match(/\.([^\.]+)$/);return F&&Pi[F[1]]||M&&(F=(O=M).match(/[\.\\]([^\.\\])+$/),F&&Pi[F[1]])?Pi[F[1]]:"application/octet-stream"}function ac(C){for(var M=Su(C),O=[],F=0;F<M.length;F+=76)O.push(M.slice(F,F+76));return O.join(`\r
`)+`\r
`}function Sa(C){var M=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Q){var Z=Q.charCodeAt(0).toString(16).toUpperCase();return"="+(Z.length==1?"0"+Z:Z)});M=M.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),M.charAt(0)==`
`&&(M="=0D"+M.slice(1)),M=M.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var O=[],F=M.split(`\r
`),b=0;b<F.length;++b){var U=F[b];if(U.length==0){O.push("");continue}for(var q=0;q<U.length;){var ne=76,X=U.slice(q,q+ne);X.charAt(ne-1)=="="?ne--:X.charAt(ne-2)=="="?ne-=2:X.charAt(ne-3)=="="&&(ne-=3),X=U.slice(q,q+ne),q+=ne,q<U.length&&(X+="="),O.push(X)}}return O.join(`\r
`)}function oc(C){for(var M=[],O=0;O<C.length;++O){for(var F=C[O];O<=C.length&&F.charAt(F.length-1)=="=";)F=F.slice(0,F.length-1)+C[++O];M.push(F)}for(var b=0;b<M.length;++b)M[b]=M[b].replace(/[=][0-9A-Fa-f]{2}/g,function(U){return String.fromCharCode(parseInt(U.slice(1),16))});return Sn(M.join(`\r
`))}function Rs(C,M,O){for(var F="",b="",U="",q,ne=0;ne<10;++ne){var X=M[ne];if(!X||X.match(/^\s*$/))break;var Q=X.match(/^(.*?):\s*([^\s].*)$/);if(Q)switch(Q[1].toLowerCase()){case"content-location":F=Q[2].trim();break;case"content-type":U=Q[2].trim();break;case"content-transfer-encoding":b=Q[2].trim();break}}switch(++ne,b.toLowerCase()){case"base64":q=Sn(Ai(M.slice(ne).join("")));break;case"quoted-printable":q=oc(M.slice(ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+b)}var Z=ei(C,F.slice(O.length),q,{unsafe:!0});U&&(Z.ctype=U)}function lc(C,M){if(te(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var O=M&&M.root||"",F=(qe&&Buffer.isBuffer(C)?C.toString("binary"):te(C)).split(`\r
`),b=0,U="";for(b=0;b<F.length;++b)if(U=F[b],!!/^Content-Location:/i.test(U)&&(U=U.slice(U.indexOf("file")),O||(O=U.slice(0,U.lastIndexOf("/")+1)),U.slice(0,O.length)!=O))for(;O.length>0&&(O=O.slice(0,O.length-1),O=O.slice(0,O.lastIndexOf("/")+1),U.slice(0,O.length)!=O););var q=(F[1]||"").match(/boundary="(.*?)"/);if(!q)throw new Error("MAD cannot find boundary");var ne="--"+(q[1]||""),X=[],Q=[],Z={FileIndex:X,FullPaths:Q};x(Z);var ue,ge=0;for(b=0;b<F.length;++b){var Ee=F[b];Ee!==ne&&Ee!==ne+"--"||(ge++&&Rs(Z,F.slice(ue,b),O),ue=b)}return Z}function Kt(C,M){var O=M||{},F=O.boundary||"SheetJS";F="------="+F;for(var b=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+F.slice(2)+'"',"","",""],U=C.FullPaths[0],q=U,ne=C.FileIndex[0],X=1;X<C.FullPaths.length;++X)if(q=C.FullPaths[X].slice(U.length),ne=C.FileIndex[X],!(!ne.size||!ne.content||q=="Sh33tJ5")){q=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pe){return"_x"+Pe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pe){return"_u"+Pe.charCodeAt(0).toString(16)+"_"});for(var Q=ne.content,Z=qe&&Buffer.isBuffer(Q)?Q.toString("binary"):te(Q),ue=0,ge=Math.min(1024,Z.length),Ee=0,fe=0;fe<=ge;++fe)(Ee=Z.charCodeAt(fe))>=32&&Ee<128&&++ue;var ye=ue>=ge*4/5;b.push(F),b.push("Content-Location: "+(O.root||"file:///C:/SheetJS/")+q),b.push("Content-Transfer-Encoding: "+(ye?"quoted-printable":"base64")),b.push("Content-Type: "+Zn(ne,q)),b.push(""),b.push(ye?Sa(Z):ac(Z))}return b.push(F+`--\r
`),b.join(`\r
`)}function uc(C){var M={};return x(M,C),M}function ei(C,M,O,F){var b=F&&F.unsafe;b||x(C);var U=!b&&nt.find(C,M);if(!U){var q=C.FullPaths[0];M.slice(0,q.length)==q?q=M:(q.slice(-1)!="/"&&(q+="/"),q=(q+M).replace("//","/")),U={name:i(M),type:2},C.FileIndex.push(U),C.FullPaths.push(q),b||nt.utils.cfb_gc(C)}return U.content=O,U.size=O?O.length:0,F&&(F.CLSID&&(U.clsid=F.CLSID),F.mt&&(U.mt=F.mt),F.ct&&(U.ct=F.ct)),U}function Ns(C,M){x(C);var O=nt.find(C,M);if(O){for(var F=0;F<C.FileIndex.length;++F)if(C.FileIndex[F]==O)return C.FileIndex.splice(F,1),C.FullPaths.splice(F,1),!0}return!1}function Ed(C,M,O){x(C);var F=nt.find(C,M);if(F){for(var b=0;b<C.FileIndex.length;++b)if(C.FileIndex[b]==F)return C.FileIndex[b].name=i(O),C.FullPaths[b]=O,!0}return!1}function wd(C){A(C,!0)}return e.find=R,e.read=j,e.parse=f,e.write=re,e.writeFile=Y,e.utils={cfb_new:uc,cfb_add:ei,cfb_del:Ns,cfb_mov:Ed,cfb_gc:wd,ReadShift:Wl,CheckField:FS,prep_blob:Gr,bconcat:er,use_zlib:V,_deflateRaw:Go,_inflateRaw:Ta,consts:se},e}();function hL(t){return typeof t=="string"?fd(t):Array.isArray(t)?V3(t):t}function Ju(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=fd(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Iu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([hL(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Qu(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function or(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Vy(t,e){for(var r=[],n=or(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Xg(t){for(var e=[],r=or(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function pd(t){for(var e=[],r=or(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function dL(t){for(var e=[],r=or(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var ph=new Date(1899,11,30,0,0,0);function Ur(t,e){var r=t.getTime(),n=ph.getTime()+(t.getTimezoneOffset()-ph.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var vS=new Date,pL=ph.getTime()+(vS.getTimezoneOffset()-ph.getTimezoneOffset())*6e4,Uy=vS.getTimezoneOffset();function _S(t){var e=new Date;return e.setTime(t*24*60*60*1e3+pL),e.getTimezoneOffset()!==Uy&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Uy)*6e4),e}var By=new Date("2017-02-19T19:06:09.000Z"),yS=isNaN(By.getFullYear())?new Date("2/19/17"):By,mL=yS.getFullYear()==2017;function Ar(t,e){var r=new Date(t);if(mL)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(yS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function md(t,e){if(qe&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Br(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Br(t[r]));return e}function wt(t,e){for(var r="";r.length<e;)r+=t;return r}function mi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var gL=["january","february","march","april","may","june","july","august","september","october","november","december"];function Au(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&gL.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Le(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return qe?n=Ri(r):n=U3(r),nt.utils.cfb_add(t,e,n)}nt.utils.cfb_add(t,e,r)}else t.file(e,r)}function Yg(){return nt.utils.cfb_new()}var Ot=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Qg=Xg(vL),Jg=/[&<>'"]/g,_L=/[\u0000-\u0008\u000b-\u001f]/g;function Ze(t){var e=t+"";return e.replace(Jg,function(r){return Qg[r]}).replace(_L,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function jy(t){return Ze(t).replace(/ /g,"_x0020_")}var xS=/[\u0000-\u001f]/g;function yL(t){var e=t+"";return e.replace(Jg,function(r){return Qg[r]}).replace(/\n/g,"<br/>").replace(xS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function xL(t){var e=t+"";return e.replace(Jg,function(r){return Qg[r]}).replace(xS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function EL(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function wL(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function p0(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function zy(t){var e=oa(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Wy(t){return Ri(t,"binary").toString("utf8")}var Kc="foo bar baz",zl=qe&&(Wy(Kc)==p0(Kc)&&Wy||zy(Kc)==p0(Kc)&&zy)||p0,Iu=qe?function(t){return Ri(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},TL=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),ES=/(^\s|\s$|\n)/;function tr(t,e){return"<"+t+(e.match(ES)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Cu(t){return or(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function de(t,e,r){return"<"+t+(r!=null?Cu(r):"")+(e!=null?(e.match(ES)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function $p(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function SL(t,e){switch(typeof t){case"string":var r=de("vt:lpwstr",Ze(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return de((t|0)==t?"vt:i4":"vt:r8",Ze(String(t)));case"boolean":return de("vt:bool",t?"true":"false")}if(t instanceof Date)return de("vt:filetime",$p(t));throw new Error("Unable to serialize "+t)}var Wt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zo=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Kr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function AL(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function IL(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var Hy=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},$y=qe?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ri(e)})):Hy(t)}:Hy,Gy=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Il(t,i)));return n.join("").replace(jl,"")},Zg=qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(jl,""):Gy(t,e,r)}:Gy,Ky=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},wS=qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Ky(t,e,r)}:Ky,qy=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Va(t,i)));return n.join("")},Zu=qe?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):qy(e,r,n)}:qy,TS=function(t,e){var r=qr(t,e);return r>0?Zu(t,e+4,e+4+r-1):""},SS=TS,AS=function(t,e){var r=qr(t,e);return r>0?Zu(t,e+4,e+4+r-1):""},IS=AS,CS=function(t,e){var r=2*qr(t,e);return r>0?Zu(t,e+4,e+4+r-1):""},kS=CS,RS=function(e,r){var n=qr(e,r);return n>0?Zg(e,r+4,r+4+n):""},NS=RS,PS=function(t,e){var r=qr(t,e);return r>0?Zu(t,e+4,e+4+r):""},DS=PS,OS=function(t,e){return AL(t,e)},mh=OS,ev=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};qe&&(SS=function(e,r){if(!Buffer.isBuffer(e))return TS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},IS=function(e,r){if(!Buffer.isBuffer(e))return AS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},kS=function(e,r){if(!Buffer.isBuffer(e))return CS(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},NS=function(e,r){if(!Buffer.isBuffer(e))return RS(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},DS=function(e,r){if(!Buffer.isBuffer(e))return PS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},mh=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):OS(e,r)},ev=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Va=function(t,e){return t[e]},Il=function(t,e){return t[e+1]*256+t[e]},CL=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},qr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Vs=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},kL=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Wl(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Il(this,u)),u+=2;t*=2;break;case"utf8":r=Zu(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Zg(this,this.l,this.l+t);break;case"wstr":return Wl.call(this,t,"dbcs");case"lpstr-ansi":r=SS(this,this.l),t=4+qr(this,this.l);break;case"lpstr-cp":r=IS(this,this.l),t=4+qr(this,this.l);break;case"lpwstr":r=kS(this,this.l),t=4+2*qr(this,this.l);break;case"lpp4":t=4+qr(this,this.l),r=NS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+qr(this,this.l),r=DS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Va(this,this.l+t++))!==0;)s.push(Hc(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=Il(this,this.l+t))!==0;)s.push(Hc(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Va(this,u),this.l=u+1,o=Wl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Hc(Il(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Va(this,u),this.l=u+1,o=Wl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Hc(Va(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Va(this,this.l),this.l++,n;case 2:return n=(e==="i"?CL:Il)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Vs:kL)(this,this.l),this.l+=4,n):(i=qr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=mh(this,this.l):i=mh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=wS(this,this.l,t);break}}return this.l+=t,r}var RL=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},NL=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},PL=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function DL(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)PL(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,RL(this,e,this.l);break;case 8:if(n=8,r==="f"){IL(this,e,this.l);break}case 16:break;case-4:n=4,NL(this,e,this.l);break}return this.l+=n,this}function FS(t,e){var r=wS(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Gr(t,e){t.l=e,t.read_shift=Wl,t.chk=FS,t.write_shift=DL}function Yn(t,e){t.l+=e}function ie(t){var e=oa(t);return Gr(e,0),e}function Vr(){var t=[],e=qe?256:2048,r=function(u){var f=ie(u);return Gr(f,0),f},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),er(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function oe(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=A9[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&ev(r)&&t.push(r)}}function Hl(t,e,r){var n=Br(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Xy(t,e,r){var n=Br(t);return n.s=Hl(n.s,e.s,r),n.e=Hl(n.e,e.s,r),n}function $l(t,e){if(t.cRel&&t.c<0)for(t=Br(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Br(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=rt(t);return!t.cRel&&t.cRel!=null&&(r=LL(r)),!t.rRel&&t.rRel!=null&&(r=OL(r)),r}function m0(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+gr(t.s.c)+":"+(t.e.cRel?"":"$")+gr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ir(t.s.r)+":"+(t.e.rRel?"":"$")+ir(t.e.r):$l(t.s,e.biff)+":"+$l(t.e,e.biff)}function tv(t){return parseInt(FL(t),10)-1}function ir(t){return""+(t+1)}function OL(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function FL(t){return t.replace(/\$(\d+)$/,"$1")}function rv(t){for(var e=ML(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function gr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function LL(t){return t.replace(/^([A-Z])/,"$$$1")}function ML(t){return t.replace(/^\$([A-Z])/,"$1")}function bL(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ht(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function rt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Zr(t){var e=t.indexOf(":");return e==-1?{s:Ht(t),e:Ht(t)}:{s:Ht(t.slice(0,e)),e:Ht(t.slice(e+1))}}function Dt(t,e){return typeof e>"u"||typeof e=="number"?Dt(t.s,t.e):(typeof t!="string"&&(t=rt(t)),typeof e!="string"&&(e=rt(e)),t==e?t:t+":"+e)}function ht(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function Yy(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=vs(t.z,r?Ur(e):e)}catch{}try{return t.w=vs((t.XF||{}).numFmtId||(r?14:0),r?Ur(e):e)}catch{return""+e}}function Ii(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?ec[t.v]||t.v:e==null?Yy(t,t.v):Yy(t,e))}function va(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function LS(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Ht(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=ht(s["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(u.e.r=a=f.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[h].length;++d)if(!(typeof e[h][d]>"u")){var m={v:e[h][d]},_=a+h,g=o+d;if(u.s.r>_&&(u.s.r=_),u.s.c>g&&(u.s.c=g),u.e.r<_&&(u.e.r=_),u.e.c<g&&(u.e.c=g),e[h][d]&&typeof e[h][d]=="object"&&!Array.isArray(e[h][d])&&!(e[h][d]instanceof Date))m=e[h][d];else if(Array.isArray(m.v)&&(m.f=e[h][d][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Tt[14],n.cellDates?(m.t="d",m.w=vs(m.z,Ur(m.v))):(m.t="n",m.v=Ur(m.v),m.w=vs(m.z,m.v))):m.t="s";if(i)s[_]||(s[_]=[]),s[_][g]&&s[_][g].z&&(m.z=s[_][g].z),s[_][g]=m;else{var y=rt({c:g,r:_});s[y]&&s[y].z&&(m.z=s[y].z),s[y]=m}}}return u.s.c<1e7&&(s["!ref"]=Dt(u)),s}function Wo(t,e){return LS(null,t,e)}function VL(t){return t.read_shift(4,"i")}function Rn(t,e){return e||(e=ie(4)),e.write_shift(4,t),e}function vr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function $t(t,e){var r=!1;return e==null&&(r=!0,e=ie(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function UL(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function BL(t,e){return e||(e=ie(4)),e.write_shift(2,0),e.write_shift(2,0),e}function nv(t,e){var r=t.l,n=t.read_shift(1),i=vr(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(UL(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function jL(t,e){var r=!1;return e==null&&(r=!0,e=ie(15+4*t.t.length)),e.write_shift(1,0),$t(t.t,e),r?e.slice(0,e.l):e}var zL=nv;function WL(t,e){var r=!1;return e==null&&(r=!0,e=ie(23+4*t.t.length)),e.write_shift(1,1),$t(t.t,e),e.write_shift(4,1),BL({},e),r?e.slice(0,e.l):e}function mn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function _a(t,e){return e==null&&(e=ie(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function ya(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function xa(t,e){return e==null&&(e=ie(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var HL=vr,MS=$t;function iv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function gh(t,e){var r=!1;return e==null&&(r=!0,e=ie(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var $L=vr,Gp=iv,sv=gh;function bS(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?mh([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Vs(e,0)>>2;return r?i/100:i}function VS(t,e){e==null&&(e=ie(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function US(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function GL(t,e){return e||(e=ie(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Ea=US,Ho=GL;function $o(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function la(t,e){return(e||ie(8)).write_shift(8,t,"f")}function KL(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=rM[i];u&&(e.rgb=ox(u));break;case 2:e.rgb=ox([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function vh(t,e){if(e||(e=ie(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function qL(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function XL(t,e){e||(e=ie(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var BS=2,Hr=3,qc=11,_h=19,Xc=64,YL=65,QL=71,JL=4108,ZL=4126,Qt=80,Qy={1:{n:"CodePage",t:BS},2:{n:"Category",t:Qt},3:{n:"PresentationFormat",t:Qt},4:{n:"ByteCount",t:Hr},5:{n:"LineCount",t:Hr},6:{n:"ParagraphCount",t:Hr},7:{n:"SlideCount",t:Hr},8:{n:"NoteCount",t:Hr},9:{n:"HiddenCount",t:Hr},10:{n:"MultimediaClipCount",t:Hr},11:{n:"ScaleCrop",t:qc},12:{n:"HeadingPairs",t:JL},13:{n:"TitlesOfParts",t:ZL},14:{n:"Manager",t:Qt},15:{n:"Company",t:Qt},16:{n:"LinksUpToDate",t:qc},17:{n:"CharacterCount",t:Hr},19:{n:"SharedDoc",t:qc},22:{n:"HyperlinksChanged",t:qc},23:{n:"AppVersion",t:Hr,p:"version"},24:{n:"DigSig",t:YL},26:{n:"ContentType",t:Qt},27:{n:"ContentStatus",t:Qt},28:{n:"Language",t:Qt},29:{n:"Version",t:Qt},255:{},2147483648:{n:"Locale",t:_h},2147483651:{n:"Behavior",t:_h},1919054434:{}},Jy={1:{n:"CodePage",t:BS},2:{n:"Title",t:Qt},3:{n:"Subject",t:Qt},4:{n:"Author",t:Qt},5:{n:"Keywords",t:Qt},6:{n:"Comments",t:Qt},7:{n:"Template",t:Qt},8:{n:"LastAuthor",t:Qt},9:{n:"RevNumber",t:Qt},10:{n:"EditTime",t:Xc},11:{n:"LastPrinted",t:Xc},12:{n:"CreatedDate",t:Xc},13:{n:"ModifiedDate",t:Xc},14:{n:"PageCount",t:Hr},15:{n:"WordCount",t:Hr},16:{n:"CharCount",t:Hr},17:{n:"Thumbnail",t:QL},18:{n:"Application",t:Qt},19:{n:"DocSecurity",t:Hr},255:{},2147483648:{n:"Locale",t:_h},2147483651:{n:"Behavior",t:_h},1919054434:{}};function eM(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var tM=eM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rM=Br(tM),ec={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},nM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Yc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jS(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zS(t,e){var r=dL(nM),n=[],i;n[n.length]=Ot,n[n.length]=de("Types",null,{xmlns:Wt.CT,"xmlns:xsd":Wt.xsd,"xmlns:xsi":Wt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return de("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=de("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Yc[l][e.bookType]||Yc[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=de("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Yc[l][e.bookType]||Yc[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=de("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var $e={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function WS(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function fo(t){var e=[Ot,de("Relationships",null,{xmlns:Wt.RELS})];return or(t["!id"]).forEach(function(r){e[e.length]=de("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Je(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[$e.HLINK,$e.XPATH,$e.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function iM(t){var e=[Ot];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Zy(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function sM(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function aM(t){var e=[Ot];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Zy(t[r][0],t[r][1])),e.push(sM("",t[r][0]));return e.push(Zy("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function HS(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+uh.version+"</meta:generator></office:meta></office:document-meta>"}var Xs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function g0(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Ze(e),n[n.length]=r?de(t,e,r):tr(t,e))}function $S(t,e){var r=e||{},n=[Ot,de("cp:coreProperties",null,{"xmlns:cp":Wt.CORE_PROPS,"xmlns:dc":Wt.dc,"xmlns:dcterms":Wt.dcterms,"xmlns:dcmitype":Wt.dcmitype,"xmlns:xsi":Wt.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&g0("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:$p(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&g0("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:$p(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Xs.length;++s){var a=Xs[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&g0(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ho=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],GS=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function KS(t){var e=[],r=de;return t||(t={}),t.Application="SheetJS",e[e.length]=Ot,e[e.length]=de("Properties",null,{xmlns:Wt.EXT_PROPS,"xmlns:vt":Wt.vt}),ho.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ze(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Ze(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function qS(t){var e=[Ot,de("Properties",null,{xmlns:Wt.CUST_PROPS,"xmlns:vt":Wt.vt})];if(!t)return e.join("");var r=1;return or(t).forEach(function(i){++r,e[e.length]=de("property",SL(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ze(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var ex={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function oM(t,e){var r=[];return or(ex).map(function(n){for(var i=0;i<Xs.length;++i)if(Xs[i][1]==n)return Xs[i];for(i=0;i<ho.length;++i)if(ho[i][1]==n)return ho[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(tr(ex[n[1]]||n[1],i))}}),de("DocumentProperties",r.join(""),{xmlns:Kr.o})}function lM(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&or(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Xs.length;++a)if(s==Xs[a][1])return;for(a=0;a<ho.length;++a)if(s==ho[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(de(jy(s),o,{"dt:dt":l}))}}),e&&or(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(de(jy(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Kr.o+'">'+i.join("")+"</"+n+">"}function uM(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=ie(8);return a.write_shift(4,n),a.write_shift(4,i),a}function tx(t,e){var r=ie(4),n=ie(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ie(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=uM(e);break;case 31:case 80:for(n=ie(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return er([r,n])}var XS=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function cM(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function rx(t,e,r){var n=ie(8),i=[],s=[],a=8,o=0,l=ie(8),u=ie(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=ie(8),u.write_shift(4,0),i.unshift(u);var f=[ie(4)];for(f[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=ie(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=er(f),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(XS.indexOf(t[o][0])>-1||GS.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],m=0;if(e){m=+e[t[o][0]];var _=r[m];if(_.p=="version"&&typeof d=="string"){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=tx(_.t,d)}else{var y=cM(d);y==-1&&(y=31,d=String(d)),l=tx(y,d)}s.push(l),u=ie(8),u.write_shift(4,e?m:2+o),i.push(u),a+=8+l.length}var I=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,I),I+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),er([n].concat(i).concat(s))}function nx(t,e,r,n,i,s){var a=ie(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,nt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=rx(t,r,n);if(o.push(l),i){var u=rx(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return er(o)}function fM(t,e){e||(e=ie(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function hM(t,e){return t.read_shift(e)===1}function wr(t,e){return e||(e=ie(2)),e.write_shift(2,+!!t),e}function YS(t){return t.read_shift(2,"u")}function an(t,e){return e||(e=ie(2)),e.write_shift(2,t),e}function QS(t,e,r){return r||(r=ie(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function JS(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function dM(t){var e=t.t||"",r=ie(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ie(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return er(i)}function pM(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function mM(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):pM(t,n,r)}function gM(t,e,r){if(r.biff>5)return mM(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function ZS(t,e,r){return r||(r=ie(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function ix(t,e){e||(e=ie(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function vM(t){var e=ie(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),ix(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&ix(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function ua(t,e,r,n){return n||(n=ie(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function _M(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function yM(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function eA(t,e){return e||(e=ie(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function av(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ie(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function xM(t,e){var r=!e||e.biff==8,n=ie(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function EM(t,e){var r=!e||e.biff>=8?2:1,n=ie(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function wM(t,e){var r=ie(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=dM(t[i]);var s=er([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function TM(){var t=ie(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function SM(t){var e=ie(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function AM(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=ie(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function IM(t,e,r,n){var i=ie(10);return ua(t,e,n,i),i.write_shift(4,r),i}function CM(t,e,r,n,i){var s=!i||i.biff==8,a=ie(8+ +s+(1+s)*r.length);return ua(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function kM(t,e,r,n){var i=r&&r.biff==5;n||(n=ie(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function RM(t,e){var r=e.biff==8||!e.biff?4:2,n=ie(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function sx(t,e,r,n){var i=r&&r.biff==5;n||(n=ie(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function NM(t){var e=ie(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function PM(t,e,r,n,i,s){var a=ie(8);return ua(t,e,n,a),QS(r,s,a),a}function DM(t,e,r,n){var i=ie(14);return ua(t,e,n,i),la(r,i),i}function OM(t,e,r){if(r.biff<8)return FM(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(_M(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function FM(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=JS(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function LM(t){var e=ie(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)eA(t[r],e);return e}function MM(t){var e=ie(24),r=Ht(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return er([e,vM(t[1])])}function bM(t){var e=t[1].Tooltip,r=ie(10+2*(e.length+1));r.write_shift(2,2048);var n=Ht(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function VM(t){return t||(t=ie(4)),t.write_shift(2,1),t.write_shift(2,1),t}function UM(t,e,r){if(!r.cellStyles)return Yn(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function BM(t,e){var r=ie(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function jM(t){for(var e=ie(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function zM(t,e,r){var n=ie(15);return rc(n,t,e),n.write_shift(8,r,"f"),n}function WM(t,e,r){var n=ie(9);return rc(n,t,e),n.write_shift(2,r),n}var HM=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Xg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],f=oa(1);switch(l.type){case"base64":f=Sn(Ai(o));break;case"binary":f=Sn(o);break;case"buffer":case"array":f=o;break}Gr(f,0);var h=f.read_shift(1),d=!!(h&136),m=!1,_=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,d=!0;break;case 49:m=!0,d=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,y=521;h==2&&(g=f.read_shift(2)),f.l+=3,h!=2&&(g=f.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(y=f.read_shift(2));var I=f.read_shift(2),E=l.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(E=t[f[f.l]]),f.l+=1,f.l+=2),_&&(f.l+=36);for(var S=[],D={},B=Math.min(f.length,h==2?521:y-10-(m?264:0)),j=_?32:11;f.l<B&&f[f.l]!=13;)switch(D={},D.name=ch.utils.decode(E,f.slice(f.l,f.l+j)).replace(/[\u0000\r\n].*$/g,""),f.l+=j,D.type=String.fromCharCode(f.read_shift(1)),h!=2&&!_&&(D.offset=f.read_shift(4)),D.len=f.read_shift(1),h==2&&(D.offset=f.read_shift(2)),D.dec=f.read_shift(1),D.name.length&&S.push(D),h!=2&&(f.l+=_?13:14),D.type){case"B":(!m||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(f[f.l]!==13&&(f.l=y-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=y;var x=0,w=0;for(u[0]=[],w=0;w!=S.length;++w)u[0][w]=S[w].name;for(;g-- >0;){if(f[f.l]===42){f.l+=I;continue}for(++f.l,u[++x]=[],w=0,w=0;w!=S.length;++w){var A=f.slice(f.l,f.l+S[w].len);f.l+=S[w].len,Gr(A,0);var T=ch.utils.decode(E,A);switch(S[w].type){case"C":T.trim().length&&(u[x][w]=T.replace(/\s+$/,""));break;case"D":T.length===8?u[x][w]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):u[x][w]=T;break;case"F":u[x][w]=parseFloat(T.trim());break;case"+":case"I":u[x][w]=_?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":u[x][w]=!0;break;case"N":case"F":u[x][w]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[x][w]="##MEMO##"+(_?parseInt(T.trim(),10):A.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(u[x][w]=+T||0);break;case"@":u[x][w]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":u[x][w]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":u[x][w]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[x][w]=-A.read_shift(-8,"f");break;case"B":if(m&&S[w].len==8){u[x][w]=A.read_shift(8,"f");break}case"G":case"P":A.l+=S[w].len;break;case"0":if(S[w].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[w].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Wo(r(o,u),u);return f["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,f}function i(o,l){try{return va(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&Tu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Vr(),h=Th(o,{header:1,raw:!0,cellDates:!0}),d=h[0],m=h.slice(1),_=o["!cols"]||[],g=0,y=0,I=0,E=1;for(g=0;g<d.length;++g){if(((_[g]||{}).DBF||{}).name){d[g]=_[g].DBF.name,++I;continue}if(d[g]!=null){if(++I,typeof d[g]=="number"&&(d[g]=d[g].toString(10)),typeof d[g]!="string")throw new Error("DBF Invalid column name "+d[g]+" |"+typeof d[g]+"|");if(d.indexOf(d[g])!==g){for(y=0;y<1024;++y)if(d.indexOf(d[g]+"_"+y)==-1){d[g]+="_"+y;break}}}}var S=ht(o["!ref"]),D=[],B=[],j=[];for(g=0;g<=S.e.c-S.s.c;++g){var x="",w="",A=0,T=[];for(y=0;y<m.length;++y)m[y][g]!=null&&T.push(m[y][g]);if(T.length==0||d[g]==null){D[g]="?";continue}for(y=0;y<T.length;++y){switch(typeof T[y]){case"number":w="B";break;case"string":w="C";break;case"boolean":w="L";break;case"object":w=T[y]instanceof Date?"D":"C";break;default:w="C"}A=Math.max(A,String(T[y]).length),x=x&&x!=w?"C":w}A>250&&(A=250),w=((_[g]||{}).DBF||{}).type,w=="C"&&_[g].DBF.len>A&&(A=_[g].DBF.len),x=="B"&&w=="N"&&(x="N",j[g]=_[g].DBF.dec,A=_[g].DBF.len),B[g]=x=="C"||w=="N"?A:s[x]||0,E+=B[g],D[g]=x}var R=f.next(32);for(R.write_shift(4,318902576),R.write_shift(4,m.length),R.write_shift(2,296+32*I),R.write_shift(2,E),g=0;g<4;++g)R.write_shift(4,0);for(R.write_shift(4,0|(+e[rS]||3)<<8),g=0,y=0;g<d.length;++g)if(d[g]!=null){var L=f.next(32),N=(d[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,N,"sbcs"),L.write_shift(1,D[g]=="?"?"C":D[g],"sbcs"),L.write_shift(4,y),L.write_shift(1,B[g]||s[D[g]]||0),L.write_shift(1,j[g]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),y+=B[g]||s[D[g]]||0}var Ie=f.next(264);for(Ie.write_shift(4,13),g=0;g<65;++g)Ie.write_shift(4,0);for(g=0;g<m.length;++g){var ke=f.next(E);for(ke.write_shift(1,0),y=0;y<d.length;++y)if(d[y]!=null)switch(D[y]){case"L":ke.write_shift(1,m[g][y]==null?63:m[g][y]?84:70);break;case"B":ke.write_shift(8,m[g][y]||0,"f");break;case"N":var Xe="0";for(typeof m[g][y]=="number"&&(Xe=m[g][y].toFixed(j[y]||0)),I=0;I<B[y]-Xe.length;++I)ke.write_shift(1,32);ke.write_shift(1,Xe,"sbcs");break;case"D":m[g][y]?(ke.write_shift(4,("0000"+m[g][y].getFullYear()).slice(-4),"sbcs"),ke.write_shift(2,("00"+(m[g][y].getMonth()+1)).slice(-2),"sbcs"),ke.write_shift(2,("00"+m[g][y].getDate()).slice(-2),"sbcs")):ke.write_shift(8,"00000000","sbcs");break;case"C":var se=String(m[g][y]!=null?m[g][y]:"").slice(0,B[y]);for(ke.write_shift(1,se,"sbcs"),I=0;I<B[y]-se.length;++I)ke.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),$M=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+or(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,m){var _=t[m];return typeof _=="number"?Ry(_):_},n=function(d,m,_){var g=m.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return g==59?d:Ry(g)};t["|"]=254;function i(d,m){switch(m.type){case"base64":return s(Ai(d),m);case"binary":return s(d,m);case"buffer":return s(qe&&Buffer.isBuffer(d)?d.toString("binary"):Qu(d),m);case"array":return s(md(d),m)}throw new Error("Unrecognized type "+m.type)}function s(d,m){var _=d.split(/[\n\r]+/),g=-1,y=-1,I=0,E=0,S=[],D=[],B=null,j={},x=[],w=[],A=[],T=0,R;for(+m.codepage>=0&&Tu(+m.codepage);I!==_.length;++I){T=0;var L=_[I].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),N=L.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),Ie=N[0],ke;if(L.length>0)switch(Ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&D.push(L.slice(3).replace(/;;/g,";"));break;case"C":var Xe=!1,se=!1,Y=!1,te=!1,re=-1,_e=-1;for(E=1;E<N.length;++E)switch(N[E].charAt(0)){case"A":break;case"X":y=parseInt(N[E].slice(1))-1,se=!0;break;case"Y":for(g=parseInt(N[E].slice(1))-1,se||(y=0),R=S.length;R<=g;++R)S[R]=[];break;case"K":ke=N[E].slice(1),ke.charAt(0)==='"'?ke=ke.slice(1,ke.length-1):ke==="TRUE"?ke=!0:ke==="FALSE"?ke=!1:isNaN(mi(ke))?isNaN(Au(ke).getDate())||(ke=Ar(ke)):(ke=mi(ke),B!==null&&pS(B)&&(ke=_S(ke))),Xe=!0;break;case"E":te=!0;var V=W6(N[E].slice(1),{r:g,c:y});S[g][y]=[S[g][y],V];break;case"S":Y=!0,S[g][y]=[S[g][y],"S5S"];break;case"G":break;case"R":re=parseInt(N[E].slice(1))-1;break;case"C":_e=parseInt(N[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+L)}if(Xe&&(S[g][y]&&S[g][y].length==2?S[g][y][0]=ke:S[g][y]=ke,B=null),Y){if(te)throw new Error("SYLK shared formula cannot have own formula");var H=re>-1&&S[re][_e];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");S[g][y][1]=H6(H[1],{r:g-re,c:y-_e})}break;case"F":var W=0;for(E=1;E<N.length;++E)switch(N[E].charAt(0)){case"X":y=parseInt(N[E].slice(1))-1,++W;break;case"Y":for(g=parseInt(N[E].slice(1))-1,R=S.length;R<=g;++R)S[R]=[];break;case"M":T=parseInt(N[E].slice(1))/20;break;case"F":break;case"G":break;case"P":B=D[parseInt(N[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=N[E].slice(1).split(" "),R=parseInt(A[0],10);R<=parseInt(A[1],10);++R)T=parseInt(A[2],10),w[R-1]=T===0?{hidden:!0}:{wch:T},ov(w[R-1]);break;case"C":y=parseInt(N[E].slice(1))-1,w[y]||(w[y]={});break;case"R":g=parseInt(N[E].slice(1))-1,x[g]||(x[g]={}),T>0?(x[g].hpt=T,x[g].hpx=sA(T)):T===0&&(x[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+L)}W<1&&(B=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+L)}}return x.length>0&&(j["!rows"]=x),w.length>0&&(j["!cols"]=w),m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),[S,j]}function a(d,m){var _=i(d,m),g=_[0],y=_[1],I=Wo(g,m);return or(y).forEach(function(E){I[E]=y[E]}),I}function o(d,m){return va(a(d,m),m)}function l(d,m,_,g){var y="C;Y"+(_+1)+";X"+(g+1)+";K";switch(d.t){case"n":y+=d.v||0,d.f&&!d.F&&(y+=";E"+uv(d.f,{r:_,c:g}));break;case"b":y+=d.v?"TRUE":"FALSE";break;case"e":y+=d.w||d.v;break;case"d":y+='"'+(d.w||d.v)+'"';break;case"s":y+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(d,m){m.forEach(function(_,g){var y="F;W"+(g+1)+" "+(g+1)+" ";_.hidden?y+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=yh(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=xh(_.wpx)),typeof _.wch=="number"&&(y+=Math.round(_.wch))),y.charAt(y.length-1)!=" "&&d.push(y)})}function f(d,m){m.forEach(function(_,g){var y="F;";_.hidden?y+="M0;":_.hpt?y+="M"+20*_.hpt+";":_.hpx&&(y+="M"+20*Eh(_.hpx)+";"),y.length>2&&d.push(y+"R"+(g+1))})}function h(d,m){var _=["ID;PWXL;N;E"],g=[],y=ht(d["!ref"]),I,E=Array.isArray(d),S=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),d["!cols"]&&u(_,d["!cols"]),d["!rows"]&&f(_,d["!rows"]),_.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var D=y.s.r;D<=y.e.r;++D)for(var B=y.s.c;B<=y.e.c;++B){var j=rt({r:D,c:B});I=E?(d[D]||[])[B]:d[j],!(!I||I.v==null&&(!I.f||I.F))&&g.push(l(I,d,D,B))}return _.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:a,from_sheet:h}}(),GM=function(){function t(s,a){switch(a.type){case"base64":return e(Ai(s),a);case"binary":return e(s,a);case"buffer":return e(qe&&Buffer.isBuffer(s)?s.toString("binary"):Qu(s),a);case"array":return e(md(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,f=0,h=[];f!==o.length;++f){if(o[f].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var d=o[f].trim().split(","),m=d[0],_=d[1];++f;for(var g=o[f]||"";(g.match(/["]/g)||[]).length&1&&f<o.length-1;)g+=`
`+o[++f];switch(g=g.trim(),+m){case-1:if(g==="BOT"){h[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[l][u]=!0:g==="FALSE"?h[l][u]=!1:isNaN(mi(_))?isNaN(Au(_).getDate())?h[l][u]=_:h[l][u]=Ar(_):h[l][u]=mi(_),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return Wo(t(s,a),a)}function n(s,a){return va(r(s,a),a)}var i=function(){var s=function(l,u,f,h,d){l.push(u),l.push(f+","+h),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,u,f,h){l.push(u+","+f),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],f=ht(l["!ref"]),h,d=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,f.e.r-f.s.r+1,""),s(u,"TUPLES",0,f.e.c-f.s.c+1,""),s(u,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){a(u,-1,0,"BOT");for(var _=f.s.c;_<=f.e.c;++_){var g=rt({r:m,c:_});if(h=d?(l[m]||[])[_]:l[g],!h){a(u,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?a(u,1,0,"="+h.f):a(u,1,0,""):a(u,0,y,"V");break;case"b":a(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=vs(h.z||Tt[14],Ur(Ar(h.v)))),a(u,0,h.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var I=`\r
`,E=u.join(I);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),tA=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,d){for(var m=h.split(`
`),_=-1,g=-1,y=0,I=[];y!==m.length;++y){var E=m[y].trim().split(":");if(E[0]==="cell"){var S=Ht(E[1]);if(I.length<=S.r)for(_=I.length;_<=S.r;++_)I[_]||(I[_]=[]);switch(_=S.r,g=S.c,E[2]){case"t":I[_][g]=t(E[3]);break;case"v":I[_][g]=+E[3];break;case"vtf":var D=E[E.length-1];case"vtc":switch(E[3]){case"nl":I[_][g]=!!+E[4];break;default:I[_][g]=+E[4];break}E[2]=="vtf"&&(I[_][g]=[I[_][g],D])}}}return d&&d.sheetRows&&(I=I.slice(0,d.sheetRows)),I}function n(h,d){return Wo(r(h,d),d)}function i(h,d){return va(n(h,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var d=[],m=[],_,g="",y=Zr(h["!ref"]),I=Array.isArray(h),E=y.s.r;E<=y.e.r;++E)for(var S=y.s.c;S<=y.e.c;++S)if(g=rt({r:E,c:S}),_=I?(h[E]||[])[S]:h[g],!(!_||_.v==null||_.t==="z")){switch(m=["cell",g,"t"],_.t){case"s":case"str":m.push(e(_.v));break;case"n":_.f?(m[2]="vtf",m[3]="n",m[4]=_.v,m[5]=e(_.f)):(m[2]="v",m[3]=_.v);break;case"b":m[2]="vt"+(_.f?"f":"c"),m[3]="nl",m[4]=_.v?"1":"0",m[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var D=Ur(Ar(_.v));m[2]="vtc",m[3]="nd",m[4]=""+D,m[5]=_.w||vs(_.z||Tt[14],D);break;case"e":continue}d.push(m.join(":"))}return d.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function f(h){return[s,a,o,a,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}}(),KM=function(){function t(f,h,d,m,_){_.raw?h[d][m]=f:f===""||(f==="TRUE"?h[d][m]=!0:f==="FALSE"?h[d][m]=!1:isNaN(mi(f))?isNaN(Au(f).getDate())?h[d][m]=f:h[d][m]=Ar(f):h[d][m]=mi(f))}function e(f,h){var d=h||{},m=[];if(!f||f.length===0)return m;for(var _=f.split(/[\r\n]/),g=_.length-1;g>=0&&_[g].length===0;)--g;for(var y=10,I=0,E=0;E<=g;++E)I=_[E].indexOf(" "),I==-1?I=_[E].length:I++,y=Math.max(y,I);for(E=0;E<=g;++E){m[E]=[];var S=0;for(t(_[E].slice(0,y).trim(),m,E,S,d),S=1;S<=(_[E].length-y)/10+1;++S)t(_[E].slice(y+(S-1)*10,y+S*10).trim(),m,E,S,d)}return d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var h={},d=!1,m=0,_=0;m<f.length;++m)(_=f.charCodeAt(m))==34?d=!d:!d&&_ in r&&(h[_]=(h[_]||0)+1);_=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&_.push([h[m],m]);if(!_.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&_.push([h[m],m])}return _.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[_.pop()[1]]||44}function s(f,h){var d=h||{},m="",_=d.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=i(f.slice(0,1024)):d&&d.FS?m=d.FS:m=i(f.slice(0,1024));var y=0,I=0,E=0,S=0,D=0,B=m.charCodeAt(0),j=!1,x=0,w=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var A=d.dateNF!=null?uL(d.dateNF):null;function T(){var R=f.slice(S,D),L={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)L.t="z";else if(d.raw)L.t="s",L.v=R;else if(R.trim().length===0)L.t="s",L.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(L.t="s",L.v=R.slice(2,-1).replace(/""/g,'"')):$6(R)?(L.t="n",L.f=R.slice(1)):(L.t="s",L.v=R);else if(R=="TRUE")L.t="b",L.v=!0;else if(R=="FALSE")L.t="b",L.v=!1;else if(!isNaN(E=mi(R)))L.t="n",d.cellText!==!1&&(L.w=R),L.v=E;else if(!isNaN(Au(R).getDate())||A&&R.match(A)){L.z=d.dateNF||Tt[14];var N=0;A&&R.match(A)&&(R=cL(R,d.dateNF,R.match(A)||[]),N=1),d.cellDates?(L.t="d",L.v=Ar(R,N)):(L.t="n",L.v=Ur(Ar(R,N))),d.cellText!==!1&&(L.w=vs(L.z,L.v instanceof Date?Ur(L.v):L.v)),d.cellNF||delete L.z}else L.t="s",L.v=R;if(L.t=="z"||(d.dense?(_[y]||(_[y]=[]),_[y][I]=L):_[rt({c:I,r:y})]=L),S=D+1,w=f.charCodeAt(S),g.e.c<I&&(g.e.c=I),g.e.r<y&&(g.e.r=y),x==B)++I;else if(I=0,++y,d.sheetRows&&d.sheetRows<=y)return!0}e:for(;D<f.length;++D)switch(x=f.charCodeAt(D)){case 34:w===34&&(j=!j);break;case B:case 10:case 13:if(!j&&T())break e;break}return D-S>0&&T(),_["!ref"]=Dt(g),_}function a(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,h):Wo(e(f,h),h)}function o(f,h){var d="",m=h.type=="string"?[0,0,0,0]:sV(f,h);switch(h.type){case"base64":d=Ai(f);break;case"binary":d=f;break;case"buffer":h.codepage==65001?d=f.toString("utf8"):h.codepage&&typeof ch<"u"||(d=qe&&Buffer.isBuffer(f)?f.toString("binary"):Qu(f));break;case"array":d=md(f);break;case"string":d=f;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?d=zl(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=zl(d):h.type=="binary"&&typeof ch<"u",d.slice(0,19)=="socialcalc:version:"?tA.to_sheet(h.type=="string"?d:zl(d),h):a(d,h)}function l(f,h){return va(o(f,h),h)}function u(f){for(var h=[],d=ht(f["!ref"]),m,_=Array.isArray(f),g=d.s.r;g<=d.e.r;++g){for(var y=[],I=d.s.c;I<=d.e.c;++I){var E=rt({r:g,c:I});if(m=_?(f[g]||[])[I]:f[E],!m||m.v==null){y.push("          ");continue}for(var S=(m.w||(Ii(m),m.w)||"").slice(0,10);S.length<10;)S+=" ";y.push(S+(I===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),ax=function(){function t(V,H,W){if(V){Gr(V,V.l||0);for(var z=W.Enum||re;V.l<V.length;){var K=V.read_shift(2),he=z[K]||z[65535],xe=V.read_shift(2),Se=V.l+xe,me=he.f&&he.f(V,xe,W);if(V.l=Se,H(me,he,K))return}}}function e(V,H){switch(H.type){case"base64":return r(Sn(Ai(V)),H);case"binary":return r(Sn(V),H);case"buffer":case"array":return r(V,H)}throw"Unsupported type "+H.type}function r(V,H){if(!V)return V;var W=H||{},z=W.dense?[]:{},K="Sheet1",he="",xe=0,Se={},me=[],We=[],Me={s:{r:0,c:0},e:{r:0,c:0}},Ft=W.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)W.Enum=re,t(V,function(Ae,Rr,rn){switch(rn){case 0:W.vers=Ae,Ae>=4096&&(W.qpro=!0);break;case 6:Me=Ae;break;case 204:Ae&&(he=Ae);break;case 222:he=Ae;break;case 15:case 51:W.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:rn==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=W.dateNF||Tt[14],W.cellDates&&(Ae[1].t="d",Ae[1].v=_S(Ae[1].v))),W.qpro&&Ae[3]>xe&&(z["!ref"]=Dt(Me),Se[K]=z,me.push(K),z=W.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},xe=Ae[3],K=he||"Sheet"+(xe+1),he="");var gn=W.dense?(z[Ae[0].r]||[])[Ae[0].c]:z[rt(Ae[0])];if(gn){gn.t=Ae[1].t,gn.v=Ae[1].v,Ae[1].z!=null&&(gn.z=Ae[1].z),Ae[1].f!=null&&(gn.f=Ae[1].f);break}W.dense?(z[Ae[0].r]||(z[Ae[0].r]=[]),z[Ae[0].r][Ae[0].c]=Ae[1]):z[rt(Ae[0])]=Ae[1];break}},W);else if(V[2]==26||V[2]==14)W.Enum=_e,V[2]==14&&(W.qpro=!0,V.l=0),t(V,function(Ae,Rr,rn){switch(rn){case 204:K=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>xe&&(z["!ref"]=Dt(Me),Se[K]=z,me.push(K),z=W.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},xe=Ae[3],K="Sheet"+(xe+1)),Ft>0&&Ae[0].r>=Ft)break;W.dense?(z[Ae[0].r]||(z[Ae[0].r]=[]),z[Ae[0].r][Ae[0].c]=Ae[1]):z[rt(Ae[0])]=Ae[1],Me.e.c<Ae[0].c&&(Me.e.c=Ae[0].c),Me.e.r<Ae[0].r&&(Me.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(We[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:We[Ae[0]]=Ae[1],Ae[0]==xe&&(K=Ae[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(z["!ref"]=Dt(Me),Se[he||K]=z,me.push(he||K),!We.length)return{SheetNames:me,Sheets:Se};for(var Be={},jr=[],ot=0;ot<We.length;++ot)Se[me[ot]]?(jr.push(We[ot]||me[ot]),Be[We[ot]]=Se[We[ot]]||Se[me[ot]]):(jr.push(We[ot]),Be[We[ot]]={"!ref":"A1"});return{SheetNames:jr,Sheets:Be}}function n(V,H){var W=H||{};if(+W.codepage>=0&&Tu(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var z=Vr(),K=ht(V["!ref"]),he=Array.isArray(V),xe=[];pe(z,0,s(1030)),pe(z,6,l(K));for(var Se=Math.min(K.e.r,8191),me=K.s.r;me<=Se;++me)for(var We=ir(me),Me=K.s.c;Me<=K.e.c;++Me){me===K.s.r&&(xe[Me]=gr(Me));var Ft=xe[Me]+We,Be=he?(V[me]||[])[Me]:V[Ft];if(!(!Be||Be.t=="z"))if(Be.t=="n")(Be.v|0)==Be.v&&Be.v>=-32768&&Be.v<=32767?pe(z,13,m(me,Me,Be.v)):pe(z,14,g(me,Me,Be.v));else{var jr=Ii(Be);pe(z,15,h(me,Me,jr.slice(0,239)))}}return pe(z,1),z.end()}function i(V,H){var W=H||{};if(+W.codepage>=0&&Tu(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var z=Vr();pe(z,0,a(V));for(var K=0,he=0;K<V.SheetNames.length;++K)(V.Sheets[V.SheetNames[K]]||{})["!ref"]&&pe(z,27,te(V.SheetNames[K],he++));var xe=0;for(K=0;K<V.SheetNames.length;++K){var Se=V.Sheets[V.SheetNames[K]];if(!(!Se||!Se["!ref"])){for(var me=ht(Se["!ref"]),We=Array.isArray(Se),Me=[],Ft=Math.min(me.e.r,8191),Be=me.s.r;Be<=Ft;++Be)for(var jr=ir(Be),ot=me.s.c;ot<=me.e.c;++ot){Be===me.s.r&&(Me[ot]=gr(ot));var Ae=Me[ot]+jr,Rr=We?(Se[Be]||[])[ot]:Se[Ae];if(!(!Rr||Rr.t=="z"))if(Rr.t=="n")pe(z,23,T(Be,ot,xe,Rr.v));else{var rn=Ii(Rr);pe(z,22,x(Be,ot,xe,rn.slice(0,239)))}}++xe}}return pe(z,1),z.end()}function s(V){var H=ie(2);return H.write_shift(2,V),H}function a(V){var H=ie(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var W=0,z=0,K=0,he=0;he<V.SheetNames.length;++he){var xe=V.SheetNames[he],Se=V.Sheets[xe];if(!(!Se||!Se["!ref"])){++K;var me=Zr(Se["!ref"]);W<me.e.r&&(W=me.e.r),z<me.e.c&&(z=me.e.c)}}return W>8191&&(W=8191),H.write_shift(2,W),H.write_shift(1,K),H.write_shift(1,z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(V,H,W){var z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&W.qpro?(z.s.c=V.read_shift(1),V.l++,z.s.r=V.read_shift(2),z.e.c=V.read_shift(1),V.l++,z.e.r=V.read_shift(2),z):(z.s.c=V.read_shift(2),z.s.r=V.read_shift(2),H==12&&W.qpro&&(V.l+=2),z.e.c=V.read_shift(2),z.e.r=V.read_shift(2),H==12&&W.qpro&&(V.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(V){var H=ie(8);return H.write_shift(2,V.s.c),H.write_shift(2,V.s.r),H.write_shift(2,V.e.c),H.write_shift(2,V.e.r),H}function u(V,H,W){var z=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(z[0].c=V.read_shift(1),z[3]=V.read_shift(1),z[0].r=V.read_shift(2),V.l+=2):(z[2]=V.read_shift(1),z[0].c=V.read_shift(2),z[0].r=V.read_shift(2)),z}function f(V,H,W){var z=V.l+H,K=u(V,H,W);if(K[1].t="s",W.vers==20768){V.l++;var he=V.read_shift(1);return K[1].v=V.read_shift(he,"utf8"),K}return W.qpro&&V.l++,K[1].v=V.read_shift(z-V.l,"cstr"),K}function h(V,H,W){var z=ie(7+W.length);z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,V),z.write_shift(1,39);for(var K=0;K<z.length;++K){var he=W.charCodeAt(K);z.write_shift(1,he>=128?95:he)}return z.write_shift(1,0),z}function d(V,H,W){var z=u(V,H,W);return z[1].v=V.read_shift(2,"i"),z}function m(V,H,W){var z=ie(7);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,V),z.write_shift(2,W,"i"),z}function _(V,H,W){var z=u(V,H,W);return z[1].v=V.read_shift(8,"f"),z}function g(V,H,W){var z=ie(13);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,V),z.write_shift(8,W,"f"),z}function y(V,H,W){var z=V.l+H,K=u(V,H,W);if(K[1].v=V.read_shift(8,"f"),W.qpro)V.l=z;else{var he=V.read_shift(2);D(V.slice(V.l,V.l+he),K),V.l+=he}return K}function I(V,H,W){var z=H&32768;return H&=-32769,H=(z?V:0)+(H>=8192?H-16384:H),(z?"":"$")+(W?gr(H):ir(H))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(V,H){Gr(V,0);for(var W=[],z=0,K="",he="",xe="",Se="";V.l<V.length;){var me=V[V.l++];switch(me){case 0:W.push(V.read_shift(8,"f"));break;case 1:he=I(H[0].c,V.read_shift(2),!0),K=I(H[0].r,V.read_shift(2),!1),W.push(he+K);break;case 2:{var We=I(H[0].c,V.read_shift(2),!0),Me=I(H[0].r,V.read_shift(2),!1);he=I(H[0].c,V.read_shift(2),!0),K=I(H[0].r,V.read_shift(2),!1),W.push(We+Me+":"+he+K)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(V.read_shift(2));break;case 6:{for(var Ft="";me=V[V.l++];)Ft+=String.fromCharCode(me);W.push('"'+Ft.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:Se=W.pop(),xe=W.pop(),W.push(["AND","OR"][me-20]+"("+xe+","+Se+")");break;default:if(me<32&&S[me])Se=W.pop(),xe=W.pop(),W.push(xe+S[me]+Se);else if(E[me]){if(z=E[me][1],z==69&&(z=V[V.l++]),z>W.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+W.join("|")+"|");return}var Be=W.slice(-z);W.length-=z,W.push(E[me][0]+"("+Be.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}W.length==1?H[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function B(V){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=V.read_shift(2),H[3]=V[V.l++],H[0].c=V[V.l++],H}function j(V,H){var W=B(V);return W[1].t="s",W[1].v=V.read_shift(H-4,"cstr"),W}function x(V,H,W,z){var K=ie(6+z.length);K.write_shift(2,V),K.write_shift(1,W),K.write_shift(1,H),K.write_shift(1,39);for(var he=0;he<z.length;++he){var xe=z.charCodeAt(he);K.write_shift(1,xe>=128?95:xe)}return K.write_shift(1,0),K}function w(V,H){var W=B(V);W[1].v=V.read_shift(2);var z=W[1].v>>1;if(W[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return W[1].v=z,W}function A(V,H){var W=B(V),z=V.read_shift(4),K=V.read_shift(4),he=V.read_shift(2);if(he==65535)return z===0&&K===3221225472?(W[1].t="e",W[1].v=15):z===0&&K===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var xe=he&32768;return he=(he&32767)-16446,W[1].v=(1-xe*2)*(K*Math.pow(2,he+32)+z*Math.pow(2,he)),W}function T(V,H,W,z){var K=ie(14);if(K.write_shift(2,V),K.write_shift(1,W),K.write_shift(1,H),z==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var he=0,xe=0,Se=0,me=0;return z<0&&(he=1,z=-z),xe=Math.log2(z)|0,z/=Math.pow(2,xe-31),me=z>>>0,me&2147483648||(z/=2,++xe,me=z>>>0),z-=me,me|=2147483648,me>>>=0,z*=Math.pow(2,32),Se=z>>>0,K.write_shift(4,Se),K.write_shift(4,me),xe+=16383+(he?32768:0),K.write_shift(2,xe),K}function R(V,H){var W=A(V);return V.l+=H-14,W}function L(V,H){var W=B(V),z=V.read_shift(4);return W[1].v=z>>6,W}function N(V,H){var W=B(V),z=V.read_shift(8,"f");return W[1].v=z,W}function Ie(V,H){var W=N(V);return V.l+=H-10,W}function ke(V,H){return V[V.l+H-1]==0?V.read_shift(H,"cstr"):""}function Xe(V,H){var W=V[V.l++];W>H-1&&(W=H-1);for(var z="";z.length<W;)z+=String.fromCharCode(V[V.l++]);return z}function se(V,H,W){if(!(!W.qpro||H<21)){var z=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var K=V.read_shift(H-21,"cstr");return[z,K]}}function Y(V,H){for(var W={},z=V.l+H;V.l<z;){var K=V.read_shift(2);if(K==14e3){for(W[K]=[0,""],W[K][0]=V.read_shift(2);V[V.l];)W[K][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return W}function te(V,H){var W=ie(5+V.length);W.write_shift(2,14e3),W.write_shift(2,H);for(var z=0;z<V.length;++z){var K=V.charCodeAt(z);W[W.l++]=K>127?95:K}return W[W.l++]=0,W}var re={0:{n:"BOF",f:YS},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:_},15:{n:"LABEL",f},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ke},222:{n:"SHEETNAMELP",f:Xe},65535:{n:""}},_e={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:w},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:Ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ke},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),qM=/^\s|\s$|[\t\n\r]/;function rA(t,e){if(!e.bookSST)return"";var r=[Ot];r[r.length]=de("sst",null,{xmlns:zo[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(qM)&&(s+=' xml:space="preserve"'),s+=">"+Ze(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function XM(t){return[t.read_shift(4),t.read_shift(4)]}function YM(t,e){return e||(e=ie(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var QM=jL;function JM(t){var e=Vr();oe(e,159,YM(t));for(var r=0;r<t.length;++r)oe(e,19,QM(t[r]));return oe(e,160),e.end()}function ZM(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function nA(t){var e=0,r,n=ZM(t),i=n.length+1,s,a,o,l,u;for(r=oa(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var e6=function(){function t(i,s){switch(s.type){case"base64":return e(Ai(i),s);case"binary":return e(i,s);case"buffer":return e(qe&&Buffer.isBuffer(i)?i.toString("binary"):Qu(i),s);case"array":return e(md(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,h){Array.isArray(o)&&(o[h]=[]);for(var d=/\\\w+\b/g,m=0,_,g=-1;_=d.exec(f);){switch(_[0]){case"\\cell":var y=f.slice(m,d.lastIndex-_[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var I={v:y,t:"s"};Array.isArray(o)?o[h][g]=I:o[rt({r:h,c:g})]=I}break}m=d.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Dt(u),o}function r(i,s){return va(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=ht(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var f=a.s.c;f<=a.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=a.s.c;f<=a.e.c;++f){var h=rt({r:u,c:f});o=l?(i[u]||[])[f]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Ii(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function ox(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var t6=6,gi=t6;function yh(t){return Math.floor((t+Math.round(128/gi)/256)*gi)}function xh(t){return Math.floor((t-5)/gi*100+.5)/100}function Kp(t){return Math.round((t*gi+5)/gi*256)/256}function ov(t){t.width?(t.wpx=yh(t.width),t.wch=xh(t.wpx),t.MDW=gi):t.wpx?(t.wch=xh(t.wpx),t.width=Kp(t.wch),t.MDW=gi):typeof t.wch=="number"&&(t.width=Kp(t.wch),t.wpx=yh(t.width),t.MDW=gi),t.customWidth&&delete t.customWidth}var r6=96,iA=r6;function Eh(t){return t*96/iA}function sA(t){return t*iA/96}function n6(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=de("numFmt",null,{numFmtId:n,formatCode:Ze(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=de("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function i6(t){var e=[];return e[e.length]=de("cellXfs",null),t.forEach(function(r){e[e.length]=de("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=de("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function aA(t,e){var r=[Ot,de("styleSheet",null,{xmlns:zo[0],"xmlns:vt":Wt.vt})],n;return t.SSF&&(n=n6(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=i6(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function s6(t,e){var r=t.read_shift(2),n=vr(t);return[r,n]}function a6(t,e,r){r||(r=ie(6+4*e.length)),r.write_shift(2,t),$t(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function o6(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=qL(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=KL(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=vr(t),n}function l6(t,e){e||(e=ie(25+4*32)),e.write_shift(2,t.sz*20),XL(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),vh(t.color,e);var n=0;return n=2,e.write_shift(1,n),$t(t.name,e),e.length>e.l?e.slice(0,e.l):e}var u6=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],v0,c6=Yn;function lx(t,e){e||(e=ie(4*3+8*7+16*1)),v0||(v0=Xg(u6));var r=v0[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(vh({auto:1},e),vh({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function f6(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function oA(t,e,r){r||(r=ie(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function pl(t,e){return e||(e=ie(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var h6=Yn;function d6(t,e){return e||(e=ie(51)),e.write_shift(1,0),pl(null,e),pl(null,e),pl(null,e),pl(null,e),pl(null,e),e.length>e.l?e.slice(0,e.l):e}function p6(t,e){return e||(e=ie(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),gh(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function m6(t,e,r){var n=ie(2052);return n.write_shift(4,t),gh(e,n),gh(r,n),n.length>n.l?n.slice(0,n.l):n}function g6(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(oe(t,615,Rn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&oe(t,44,a6(i,e[i]))}),oe(t,616))}}function v6(t){var e=1;oe(t,611,Rn(e)),oe(t,43,l6({sz:12,color:{theme:1},name:"Calibri",family:2})),oe(t,612)}function _6(t){var e=2;oe(t,603,Rn(e)),oe(t,45,lx({patternType:"none"})),oe(t,45,lx({patternType:"gray125"})),oe(t,604)}function y6(t){var e=1;oe(t,613,Rn(e)),oe(t,46,d6()),oe(t,614)}function x6(t){var e=1;oe(t,626,Rn(e)),oe(t,47,oA({numFmtId:0},65535)),oe(t,627)}function E6(t,e){oe(t,617,Rn(e.length)),e.forEach(function(r){oe(t,47,oA(r,0))}),oe(t,618)}function w6(t){var e=1;oe(t,619,Rn(e)),oe(t,48,p6({xfId:0,name:"Normal"})),oe(t,620)}function T6(t){var e=0;oe(t,505,Rn(e)),oe(t,506)}function S6(t){var e=0;oe(t,508,m6(e,"TableStyleMedium9","PivotStyleMedium4")),oe(t,509)}function A6(t,e){var r=Vr();return oe(r,278),g6(r,t.SSF),v6(r),_6(r),y6(r),x6(r),E6(r,e.cellXfs),w6(r),T6(r),S6(r),oe(r,279),r.end()}function lA(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Ot];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function I6(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:vr(t)}}function C6(t){var e=ie(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),$t(t.name,e),e.slice(0,e.l)}function k6(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function R6(t){var e=ie(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function N6(t,e){var r=ie(8+2*e.length);return r.write_shift(4,t),$t(e,r),r.slice(0,r.l)}function P6(t){return t.l+=4,t.read_shift(4)!=0}function D6(t,e){var r=ie(8);return r.write_shift(4,t),r.write_shift(4,1),r}function O6(){var t=Vr();return oe(t,332),oe(t,334,Rn(1)),oe(t,335,C6({name:"XLDAPR",version:12e4,flags:3496657072})),oe(t,336),oe(t,339,N6(1,"XLDAPR")),oe(t,52),oe(t,35,Rn(514)),oe(t,4096,Rn(0)),oe(t,4097,an(1)),oe(t,36),oe(t,53),oe(t,340),oe(t,337,D6(1)),oe(t,51,R6([[1,0]])),oe(t,338),oe(t,333),t.end()}function uA(){var t=[Ot];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function F6(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=rt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Ja=1024;function cA(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[de("xml",null,{"xmlns:v":Kr.v,"xmlns:o":Kr.o,"xmlns:x":Kr.x,"xmlns:mv":Kr.mv}).replace(/\/>/,">"),de("o:shapelayout",de("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),de("v:shapetype",[de("v:stroke",null,{joinstyle:"miter"}),de("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ja<t*1e3;)Ja+=1e3;return e.forEach(function(s){var a=Ht(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?de("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=de("v:fill",l,o),f={on:"t",obscured:"t"};++Ja,i=i.concat(["<v:shape"+Cu({id:"_x0000_s"+Ja,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,de("v:shadow",null,f),de("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",tr("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),tr("x:AutoFill","False"),tr("x:Row",String(a.r)),tr("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function fA(t){var e=[Ot,de("comments",null,{xmlns:zo[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Ze(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Ze(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(tr("t",Ze(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(tr("t",Ze(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function L6(t,e,r){var n=[Ot,de("ThreadedComments",null,{xmlns:Wt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(de("threadedComment",tr("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function M6(t){var e=[Ot,de("personList",null,{xmlns:Wt.TCMNT,"xmlns:x":zo[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(de("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function b6(t){var e={};e.iauthor=t.read_shift(4);var r=Ea(t);return e.rfx=r.s,e.ref=rt(r.s),t.l+=16,e}function V6(t,e){return e==null&&(e=ie(36)),e.write_shift(4,t[1].iauthor),Ho(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var U6=vr;function B6(t){return $t(t.slice(0,54))}function j6(t){var e=Vr(),r=[];return oe(e,628),oe(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),oe(e,632,B6(i.a)))})}),oe(e,631),oe(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Ht(n[0]),e:Ht(n[0])};oe(e,635,V6([s,i])),i.t&&i.t.length>0&&oe(e,637,WL(i)),oe(e,636),delete i.iauthor})}),oe(e,634),oe(e,629),e.end()}function z6(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&nt.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var hA=["xlsb","xlsm","xlam","biff8","xla"],W6=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,f=a.length>0?parseInt(a,10)|0:0;return o?f+=e.c:--f,l?u+=e.r:--u,i+(o?"":"$")+gr(f)+(l?"":"$")+ir(u)}return function(i,s){return e=s,i.replace(t,r)}}(),lv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,uv=function(){return function(e,r){return e.replace(lv,function(n,i,s,a,o,l){var u=rv(a)-(s?0:r.c),f=tv(l)-(o?0:r.r),h=f==0?"":o?f+1:"["+f+"]",d=u==0?"":s?u+1:"["+u+"]";return i+"R"+h+"C"+d})}}();function H6(t,e){return t.replace(lv,function(r,n,i,s,a,o){return n+(i=="$"?i+s:gr(rv(s)+e.c))+(a=="$"?a+o:ir(tv(o)+e.r))})}function $6(t){return t.length!=1}function Ct(t){t.l+=1}function _s(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function dA(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return pA(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=_s(t),o=_s(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function pA(t){var e=_s(t),r=_s(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function G6(t,e,r){if(r.biff<8)return pA(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=_s(t),a=_s(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function mA(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return K6(t);var n=t.read_shift(r&&r.biff==12?4:2),i=_s(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function K6(t){var e=_s(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function q6(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function X6(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Y6(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function Y6(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function Q6(t,e,r){var n=(t[t.l++]&96)>>5,i=dA(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function J6(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=dA(t,s,r);return[n,i,a]}function Z6(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function e8(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function t8(t,e,r){var n=(t[t.l++]&96)>>5,i=G6(t,e-1,r);return[n,i]}function r8(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ux(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function n8(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function i8(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function s8(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function a8(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function o8(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function gA(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function l8(t){return t.read_shift(2),gA(t)}function u8(t){return t.read_shift(2),gA(t)}function c8(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=mA(t,0,r);return[n,i]}function f8(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=X6(t,0,r);return[n,i]}function h8(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=mA(t,0,r);return[n,i,s]}function d8(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[d5[i],yA[i],n]}function p8(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:m8(t);return[i,(s[0]===0?yA:h5)[s[1]]]}function m8(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function g8(t,e,r){t.l+=r&&r.biff==2?3:4}function v8(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function _8(t){return t.l++,ec[t.read_shift(1)]}function y8(t){return t.l++,t.read_shift(2)}function x8(t){return t.l++,t.read_shift(1)!==0}function E8(t){return t.l++,$o(t)}function w8(t,e,r){return t.l++,JS(t,e-1,r)}function T8(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=hM(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=ec[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=$o(t);break;case 2:r[1]=gM(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function S8(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Ea:yM)(t));return i}function A8(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=T8(t,r.biff);return a}function I8(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function C8(t,e,r){if(r.biff==5)return k8(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function k8(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function R8(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function N8(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function P8(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function D8(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var O8=Yn,F8=Yn,L8=Yn;function tc(t,e,r){return t.l+=2,[q6(t)]}function cv(t){return t.l+=6,[]}var M8=tc,b8=cv,V8=cv,U8=tc;function vA(t){return t.l+=2,[YS(t),t.read_shift(2)&1]}var B8=tc,j8=vA,z8=cv,W8=tc,H8=tc,$8=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function G8(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=$8[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function K8(t){return t.l+=2,[t.read_shift(4)]}function q8(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function X8(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Y8(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Q8(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function J8(t){return t.l+=4,[0,0]}var cx={1:{n:"PtgExp",f:v8},2:{n:"PtgTbl",f:L8},3:{n:"PtgAdd",f:Ct},4:{n:"PtgSub",f:Ct},5:{n:"PtgMul",f:Ct},6:{n:"PtgDiv",f:Ct},7:{n:"PtgPower",f:Ct},8:{n:"PtgConcat",f:Ct},9:{n:"PtgLt",f:Ct},10:{n:"PtgLe",f:Ct},11:{n:"PtgEq",f:Ct},12:{n:"PtgGe",f:Ct},13:{n:"PtgGt",f:Ct},14:{n:"PtgNe",f:Ct},15:{n:"PtgIsect",f:Ct},16:{n:"PtgUnion",f:Ct},17:{n:"PtgRange",f:Ct},18:{n:"PtgUplus",f:Ct},19:{n:"PtgUminus",f:Ct},20:{n:"PtgPercent",f:Ct},21:{n:"PtgParen",f:Ct},22:{n:"PtgMissArg",f:Ct},23:{n:"PtgStr",f:w8},26:{n:"PtgSheet",f:q8},27:{n:"PtgEndSheet",f:X8},28:{n:"PtgErr",f:_8},29:{n:"PtgBool",f:x8},30:{n:"PtgInt",f:y8},31:{n:"PtgNum",f:E8},32:{n:"PtgArray",f:r8},33:{n:"PtgFunc",f:d8},34:{n:"PtgFuncVar",f:p8},35:{n:"PtgName",f:I8},36:{n:"PtgRef",f:c8},37:{n:"PtgArea",f:Q6},38:{n:"PtgMemArea",f:R8},39:{n:"PtgMemErr",f:O8},40:{n:"PtgMemNoMem",f:F8},41:{n:"PtgMemFunc",f:N8},42:{n:"PtgRefErr",f:P8},43:{n:"PtgAreaErr",f:Z6},44:{n:"PtgRefN",f:f8},45:{n:"PtgAreaN",f:t8},46:{n:"PtgMemAreaN",f:Y8},47:{n:"PtgMemNoMemN",f:Q8},57:{n:"PtgNameX",f:C8},58:{n:"PtgRef3d",f:h8},59:{n:"PtgArea3d",f:J6},60:{n:"PtgRefErr3d",f:D8},61:{n:"PtgAreaErr3d",f:e8},255:{}},Z8={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},e5={1:{n:"PtgElfLel",f:vA},2:{n:"PtgElfRw",f:W8},3:{n:"PtgElfCol",f:M8},6:{n:"PtgElfRwV",f:H8},7:{n:"PtgElfColV",f:U8},10:{n:"PtgElfRadical",f:B8},11:{n:"PtgElfRadicalS",f:z8},13:{n:"PtgElfColS",f:b8},15:{n:"PtgElfColSV",f:V8},16:{n:"PtgElfRadicalLel",f:j8},25:{n:"PtgList",f:G8},29:{n:"PtgSxName",f:K8},255:{}},t5={0:{n:"PtgAttrNoop",f:J8},1:{n:"PtgAttrSemi",f:o8},2:{n:"PtgAttrIf",f:s8},4:{n:"PtgAttrChoose",f:n8},8:{n:"PtgAttrGoto",f:i8},16:{n:"PtgAttrSum",f:g8},32:{n:"PtgAttrBaxcel",f:ux},33:{n:"PtgAttrBaxcel",f:ux},64:{n:"PtgAttrSpace",f:l8},65:{n:"PtgAttrSpaceSemi",f:u8},128:{n:"PtgAttrIfError",f:a8},255:{}};function r5(t,e,r,n){if(n.biff<8)return Yn(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=A8(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=S8(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Yn(t,e)),s}function n5(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=cx[s]||cx[Z8[s]],(s===24||s===25)&&(i=(s===24?e5:t5)[t[t.l+1]]),!i||!i.f?Yn(t,e):a.push([i.n,i.f(t,e,r)]);return a}function i5(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var s5={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function a5(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function _A(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function fx(t,e,r){var n=_A(t,e,r);return n=="#REF"?n:a5(n,r)}function No(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,f,h=0,d=0,m,_="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",I=0,E=t[0].length;I<E;++I){var S=t[0][I];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=wt(" ",t[0][g][1][1]);break;case 1:y=wt("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}u=u+y,g=-1}o.push(u+s5[S[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Hl(S[1][1],a,i),o.push($l(f,s));break;case"PtgRefN":f=r?Hl(S[1][1],r,i):S[1][1],o.push($l(f,s));break;case"PtgRef3d":h=S[1][1],f=Hl(S[1][2],a,i),_=fx(n,h,i),o.push(_+"!"+$l(f,s));break;case"PtgFunc":case"PtgFuncVar":var D=S[1][0],B=S[1][1];D||(D=0),D&=127;var j=D==0?[]:o.slice(-D);o.length-=D,B==="User"&&(B=j.shift()),o.push(B+"("+j.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":m=Xy(S[1][1],r?{s:r}:a,i),o.push(m0(m,i));break;case"PtgArea":m=Xy(S[1][1],a,i),o.push(m0(m,i));break;case"PtgArea3d":h=S[1][1],m=S[1][2],_=fx(n,h,i),o.push(_+"!"+m0(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=S[1][2];var x=(n.names||[])[d-1]||(n[0]||[])[d],w=x?x.Name:"SH33TJSNAME"+String(d);w&&w.slice(0,6)=="_xlfn."&&!i.xlfn&&(w=w.slice(6)),o.push(w);break;case"PtgNameX":var A=S[1][1];d=S[1][2];var T;if(i.biff<=5)A<0&&(A=-A),n[A]&&(T=n[A][d]);else{var R="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][d]&&n[A][d].itab>0&&(R=n.SheetNames[n[A][d].itab-1]+"!"):R=n.SheetNames[d-1]+"!"),n[A]&&n[A][d])R+=n[A][d].Name;else if(n[0]&&n[0][d])R+=n[0][d].Name;else{var L=(_A(n,A,i)||"").split(";;");L[d-1]?R=L[d-1]:R+="SH33TJSERRX"}o.push(R);break}T||(T={Name:"SH33TJSERRY"}),o.push(T.Name);break;case"PtgParen":var N="(",Ie=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:N=wt(" ",t[0][g][1][1])+N;break;case 3:N=wt("\r",t[0][g][1][1])+N;break;case 4:Ie=wt(" ",t[0][g][1][1])+Ie;break;case 5:Ie=wt("\r",t[0][g][1][1])+Ie;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(N+o.pop()+Ie);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:S[1][1],r:S[1][0]};var ke={c:r.c,r:r.r};if(n.sharedf[rt(f)]){var Xe=n.sharedf[rt(f)];o.push(No(Xe,a,ke,n,i))}else{var se=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){o.push(No(u[1],a,ke,n,i)),se=!0;break}se||o.push(S[1])}break;case"PtgArray":o.push("{"+i5(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=I;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&Y.indexOf(t[0][I][0])==-1){S=t[0][g];var te=!0;switch(S[1][0]){case 4:te=!1;case 0:y=wt(" ",S[1][1]);break;case 5:te=!1;case 1:y=wt("\r",S[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((te?y:"")+o.pop()+(te?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function o5(t){if(t==null){var e=ie(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return la(t);return la(0)}function l5(t,e,r,n,i){var s=ua(e,r,i),a=o5(t.v),o=ie(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=ie(t.bf.length),f=0;f<t.bf.length;++f)u[f]=t.bf[f];var h=er([s,a,o,u]);return h}function gd(t,e,r){var n=t.read_shift(4),i=n5(t,n,r),s=t.read_shift(4),a=s>0?r5(t,s,i,r):null;return[i,a]}var u5=gd,vd=gd,c5=gd,f5=gd,h5={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},d5={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function p5(t){var e="of:="+t.replace(lv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function m5(t){return t.replace(/\./,"!")}var Gl=typeof Map<"u";function fv(t,e,r){var n=0,i=t.length;if(r){if(Gl?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=Gl?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Gl?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function _d(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(gi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=xh(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Kp(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function xA(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function As(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){mS(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function g5(t,e,r){if(t&&t["!ref"]){var n=ht(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function v5(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Dt(t[r])+'"/>';return e+"</mergeCells>"}function _5(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=Iu(Ze(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+de("outlinePr",null,u)}!s&&!o||(i[i.length]=de("sheetPr",o,a))}var y5=["objects","scenarios","selectLockedCells","selectUnlockedCells"],x5=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function E5(t){var e={sheet:1};return y5.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),x5.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=nA(t.password).toString(16).toUpperCase()),de("sheetProtection",null,e)}function w5(t){return xA(t),de("pageMargins",null,t)}function T5(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=de("col",null,_d(i,n)));return r[r.length]="</cols>",r.join("")}function S5(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Dt(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Zr(i);a.s.r==a.e.r&&(a.e.r=Zr(e["!ref"]).e.r,i=Dt(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),de("autoFilter",null,{ref:i})}function A5(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),de("sheetViews",de("sheetView",null,i),{})}function I5(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=ec[t.v];break;case"d":n&&n.cellDates?i=Ar(t.v,-1).toISOString():(t=Br(t),t.t="n",i=""+(t.v=Ur(Ar(t.v)))),typeof t.z>"u"&&(t.z=Tt[14]);break;default:i=t.v;break}var o=tr("v",Ze(i)),l={r:e},u=As(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=tr("v",""+fv(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=de("f",Ze(t.f),f)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),de("c",o,l)}function C5(t,e,r,n){var i=[],s=[],a=ht(t["!ref"]),o="",l,u="",f=[],h=0,d=0,m=t["!rows"],_=Array.isArray(t),g={r:u},y,I=-1;for(d=a.s.c;d<=a.e.c;++d)f[d]=gr(d);for(h=a.s.r;h<=a.e.r;++h){for(s=[],u=ir(h),d=a.s.c;d<=a.e.c;++d){l=f[d]+u;var E=_?(t[h]||[])[d]:t[l];E!==void 0&&(o=I5(E,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[h])&&(g={r:u},m&&m[h]&&(y=m[h],y.hidden&&(g.hidden=1),I=-1,y.hpx?I=Eh(y.hpx):y.hpt&&(I=y.hpt),I>-1&&(g.ht=I,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=de("row",s.join(""),g))}if(m)for(;h<m.length;++h)m&&m[h]&&(g={r:h+1},y=m[h],y.hidden&&(g.hidden=1),I=-1,y.hpx?I=Eh(y.hpx):y.hpt&&(I=y.hpt),I>-1&&(g.ht=I,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=de("row","",g));return i.join("")}function EA(t,e,r,n){var i=[Ot,de("worksheet",null,{xmlns:zo[0],"xmlns:r":Wt.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",f=ht(u);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=Dt(f)}n||(n={}),l["!comments"]=[];var h=[];_5(l,r,t,e,i),i[i.length]=de("dimension",null,{ref:u}),i[i.length]=A5(l,e,t,r),e.sheetFormat&&(i[i.length]=de("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=T5(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=C5(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=E5(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=S5(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=v5(l["!merges"]));var d=-1,m,_=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(_=Je(n,-1,Ze(g[1].Target).replace(/#.*$/,""),$e.HLINK),m["r:id"]="rId"+_),(d=g[1].Target.indexOf("#"))>-1&&(m.location=Ze(g[1].Target.slice(d+1))),g[1].Tooltip&&(m.tooltip=Ze(g[1].Tooltip)),i[i.length]=de("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=w5(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=tr("ignoredErrors",de("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(_=Je(n,-1,"../drawings/drawing"+(t+1)+".xml",$e.DRAW),i[i.length]=de("drawing",null,{"r:id":"rId"+_}),l["!drawing"]=h),l["!comments"].length>0&&(_=Je(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",$e.VML),i[i.length]=de("legacyDrawing",null,{"r:id":"rId"+_}),l["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function k5(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function R5(t,e,r){var n=ie(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=Eh(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var h=-1,d=-1,m=f<<10;m<f+1<<10;++m){u.c=m;var _=Array.isArray(r)?(r[u.r]||[])[u.c]:r[rt(u)];_&&(h<0&&(h=m),d=m)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,d))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function N5(t,e,r,n){var i=R5(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&oe(t,0,i)}var P5=Ea,D5=Ho;function O5(){}function F5(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=HL(t),r}function L5(t,e,r){r==null&&(r=ie(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return vh({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),MS(t,r),r.slice(0,r.l)}function M5(t){var e=mn(t);return[e]}function b5(t,e,r){return r==null&&(r=ie(8)),_a(e,r)}function V5(t){var e=ya(t);return[e]}function U5(t,e,r){return r==null&&(r=ie(4)),xa(e,r)}function B5(t){var e=mn(t),r=t.read_shift(1);return[e,r,"b"]}function j5(t,e,r){return r==null&&(r=ie(9)),_a(e,r),r.write_shift(1,t.v?1:0),r}function z5(t){var e=ya(t),r=t.read_shift(1);return[e,r,"b"]}function W5(t,e,r){return r==null&&(r=ie(5)),xa(e,r),r.write_shift(1,t.v?1:0),r}function H5(t){var e=mn(t),r=t.read_shift(1);return[e,r,"e"]}function $5(t,e,r){return r==null&&(r=ie(9)),_a(e,r),r.write_shift(1,t.v),r}function G5(t){var e=ya(t),r=t.read_shift(1);return[e,r,"e"]}function K5(t,e,r){return r==null&&(r=ie(8)),xa(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function q5(t){var e=mn(t),r=t.read_shift(4);return[e,r,"s"]}function X5(t,e,r){return r==null&&(r=ie(12)),_a(e,r),r.write_shift(4,e.v),r}function Y5(t){var e=ya(t),r=t.read_shift(4);return[e,r,"s"]}function Q5(t,e,r){return r==null&&(r=ie(8)),xa(e,r),r.write_shift(4,e.v),r}function J5(t){var e=mn(t),r=$o(t);return[e,r,"n"]}function Z5(t,e,r){return r==null&&(r=ie(16)),_a(e,r),la(t.v,r),r}function eb(t){var e=ya(t),r=$o(t);return[e,r,"n"]}function tb(t,e,r){return r==null&&(r=ie(12)),xa(e,r),la(t.v,r),r}function rb(t){var e=mn(t),r=bS(t);return[e,r,"n"]}function nb(t,e,r){return r==null&&(r=ie(12)),_a(e,r),VS(t.v,r),r}function ib(t){var e=ya(t),r=bS(t);return[e,r,"n"]}function sb(t,e,r){return r==null&&(r=ie(8)),xa(e,r),VS(t.v,r),r}function ab(t){var e=mn(t),r=nv(t);return[e,r,"is"]}function ob(t){var e=mn(t),r=vr(t);return[e,r,"str"]}function lb(t,e,r){return r==null&&(r=ie(12+4*t.v.length)),_a(e,r),$t(t.v,r),r.length>r.l?r.slice(0,r.l):r}function ub(t){var e=ya(t),r=vr(t);return[e,r,"str"]}function cb(t,e,r){return r==null&&(r=ie(8+4*t.v.length)),xa(e,r),$t(t.v,r),r.length>r.l?r.slice(0,r.l):r}function fb(t,e,r){var n=t.l+e,i=mn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=vd(t,n-t.l,r);a[3]=No(o,null,i,r.supbooks,r)}else t.l=n;return a}function hb(t,e,r){var n=t.l+e,i=mn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=vd(t,n-t.l,r);a[3]=No(o,null,i,r.supbooks,r)}else t.l=n;return a}function db(t,e,r){var n=t.l+e,i=mn(t);i.r=r["!row"];var s=$o(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=vd(t,n-t.l,r);a[3]=No(o,null,i,r.supbooks,r)}else t.l=n;return a}function pb(t,e,r){var n=t.l+e,i=mn(t);i.r=r["!row"];var s=vr(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=vd(t,n-t.l,r);a[3]=No(o,null,i,r.supbooks,r)}else t.l=n;return a}var mb=Ea,gb=Ho;function vb(t,e){return e==null&&(e=ie(4)),e.write_shift(4,t),e}function _b(t,e){var r=t.l+e,n=Ea(t),i=iv(t),s=vr(t),a=vr(t),o=vr(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function yb(t,e){var r=ie(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Ho({s:Ht(t[0]),e:Ht(t[0])},r),sv("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return $t(i||"",r),$t(t[1].Tooltip||"",r),$t("",r),r.slice(0,r.l)}function xb(){}function Eb(t,e,r){var n=t.l+e,i=US(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=u5(t,n-t.l,r);a[1]=o}else t.l=n;return a}function wb(t,e,r){var n=t.l+e,i=Ea(t),s=[i];if(r.cellFormula){var a=f5(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function Tb(t,e,r){r==null&&(r=ie(18));var n=_d(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var wA=["left","right","top","bottom","header","footer"];function Sb(t){var e={};return wA.forEach(function(r){e[r]=$o(t)}),e}function Ab(t,e){return e==null&&(e=ie(6*8)),xA(t),wA.forEach(function(r){la(t[r],e)}),e}function Ib(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Cb(t,e,r){r==null&&(r=ie(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function kb(t){var e=ie(24);return e.write_shift(4,4),e.write_shift(4,1),Ho(t,e),e}function Rb(t,e){return e==null&&(e=ie(16*4+2)),e.write_shift(2,t.password?nA(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Nb(){}function Pb(){}function Db(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Br(e),e.z=e.z||Tt[14],e.v=Ur(Ar(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=As(i.cellXfs,e,i),e.l&&s["!links"].push([rt(l),e.l]),e.c&&s["!comments"].push([rt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=fv(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?oe(t,18,Q5(e,l)):oe(t,7,X5(e,l))):(l.t="str",a?oe(t,17,cb(e,l)):oe(t,6,lb(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?oe(t,13,sb(e,l)):oe(t,2,nb(e,l)):a?oe(t,16,tb(e,l)):oe(t,5,Z5(e,l)),!0;case"b":return l.t="b",a?oe(t,15,W5(e,l)):oe(t,4,j5(e,l)),!0;case"e":return l.t="e",a?oe(t,14,K5(e,l)):oe(t,3,$5(e,l)),!0}return a?oe(t,12,U5(e,l)):oe(t,1,b5(e,l)),!0}function Ob(t,e,r,n){var i=ht(e["!ref"]||"A1"),s,a="",o=[];oe(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=u;++f){a=ir(f),N5(t,e,i,f);var h=!1;if(f<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){f===i.s.r&&(o[d]=gr(d)),s=o[d]+a;var m=l?(e[f]||[])[d]:e[s];if(!m){h=!1;continue}h=Db(t,m,f,d,n,e,h)}}oe(t,146)}function Fb(t,e){!e||!e["!merges"]||(oe(t,177,vb(e["!merges"].length)),e["!merges"].forEach(function(r){oe(t,176,gb(r))}),oe(t,178))}function Lb(t,e){!e||!e["!cols"]||(oe(t,390),e["!cols"].forEach(function(r,n){r&&oe(t,60,Tb(n,r))}),oe(t,391))}function Mb(t,e){!e||!e["!ref"]||(oe(t,648),oe(t,649,kb(ht(e["!ref"]))),oe(t,650))}function bb(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Je(r,-1,n[1].Target.replace(/#.*$/,""),$e.HLINK);oe(t,494,yb(n,i))}}),delete e["!links"]}function Vb(t,e,r,n){if(e["!comments"].length>0){var i=Je(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",$e.VML);oe(t,551,sv("rId"+i)),e["!legacy"]=i}}function Ub(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Dt(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Zr(s);o.s.r==o.e.r&&(o.e.r=Zr(e["!ref"]).e.r,s=Dt(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),oe(t,161,Ho(ht(s))),oe(t,162)}}function Bb(t,e,r){oe(t,133),oe(t,137,Cb(e,r)),oe(t,138),oe(t,134)}function jb(t,e){e["!protect"]&&oe(t,535,Rb(e["!protect"]))}function zb(t,e,r,n){var i=Vr(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=ht(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],oe(i,129),(r.vbaraw||a["!outline"])&&oe(i,147,L5(o,a["!outline"])),oe(i,148,D5(l)),Bb(i,a,r.Workbook),Lb(i,a),Ob(i,a,t,e),jb(i,a),Ub(i,a,r,t),Fb(i,a),bb(i,a,n),a["!margins"]&&oe(i,476,Ab(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Mb(i,a),Vb(i,a,t,n),oe(i,130),i.end()}function Wb(t,e){t.l+=10;var r=vr(t);return{name:r}}var Hb=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $b(t){return!t.Workbook||!t.Workbook.WBProps?"false":wL(t.Workbook.WBProps.date1904)?"true":"false"}var Gb="][*?/\\".split("");function TA(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Gb.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Kb(t,e,r){t.forEach(function(n,i){TA(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function qb(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Kb(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)g5(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function SA(t){var e=[Ot];e[e.length]=de("workbook",null,{xmlns:zo[0],"xmlns:r":Wt.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Hb.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=de("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Ze(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=de("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=de("definedName",Ze(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Xb(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Gp(t),r.name=vr(t),r}function Yb(t,e){return e||(e=ie(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),sv(t.strRelID,e),$t(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Qb(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?vr(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Jb(t,e){e||(e=ie(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),MS(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Zb(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=$L(t),a=c5(t,0,r),o=iv(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function e9(t,e){oe(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};oe(t,156,Yb(i))}oe(t,144)}function t9(t,e){e||(e=ie(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return $t("SheetJS",e),$t(uh.version,e),$t(uh.version,e),$t("7262",e),e.length>e.l?e.slice(0,e.l):e}function r9(t,e){e||(e=ie(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function n9(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(oe(t,135),oe(t,158,r9(i)),oe(t,136))}}function i9(t,e){var r=Vr();return oe(r,131),oe(r,128,t9()),oe(r,153,Jb(t.Workbook&&t.Workbook.WBProps||null)),n9(r,t),e9(r,t),oe(r,132),r.end()}function s9(t,e,r){return(e.slice(-4)===".bin"?i9:SA)(t)}function a9(t,e,r,n,i){return(e.slice(-4)===".bin"?zb:EA)(t,r,n,i)}function o9(t,e,r){return(e.slice(-4)===".bin"?A6:aA)(t,r)}function l9(t,e,r){return(e.slice(-4)===".bin"?JM:rA)(t,r)}function u9(t,e,r){return(e.slice(-4)===".bin"?j6:fA)(t)}function c9(t){return(t.slice(-4)===".bin"?O6:uA)()}function f9(t,e){var r=[];return t.Props&&r.push(oM(t.Props,e)),t.Custprops&&r.push(lM(t.Props,t.Custprops)),r.join("")}function h9(){return""}function d9(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(de("NumberFormat",null,{"ss:Format":Ze(Tt[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(de("Style",s.join(""),a))}),de("Styles",r.join(""))}function AA(t){return de("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+uv(t.Ref,{r:0,c:0})})}function p9(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(AA(i)))}return de("Names",r.join(""))}function m9(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(AA(o)))}return s.join("")}function g9(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(de("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(de("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(de("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(de("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(tr("ProtectContents","True")),t["!protect"].objects&&i.push(tr("ProtectObjects","True")),t["!protect"].scenarios&&i.push(tr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(tr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(tr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":de("WorksheetOptions",i.join(""),{xmlns:Kr.x})}function v9(t){return t.map(function(e){var r=EL(e.t||""),n=de("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return de("Comment",n,{"ss:Author":e.a})}).join("")}function _9(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Ze(uv(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Ht(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Ze(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Ze(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=a.c||u[f].s.r!=a.r||(u[f].e.c>u[f].s.c&&(o["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(o["ss:MergeDown"]=u[f].e.r-u[f].s.r));var h="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",d=String(t.v);break;case"b":h="Boolean",d=t.v?"1":"0";break;case"e":h="Error",d=ec[t.v];break;case"d":h="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Tt[14]);break;case"s":h="String",d=xL(t.v||"");break}var m=As(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var _=t.v!=null?d:"",g=t.t=="z"?"":'<Data ss:Type="'+h+'">'+_+"</Data>";return(t.c||[]).length>0&&(g+=v9(t.c)),de("Cell",g,o)}function y9(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=sA(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function x9(t,e,r,n){if(!t["!ref"])return"";var i=ht(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,I){ov(y);var E=!!y.width,S=_d(I,y),D={"ss:Index":I+1};E&&(D["ss:Width"]=yh(S.width)),y.hidden&&(D["ss:Hidden"]="1"),o.push(de("Column",null,D))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var f=[y9(u,(t["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>u)&&!(s[a].e.c<h)&&!(s[a].e.r<u)){(s[a].s.c!=h||s[a].s.r!=u)&&(d=!0);break}if(!d){var m={r:u,c:h},_=rt(m),g=l?(t[u]||[])[h]:t[_];f.push(_9(g,_,t,e,r,n,m))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function E9(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?m9(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?x9(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(g9(s,e,t,r)),n.join("")}function w9(t,e){e||(e={}),t.SSF||(t.SSF=Br(Tt)),t.SSF&&(dd(),hd(t.SSF),e.revssf=pd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],As(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(f9(t,e)),r.push(h9()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(de("Worksheet",E9(n,e,t),{"ss:Name":Ze(t.SheetNames[n])}));return r[2]=d9(t,e),r[3]=p9(t),Ot+de("Workbook",r.join(""),{xmlns:Kr.ss,"xmlns:o":Kr.o,"xmlns:x":Kr.x,"xmlns:ss":Kr.ss,"xmlns:dt":Kr.dt,"xmlns:html":Kr.html})}var _0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function T9(t,e){var r=[],n=[],i=[],s=0,a,o=Vy(Qy,"n"),l=Vy(Jy,"n");if(t.Props)for(a=or(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=or(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)XS.indexOf(i[s][0])>-1||GS.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&nt.utils.cfb_add(e,"/SummaryInformation",nx(n,_0.SI,l,Jy)),(r.length||u.length)&&nt.utils.cfb_add(e,"/DocumentSummaryInformation",nx(r,_0.DSI,o,Qy,u.length?u:null,_0.UDI))}function S9(t,e){var r=e||{},n=nt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nt.utils.cfb_add(n,i,IA(t,r)),r.biff==8&&(t.Props||t.Custprops)&&T9(t,n),r.biff==8&&t.vbaraw&&z6(n,nt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var A9={0:{f:k5},1:{f:M5},2:{f:rb},3:{f:H5},4:{f:B5},5:{f:J5},6:{f:ob},7:{f:q5},8:{f:pb},9:{f:db},10:{f:fb},11:{f:hb},12:{f:V5},13:{f:ib},14:{f:G5},15:{f:z5},16:{f:eb},17:{f:ub},18:{f:Y5},19:{f:nv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Zb},40:{},42:{},43:{f:o6},44:{f:s6},45:{f:c6},46:{f:h6},47:{f:f6},48:{},49:{f:VL},50:{},51:{f:k6},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UM},62:{f:ab},63:{f:F6},64:{f:Nb},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Yn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ib},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:F5},148:{f:P5,p:16},151:{f:xb},152:{},153:{f:Qb},154:{},155:{},156:{f:Xb},157:{},158:{},159:{T:1,f:XM},160:{T:-1},161:{T:1,f:Ea},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:mb},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:I6},336:{T:-1},337:{f:P6,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Gp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:OM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Eb},427:{f:wb},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Sb},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:O5},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:_b},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Gp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:U6},633:{T:1},634:{T:-1},635:{T:1,f:b6},636:{T:-1},637:{f:zL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Wb},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Pb},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function pe(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&ev(r)&&t.push(r)}}function I9(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return pe(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var f=t.next(4);for(f.write_shift(2,s),f.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(f=t.next(4),f.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;f.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function rc(t,e,r){return t||(t=ie(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function C9(t,e,r,n){var i=ie(9);return rc(i,t,e),QS(r,n||"b",i),i}function k9(t,e,r){var n=ie(8+2*r.length);return rc(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function R9(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ur(Ar(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?pe(t,2,WM(r,n,i)):pe(t,3,zM(r,n,i));return;case"b":case"e":pe(t,5,C9(r,n,e.v,e.t));return;case"s":case"str":pe(t,4,k9(r,n,(e.v||"").slice(0,255)));return}pe(t,1,rc(null,r,n))}function N9(t,e,r,n){var i=Array.isArray(e),s=ht(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Dt(s)}for(var u=s.s.r;u<=s.e.r;++u){o=ir(u);for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(l[f]=gr(f)),a=l[f]+o;var h=i?(e[u]||[])[f]:e[a];h&&R9(t,h,u,f)}}}function P9(t,e){for(var r=e||{},n=Vr(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return pe(n,r.biff==4?1033:r.biff==3?521:9,av(t,16,r)),N9(n,t.Sheets[t.SheetNames[i]],i,r),pe(n,10),n.end()}function D9(t,e,r){pe(t,49,AM({sz:12,name:"Arial"},r))}function O9(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&pe(t,1054,kM(i,e[i],r))})}function F9(t,e){var r=ie(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),pe(t,2151,r),r=ie(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),eA(ht(e["!ref"]||"A1"),r),r.write_shift(4,4),pe(t,2152,r)}function L9(t,e){for(var r=0;r<16;++r)pe(t,224,sx({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){pe(t,224,sx(n,0,e))})}function M9(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];pe(t,440,MM(n)),n[1].Tooltip&&pe(t,2048,bM(n))}delete e["!links"]}function b9(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&pe(t,125,BM(_d(i,n),i))})}}function V9(t,e,r,n,i){var s=16+As(i.cellXfs,e,i);if(e.v==null&&!e.bf){pe(t,513,ua(r,n,s));return}if(e.bf)pe(t,6,l5(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Ur(Ar(e.v)):e.v;pe(t,515,DM(r,n,a,s));break;case"b":case"e":pe(t,517,PM(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=fv(i.Strings,e.v,i.revStrings);pe(t,253,IM(r,n,o,s))}else pe(t,516,CM(r,n,(e.v||"").slice(0,255),s,i));break;default:pe(t,513,ua(r,n,s))}}function U9(t,e,r){var n=Vr(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,f,h="",d=[],m=ht(s["!ref"]||"A1"),_=u?65536:16384;if(m.e.c>255||m.e.r>=_){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,_-1)}pe(n,2057,av(r,16,e)),pe(n,13,an(1)),pe(n,12,an(100)),pe(n,15,wr(!0)),pe(n,17,wr(!1)),pe(n,16,la(.001)),pe(n,95,wr(!0)),pe(n,42,wr(!1)),pe(n,43,wr(!1)),pe(n,130,an(1)),pe(n,128,NM()),pe(n,131,wr(!1)),pe(n,132,wr(!1)),u&&b9(n,s["!cols"]),pe(n,512,RM(m,e)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){h=ir(g);for(var y=m.s.c;y<=m.e.c;++y){g===m.s.r&&(d[y]=gr(y)),f=d[y]+h;var I=l?(s[g]||[])[y]:s[f];I&&(V9(n,I,g,y,e),u&&I.l&&s["!links"].push([f,I.l]))}}var E=o.CodeName||o.name||i;return u&&pe(n,574,SM((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&pe(n,229,LM(s["!merges"])),u&&M9(n,s),pe(n,442,ZS(E)),u&&F9(n,s),pe(n,10),n.end()}function B9(t,e,r){var n=Vr(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(pe(n,2057,av(t,5,r)),r.bookType=="xla"&&pe(n,135),pe(n,225,o?an(1200):null),pe(n,193,fM(2)),l&&pe(n,191),l&&pe(n,192),pe(n,226),pe(n,92,xM("SheetJS",r)),pe(n,66,an(o?1200:1252)),o&&pe(n,353,an(0)),o&&pe(n,448),pe(n,317,jM(t.SheetNames.length)),o&&t.vbaraw&&pe(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";pe(n,442,ZS(u))}pe(n,156,an(17)),pe(n,25,wr(!1)),pe(n,18,wr(!1)),pe(n,19,an(0)),o&&pe(n,431,wr(!1)),o&&pe(n,444,an(0)),pe(n,61,TM()),pe(n,64,wr(!1)),pe(n,141,an(0)),pe(n,34,wr($b(t)=="true")),pe(n,14,wr(!0)),o&&pe(n,439,wr(!1)),pe(n,218,an(0)),D9(n,t,r),O9(n,t.SSF,r),L9(n,r),o&&pe(n,352,wr(!1));var f=n.end(),h=Vr();o&&pe(h,140,VM()),o&&r.Strings&&I9(h,252,wM(r.Strings)),pe(h,10);var d=h.end(),m=Vr(),_=0,g=0;for(g=0;g<t.SheetNames.length;++g)_+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=f.length+_+d.length;for(g=0;g<t.SheetNames.length;++g){var I=s[g]||{};pe(m,133,EM({pos:y,hs:I.Hidden||0,dt:0,name:t.SheetNames[g]},r)),y+=e[g].length}var E=m.end();if(_!=E.length)throw new Error("BS8 "+_+" != "+E.length);var S=[];return f.length&&S.push(f),E.length&&S.push(E),d.length&&S.push(d),er(S)}function j9(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Br(Tt)),t&&t.SSF&&(dd(),hd(t.SSF),r.revssf=pd(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,hv(r),r.cellXfs=[],As(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=U9(i,r,t);return n.unshift(B9(t,n,r)),er(n)}function IA(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Zr(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return j9(t,e);case 4:case 3:case 2:return P9(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function z9(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var f=rt({r,c:a}),h=n.dense?(t[r]||[])[a]:t[f],d=h&&h.v!=null&&(h.h||yL(h.w||(Ii(h),h.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),m.id=(n.id||"sjs")+"-"+f,s.push(de("td",d,m))}}var _="<tr>";return _+s.join("")+"</tr>"}var W9='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',H9="</body></html>";function $9(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function CA(t,e){var r=e||{},n=r.header!=null?r.header:W9,i=r.footer!=null?r.footer:H9,s=[n],a=Zr(t["!ref"]);r.dense=Array.isArray(t),s.push($9(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(z9(t,a,o,r));return s.push("</table>"+i),s.join("")}function kA(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Ht(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var f=Zr(t["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var h=[],d=0,m=t["!rows"]||(t["!rows"]=[]),_=0,g=0,y=0,I=0,E=0,S=0;for(t["!cols"]||(t["!cols"]=[]);_<o.length&&g<l;++_){var D=o[_];if(hx(D)){if(n.display)continue;m[g]={hidden:!0}}var B=D.children;for(y=I=0;y<B.length;++y){var j=B[y];if(!(n.display&&hx(j))){var x=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):TL(j.innerHTML),w=j.getAttribute("data-z")||j.getAttribute("z");for(d=0;d<h.length;++d){var A=h[d];A.s.c==I+s&&A.s.r<g+i&&g+i<=A.e.r&&(I=A.e.c+1-s,d=-1)}S=+j.getAttribute("colspan")||1,((E=+j.getAttribute("rowspan")||1)>1||S>1)&&h.push({s:{r:g+i,c:I+s},e:{r:g+i+(E||1)-1,c:I+s+(S||1)-1}});var T={t:"s",v:x},R=j.getAttribute("data-t")||j.getAttribute("t")||"";x!=null&&(x.length==0?T.t=R||"z":n.raw||x.trim().length==0||R=="s"||(x==="TRUE"?T={t:"b",v:!0}:x==="FALSE"?T={t:"b",v:!1}:isNaN(mi(x))?isNaN(Au(x).getDate())||(T={t:"d",v:Ar(x)},n.cellDates||(T={t:"n",v:Ur(T.v)}),T.z=n.dateNF||Tt[14]):T={t:"n",v:mi(x)})),T.z===void 0&&w!=null&&(T.z=w);var L="",N=j.getElementsByTagName("A");if(N&&N.length)for(var Ie=0;Ie<N.length&&!(N[Ie].hasAttribute("href")&&(L=N[Ie].getAttribute("href"),L.charAt(0)!="#"));++Ie);L&&L.charAt(0)!="#"&&(T.l={Target:L}),n.dense?(t[g+i]||(t[g+i]=[]),t[g+i][I+s]=T):t[rt({c:I+s,r:g+i})]=T,u.e.c<I+s&&(u.e.c=I+s),I+=S}}++g}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,g-1+i),t["!ref"]=Dt(u),g>=l&&(t["!fullref"]=Dt((u.e.r=o.length-_+g-1+i,u))),t}function RA(t,e){var r=e||{},n=r.dense?[]:{};return kA(n,t,e)}function G9(t,e){return va(RA(t,e),e)}function hx(t){var e="",r=K9(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function K9(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var q9=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ot+e}}(),dx=function(){var t=function(s){return Ze(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Ze(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,f=0,h=Zr(s["!ref"]||"A1"),d=s["!merges"]||[],m=0,_=Array.isArray(s);if(s["!cols"])for(f=0;f<=h.e.c;++f)l.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(u=0;u<h.s.r;++u)g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=h.e.r;++u){for(g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),f=0;f<h.s.c;++f)l.push(e);for(;f<=h.e.c;++f){var I=!1,E={},S="";for(m=0;m!=d.length;++m)if(!(d[m].s.c>f)&&!(d[m].s.r>u)&&!(d[m].e.c<f)&&!(d[m].e.r<u)){(d[m].s.c!=f||d[m].s.r!=u)&&(I=!0),E["table:number-columns-spanned"]=d[m].e.c-d[m].s.c+1,E["table:number-rows-spanned"]=d[m].e.r-d[m].s.r+1;break}if(I){l.push(r);continue}var D=rt({r:u,c:f}),B=_?(s[u]||[])[f]:s[D];if(B&&B.f&&(E["table:formula"]=Ze(p5(B.f)),B.F&&B.F.slice(0,D.length)==D)){var j=Zr(B.F);E["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,E["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!B){l.push(e);continue}switch(B.t){case"b":S=B.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=B.v?"true":"false";break;case"n":S=B.w||String(B.v||0),E["office:value-type"]="float",E["office:value"]=B.v||0;break;case"s":case"str":S=B.v==null?"":B.v,E["office:value-type"]="string";break;case"d":S=B.w||Ar(B.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Ar(B.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(e);continue}var x=t(S);if(B.l&&B.l.Target){var w=B.l.Target;w=w.charAt(0)=="#"?"#"+m5(w.slice(1)):w,w.charAt(0)!="#"&&!w.match(/^\w+:/)&&(w="../"+w),x=de("text:a",x,{"xlink:href":w.replace(/&/g,"&amp;")})}l.push("          "+de("table:table-cell",de("text:p",x,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var h=u["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;ov(h),h.ods=o;var d=u["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=l;var h=u["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Ot],u=Cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Cu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+f+`>
`),l.push(HS().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)l.push(n(a.Sheets[a.SheetNames[h]],a,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function NA(t,e){if(e.bookType=="fods")return dx(t,e);var r=Yg(),n="",i=[],s=[];return n="mimetype",Le(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Le(r,n,dx(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Le(r,n,q9(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Le(r,n,Ot+HS()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Le(r,n,aM(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Le(r,n,iM(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function X9(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Sn(Iu(t))}function Y9(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ys(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function Q9(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function ku(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Qe(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function po(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Mt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=ku(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=ku(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Xt(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Qe(n*8+i.type)),i.type==2&&e.push(Qe(i.data.length)),e.push(i.data))})}),ys(e)}function yn(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=ku(t,n),s=Mt(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:po(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Mt(o.data),u=po(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=po(s[3][0].data)>>>0>0),r.push(a)}return r}function Da(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Qe(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Qe(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Qe(a.data.length)}],n[2].push({data:Xt(a.meta),type:2})});var s=Xt(n);e.push(Qe(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),ys(e)}function J9(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=ku(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ys(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var f=ys(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function xn(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(J9(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ys(e)}function Oa(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=Qe(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return ys(e)}function y0(t,e){var r=new Uint8Array(32),n=wh(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,Q9(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function x0(t,e){var r=new Uint8Array(32),n=wh(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function bi(t){var e=Mt(t);return ku(e[1][0].data)}function Z9(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&po(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=wh(t[7][0].data),f=0,h=[],d=wh(t[4][0].data),m=0,_=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535);continue}u.setUint16(g*2,f,!0),d.setUint16(g*2,m,!0);var y,I;switch(typeof e[g]){case"string":y=y0({t:"s",v:e[g]},r),I=x0({t:"s",v:e[g]},r);break;case"number":y=y0({t:"n",v:e[g]},r),I=x0({t:"n",v:e[g]},r);break;case"boolean":y=y0({t:"b",v:e[g]},r),I=x0({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}h.push(y),f+=y.length,_.push(I),m+=I.length,++l}for(t[2][0].data=Qe(l);g<t[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535,!0);return t[6][0].data=ys(h),t[3][0].data=ys(_),l}function eV(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Zr(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Dt(n)));var s=Th(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(H){return H.forEach(function(W){typeof W=="string"&&a.push(W)})});var o={},l=[],u=nt.read(e.numbers,{type:"base64"});u.FileIndex.map(function(H,W){return[H,u.FullPaths[W]]}).forEach(function(H){var W=H[0],z=H[1];if(W.type==2&&W.name.match(/\.iwa/)){var K=W.content,he=xn(K),xe=yn(he);xe.forEach(function(Se){l.push(Se.id),o[Se.id]={deps:[],location:z,type:po(Se.messages[0].meta[1][0].data)}})}}),l.sort(function(H,W){return H-W});var f=l.filter(function(H){return H>1}).map(function(H){return[H,Qe(H)]});u.FileIndex.map(function(H,W){return[H,u.FullPaths[W]]}).forEach(function(H){var W=H[0];if(H[1],!!W.name.match(/\.iwa/)){var z=yn(xn(W.content));z.forEach(function(K){K.messages.forEach(function(he){f.forEach(function(xe){K.messages.some(function(Se){return po(Se.meta[1][0].data)!=11006&&Y9(Se.data,xe[1])})&&o[xe[0]].deps.push(K.id)})})})}});for(var h=nt.find(u,o[1].location),d=yn(xn(h.content)),m,_=0;_<d.length;++_){var g=d[_];g.id==1&&(m=g)}var y=bi(Mt(m.messages[0].data)[1][0].data);for(h=nt.find(u,o[y].location),d=yn(xn(h.content)),_=0;_<d.length;++_)g=d[_],g.id==y&&(m=g);for(y=bi(Mt(m.messages[0].data)[2][0].data),h=nt.find(u,o[y].location),d=yn(xn(h.content)),_=0;_<d.length;++_)g=d[_],g.id==y&&(m=g);for(y=bi(Mt(m.messages[0].data)[2][0].data),h=nt.find(u,o[y].location),d=yn(xn(h.content)),_=0;_<d.length;++_)g=d[_],g.id==y&&(m=g);var I=Mt(m.messages[0].data);{I[6][0].data=Qe(n.e.r+1),I[7][0].data=Qe(n.e.c+1);var E=bi(I[46][0].data),S=nt.find(u,o[E].location),D=yn(xn(S.content));{for(var B=0;B<D.length&&D[B].id!=E;++B);if(D[B].id!=E)throw"Bad ColumnRowUIDMapArchive";var j=Mt(D[B].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var x=0;x<=n.e.c;++x){var w=[];w[1]=w[2]=[{type:0,data:Qe(x+420690)}],j[1].push({type:2,data:Xt(w)}),j[2].push({type:0,data:Qe(x)}),j[3].push({type:0,data:Qe(x)})}j[4]=[],j[5]=[],j[6]=[];for(var A=0;A<=n.e.r;++A)w=[],w[1]=w[2]=[{type:0,data:Qe(A+726270)}],j[4].push({type:2,data:Xt(w)}),j[5].push({type:0,data:Qe(A)}),j[6].push({type:0,data:Qe(A)});D[B].messages[0].data=Xt(j)}S.content=Oa(Da(D)),S.size=S.content.length,delete I[46];var T=Mt(I[4][0].data);{T[7][0].data=Qe(n.e.r+1);var R=Mt(T[1][0].data),L=bi(R[2][0].data);S=nt.find(u,o[L].location),D=yn(xn(S.content));{if(D[0].id!=L)throw"Bad HeaderStorageBucket";var N=Mt(D[0].messages[0].data);for(A=0;A<s.length;++A){var Ie=Mt(N[2][0].data);Ie[1][0].data=Qe(A),Ie[4][0].data=Qe(s[A].length),N[2][A]={type:N[2][0].type,data:Xt(Ie)}}D[0].messages[0].data=Xt(N)}S.content=Oa(Da(D)),S.size=S.content.length;var ke=bi(T[2][0].data);S=nt.find(u,o[ke].location),D=yn(xn(S.content));{if(D[0].id!=ke)throw"Bad HeaderStorageBucket";for(N=Mt(D[0].messages[0].data),x=0;x<=n.e.c;++x)Ie=Mt(N[2][0].data),Ie[1][0].data=Qe(x),Ie[4][0].data=Qe(n.e.r+1),N[2][x]={type:N[2][0].type,data:Xt(Ie)};D[0].messages[0].data=Xt(N)}S.content=Oa(Da(D)),S.size=S.content.length;var Xe=bi(T[4][0].data);(function(){for(var H=nt.find(u,o[Xe].location),W=yn(xn(H.content)),z,K=0;K<W.length;++K){var he=W[K];he.id==Xe&&(z=he)}var xe=Mt(z.messages[0].data);{xe[3]=[];var Se=[];a.forEach(function(Me,Ft){Se[1]=[{type:0,data:Qe(Ft)}],Se[2]=[{type:0,data:Qe(1)}],Se[3]=[{type:2,data:X9(Me)}],xe[3].push({type:2,data:Xt(Se)})})}z.messages[0].data=Xt(xe);var me=Da(W),We=Oa(me);H.content=We,H.size=H.content.length})();var se=Mt(T[3][0].data);{var Y=se[1][0];delete se[2];var te=Mt(Y.data);{var re=bi(te[2][0].data);(function(){for(var H=nt.find(u,o[re].location),W=yn(xn(H.content)),z,K=0;K<W.length;++K){var he=W[K];he.id==re&&(z=he)}var xe=Mt(z.messages[0].data);{delete xe[6],delete se[7];var Se=new Uint8Array(xe[5][0].data);xe[5]=[];for(var me=0,We=0;We<=n.e.r;++We){var Me=Mt(Se);me+=Z9(Me,s[We],a),Me[1][0].data=Qe(We),xe[5].push({data:Xt(Me),type:2})}xe[1]=[{type:0,data:Qe(n.e.c+1)}],xe[2]=[{type:0,data:Qe(n.e.r+1)}],xe[3]=[{type:0,data:Qe(me)}],xe[4]=[{type:0,data:Qe(n.e.r+1)}]}z.messages[0].data=Xt(xe);var Ft=Da(W),Be=Oa(Ft);H.content=Be,H.size=H.content.length})()}Y.data=Xt(te)}T[3][0].data=Xt(se)}I[4][0].data=Xt(T)}m.messages[0].data=Xt(I);var _e=Da(d),V=Oa(_e);return h.content=V,h.size=h.content.length,u}function tV(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function hv(t){tV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function rV(t,e){return e.bookType=="ods"?NA(t,e):e.bookType=="numbers"?eV(t,e):e.bookType=="xlsb"?nV(t,e):iV(t,e)}function nV(t,e){Ja=1024,t&&!t.SSF&&(t.SSF=Br(Tt)),t&&t.SSF&&(dd(),hd(t.SSF),e.revssf=pd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=hA.indexOf(e.bookType)>-1,i=jS();hv(e=e||{});var s=Yg(),a="",o=0;if(e.cellXfs=[],As(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Le(s,a,$S(t.Props,e)),i.coreprops.push(a),Je(e.rels,2,a,$e.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Le(s,a,KS(t.Props)),i.extprops.push(a),Je(e.rels,3,a,$e.EXT_PROPS),t.Custprops!==t.Props&&or(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Le(s,a,qS(t.Custprops)),i.custprops.push(a),Je(e.rels,4,a,$e.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Le(s,a,a9(o-1,a,e,t,f)),i.sheets.push(a),Je(e.wbrels,-1,"worksheets/sheet"+o+"."+r,$e.WS[0])}if(h){var m=h["!comments"],_=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Le(s,g,u9(m,g)),i.comments.push(g),Je(f,-1,"../comments"+o+"."+r,$e.CMNT),_=!0),h["!legacy"]&&_&&Le(s,"xl/drawings/vmlDrawing"+o+".vml",cA(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Le(s,WS(a),fo(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Le(s,a,l9(e.Strings,a,e)),i.strs.push(a),Je(e.wbrels,-1,"sharedStrings."+r,$e.SST)),a="xl/workbook."+r,Le(s,a,s9(t,a)),i.workbooks.push(a),Je(e.rels,1,a,$e.WB),a="xl/theme/theme1.xml",Le(s,a,lA(t.Themes,e)),i.themes.push(a),Je(e.wbrels,-1,"theme/theme1.xml",$e.THEME),a="xl/styles."+r,Le(s,a,o9(t,a,e)),i.styles.push(a),Je(e.wbrels,-1,"styles."+r,$e.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Le(s,a,t.vbaraw),i.vba.push(a),Je(e.wbrels,-1,"vbaProject.bin",$e.VBA)),a="xl/metadata."+r,Le(s,a,c9(a)),i.metadata.push(a),Je(e.wbrels,-1,"metadata."+r,$e.XLMETA),Le(s,"[Content_Types].xml",zS(i,e)),Le(s,"_rels/.rels",fo(e.rels)),Le(s,"xl/_rels/workbook."+r+".rels",fo(e.wbrels)),delete e.revssf,delete e.ssf,s}function iV(t,e){Ja=1024,t&&!t.SSF&&(t.SSF=Br(Tt)),t&&t.SSF&&(dd(),hd(t.SSF),e.revssf=pd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=hA.indexOf(e.bookType)>-1,i=jS();hv(e=e||{});var s=Yg(),a="",o=0;if(e.cellXfs=[],As(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Le(s,a,$S(t.Props,e)),i.coreprops.push(a),Je(e.rels,2,a,$e.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Le(s,a,KS(t.Props)),i.extprops.push(a),Je(e.rels,3,a,$e.EXT_PROPS),t.Custprops!==t.Props&&or(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Le(s,a,qS(t.Custprops)),i.custprops.push(a),Je(e.rels,4,a,$e.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],m=(d||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Le(s,a,EA(o-1,e,t,h)),i.sheets.push(a),Je(e.wbrels,-1,"worksheets/sheet"+o+"."+r,$e.WS[0])}if(d){var _=d["!comments"],g=!1,y="";if(_&&_.length>0){var I=!1;_.forEach(function(E){E[1].forEach(function(S){S.T==!0&&(I=!0)})}),I&&(y="xl/threadedComments/threadedComment"+o+"."+r,Le(s,y,L6(_,f,e)),i.threadedcomments.push(y),Je(h,-1,"../threadedComments/threadedComment"+o+"."+r,$e.TCMNT)),y="xl/comments"+o+"."+r,Le(s,y,fA(_)),i.comments.push(y),Je(h,-1,"../comments"+o+"."+r,$e.CMNT),g=!0}d["!legacy"]&&g&&Le(s,"xl/drawings/vmlDrawing"+o+".vml",cA(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&Le(s,WS(a),fo(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Le(s,a,rA(e.Strings,e)),i.strs.push(a),Je(e.wbrels,-1,"sharedStrings."+r,$e.SST)),a="xl/workbook."+r,Le(s,a,SA(t)),i.workbooks.push(a),Je(e.rels,1,a,$e.WB),a="xl/theme/theme1.xml",Le(s,a,lA(t.Themes,e)),i.themes.push(a),Je(e.wbrels,-1,"theme/theme1.xml",$e.THEME),a="xl/styles."+r,Le(s,a,aA(t,e)),i.styles.push(a),Je(e.wbrels,-1,"styles."+r,$e.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Le(s,a,t.vbaraw),i.vba.push(a),Je(e.wbrels,-1,"vbaProject.bin",$e.VBA)),a="xl/metadata."+r,Le(s,a,uA()),i.metadata.push(a),Je(e.wbrels,-1,"metadata."+r,$e.XLMETA),f.length>1&&(a="xl/persons/person.xml",Le(s,a,M6(f)),i.people.push(a),Je(e.wbrels,-1,"persons/person.xml",$e.PEOPLE)),Le(s,"[Content_Types].xml",zS(i,e)),Le(s,"_rels/.rels",fo(e.rels)),Le(s,"xl/_rels/workbook."+r+".rels",fo(e.wbrels)),delete e.revssf,delete e.ssf,s}function sV(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ai(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function PA(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ju(e.file,nt.write(t,{type:qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return nt.write(t,e)}function aV(t,e){var r=Br(e||{}),n=rV(t,r);return oV(n,r)}function oV(t,e){var r={},n=qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?nt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(fd(i))}return e.password&&typeof encrypt_agile<"u"?PA(encrypt_agile(i,e.password),e):e.type==="file"?Ju(e.file,i):e.type=="string"?zl(i):i}function lV(t,e){var r=e||{},n=S9(t,r);return PA(n,r)}function bn(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Su(Iu(n));case"binary":return Iu(n);case"string":return t;case"file":return Ju(e.file,n,"utf8");case"buffer":return qe?Ri(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):bn(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function uV(t,e){switch(e.type){case"base64":return Su(t);case"binary":return t;case"string":return t;case"file":return Ju(e.file,t,"binary");case"buffer":return qe?Ri(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Qc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Su(r):e.type=="string"?zl(r):r;case"file":return Ju(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function DA(t,e){b3(),qb(t);var r=Br(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=DA(t,r);return r.type="array",fd(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return bn(w9(t,r),r);case"slk":case"sylk":return bn($M.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return bn(CA(t.Sheets[t.SheetNames[i]],r),r);case"txt":return uV(OA(t.Sheets[t.SheetNames[i]],r),r);case"csv":return bn(dv(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return bn(GM.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Qc(HM.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return bn(KM.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return bn(e6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return bn(tA.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return bn(NA(t,r),r);case"wk1":return Qc(ax.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Qc(ax.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Qc(IA(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),lV(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return aV(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function cV(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function fV(t,e,r){var n={};return n.type="file",n.file=e,cV(n),DA(t,n)}function hV(t,e,r,n,i,s,a,o){var l=ir(r),u=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var _=a?t[r][m]:t[n[m]+l];if(_===void 0||_.t===void 0){if(u===void 0)continue;s[m]!=null&&(d[s[m]]=u);continue}var g=_.v;switch(_.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[m]!=null){if(g==null)if(_.t=="e"&&g===null)d[s[m]]=null;else if(u!==void 0)d[s[m]]=u;else if(f&&g===null)d[s[m]]=null;else continue;else d[s[m]]=f&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?g:Ii(_,g,o);g!=null&&(h=!1)}}return{row:d,isempty:h}}function Th(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},f=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":l=ht(f);break;case"number":l=ht(t["!ref"]),l.s.r=f;break;default:l=f}n>0&&(i=0);var h=ir(l.s.r),d=[],m=[],_=0,g=0,y=Array.isArray(t),I=l.s.r,E=0,S={};y&&!t[I]&&(t[I]=[]);var D=u.skipHidden&&t["!cols"]||[],B=u.skipHidden&&t["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(D[E]||{}).hidden)switch(d[E]=gr(E),r=y?t[I][E]:t[d[E]+h],n){case 1:s[E]=E-l.s.c;break;case 2:s[E]=d[E];break;case 3:s[E]=u.header[E-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Ii(r,null,u),g=S[a]||0,!g)S[a]=1;else{do o=a+"_"+g++;while(S[o]);S[a]=g,S[o]=1}s[E]=o}for(I=l.s.r+i;I<=l.e.r;++I)if(!(B[I]||{}).hidden){var j=hV(t,l,I,d,n,s,y,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[_++]=j.row)}return m.length=_,m}var px=/"/g;function dV(t,e,r,n,i,s,a,o){for(var l=!0,u=[],f="",h=ir(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var m=o.dense?(t[r]||[])[d]:t[n[d]+h];if(m==null)f="";else if(m.v!=null){l=!1,f=""+(o.rawNumbers&&m.t=="n"?m.v:Ii(m,null,o));for(var _=0,g=0;_!==f.length;++_)if((g=f.charCodeAt(_))===i||g===s||g===34||o.forceQuotes){f='"'+f.replace(px,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(l=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(px,'""')+'"')):f="";u.push(f)}return o.blankrows===!1&&l?null:u.join(a)}function dv(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=ht(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),f="",h=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(d[_]||{}).hidden||(h[_]=gr(_));for(var g=0,y=i.s.r;y<=i.e.r;++y)(m[y]||{}).hidden||(f=dV(t,i,y,h,a,l,s,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((g++?o:"")+f)));return delete n.dense,r.join("")}function OA(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=dv(t,e);return r}function pV(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ht(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=gr(o);for(var f=i.s.r;f<=i.e.r;++f)for(s=ir(f),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[f]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function FA(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Ht(n.origin):n.origin;a=l.r,o=l.c}var u,f={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var h=ht(s["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),a==-1&&(a=h.e.r+1,f.e.r=a+e.length-1+i)}else a==-1&&(a=0,f.e.r=e.length-1+i);var d=n.header||[],m=0;e.forEach(function(g,y){or(g).forEach(function(I){(m=d.indexOf(I))==-1&&(d[m=d.length]=I);var E=g[I],S="z",D="",B=rt({c:o+m,r:a+y+i});u=Ru(s,B),E&&typeof E=="object"&&!(E instanceof Date)?s[B]=E:(typeof E=="number"?S="n":typeof E=="boolean"?S="b":typeof E=="string"?S="s":E instanceof Date?(S="d",n.cellDates||(S="n",E=Ur(E)),D=n.dateNF||Tt[14]):E===null&&n.nullError&&(S="e",E=0),u?(u.t=S,u.v=E,delete u.w,delete u.R,D&&(u.z=D)):s[B]=u={t:S,v:E},D&&(u.z=D))})}),f.e.c=Math.max(f.e.c,o+d.length-1);var _=ir(a);if(i)for(m=0;m<d.length;++m)s[gr(m+o)+_]={t:"s",v:d[m]};return s["!ref"]=Dt(f),s}function mV(t,e){return FA(null,t,e)}function Ru(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Ht(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Ru(t,rt(e)):Ru(t,rt({r:e,c:r||0}))}function gV(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function vV(){return{SheetNames:[],Sheets:{}}}function _V(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(TA(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function yV(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=gV(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function xV(t,e){return t.z=e,t}function LA(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function EV(t,e,r){return LA(t,"#"+e,r)}function wV(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function TV(t,e,r,n){for(var i=typeof e!="string"?e:ht(e),s=typeof e=="string"?e:Dt(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Ru(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var E0={encode_col:gr,encode_row:ir,encode_cell:rt,encode_range:Dt,decode_col:rv,decode_row:tv,split_cell:bL,decode_cell:Ht,decode_range:Zr,format_cell:Ii,sheet_add_aoa:LS,sheet_add_json:FA,sheet_add_dom:kA,aoa_to_sheet:Wo,json_to_sheet:mV,table_to_sheet:RA,table_to_book:G9,sheet_to_csv:dv,sheet_to_txt:OA,sheet_to_json:Th,sheet_to_html:CA,sheet_to_formulae:pV,sheet_to_row_object_array:Th,sheet_get_cell:Ru,book_new:vV,book_append_sheet:_V,book_set_sheet_visibility:yV,cell_set_number_format:xV,cell_set_hyperlink:LA,cell_set_internal_link:EV,cell_add_comment:wV,sheet_set_array_formula:TV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Fa=[" No","Geli Tarihi(Arrival Date)","Bekledii Sre(Waiting Time)","Termin tarihi_1/ Delivery date_1","Termin tarihi_2/ Delivery date_2","Termin tarihi_3/ Delivery date_3","Ana Mteri Ad/ Main customer name","Mteri Ad/ Customer name","rsaliye no/ Waybill no","Para Numaras/ Part Number","FAI/ Seri","Yaplacak ilem/ Finish code","GKR no","Sipari no/ PO no","IEM","TAI SOIR no","Miktar/ Qty","TAI sipari no/ TAI po no","Mteri onay/ Cust. approved","Sipari gzden geirildi mi?/ Order req. Reviewed (Kapasite yeterli mi? Satnalma ihtiyac var m?","Seri no var m veya kritik mi Y/N/ Part traceable or critial? Varsa seri no kaydet/ if applicable record serial no.","Notes/ Notlar","TF Hazrlayan/ Prepared by","TF tarihi/ Date of prs","NCPR no/ Uygunsuzluk n, Ex or In","Hazr/ Finished","Denetim isteme","Satld/ Sold","Tanmlama"],qp={" No":"workNo","Geli Tarihi(Arrival Date)":"arrivalDate","Bekledii Sre(Waiting Time)":"waitingTime","Termin tarihi_1/ Delivery date_1":"deliveryDate1","Termin tarihi_2/ Delivery date_2":"deliveryDate2","Termin tarihi_3/ Delivery date_3":"deliveryDate3","Ana Mteri Ad/ Main customer name":"mainCustomerName","Mteri Ad/ Customer name":"customerName","rsaliye no/ Waybill no":"waybillNo","Para Numaras/ Part Number":"partNumber","FAI/ Seri":"faiSeri","Yaplacak ilem/ Finish code":"finishCode","GKR no":"gkrNo","Sipari no/ PO no":"poNo",IEM:"iem","TAI SOIR no":"taiSoirNo","Miktar/ Qty":"qty","TAI sipari no/ TAI po no":"taiPoNo","Mteri onay/ Cust. approved":"custApproved","Sipari gzden geirildi mi?/ Order req. Reviewed (Kapasite yeterli mi? Satnalma ihtiyac var m?":"orderReviewed","Seri no var m veya kritik mi Y/N/ Part traceable or critial? Varsa seri no kaydet/ if applicable record serial no.":"partTraceable","Notes/ Notlar":"notes","TF Hazrlayan/ Prepared by":"preparedBy","TF tarihi/ Date of prs":"dateOfPrs","NCPR no/ Uygunsuzluk n, Ex or In":"ncprNo","Hazr/ Finished":"finished","Denetim isteme":"denetimIsteme","Satld/ Sold":"sold",Tanmlama:"tanimlama"},mx=["Hazr","retimde","Denetimi Geti","retime Girmeden ade Edildi","Fatura Edildi","Uygun Olmayan"],SV=Object.fromEntries(Object.entries(qp).map(([t,e])=>[e,t]));function AV({selectedProject:t,setSelectedProject:e}){const r=da(),[n,i]=J.useState([]),[s,a]=J.useState(!0),[o,l]=J.useState(null),[u,f]=J.useState(""),[h,d]=J.useState({}),[m,_]=J.useState([]),[g,y]=J.useState([]),[I,E]=J.useState(!1),[S,D]=J.useState(null);J.useEffect(()=>{const se=t==null?void 0:t.id,Y=se?cn(Vt(Ke,"works"),Y2("projectId","==",se),Bn("workNo","asc")):cn(Vt(Ke,"works"),Bn("workNo","asc")),te=qn(Y,re=>{const _e=re.docs.map(V=>({docId:V.id,...V.data()}));_e.sort((V,H)=>{const W=V.workNo||999999,z=H.workNo||999999;return W-z}),i(_e),a(!1)},re=>{console.error("ler yklenirken hata:",re),alert("ler yklenirken bir hata olutu: "+re.message),a(!1)});return()=>te()},[t==null?void 0:t.id]),J.useEffect(()=>{const se=cn(Vt(Ke,"projects"),Bn("createdAt","desc")),Y=qn(se,_e=>{const V=_e.docs.map(W=>({id:W.id,...W.data()}));_(V);const H=localStorage.getItem("selectedProjectId");if(!t&&V.length>0){const z=(H?V.find(K=>K.id===H):null)||V[0];e==null||e(z)}}),te=cn(Vt(Ke,"customers"),Bn("createdAt","desc")),re=qn(te,_e=>{y(_e.docs.map(V=>({id:V.id,...V.data()})))});return()=>{Y(),re()}},[]),J.useEffect(()=>{const se=async()=>{if(!(!n||n.length===0)){for(const te of n)if(te.arrivalDate){const re=j(te.arrivalDate);if(re!==null&&te.waitingTime!==re)try{const _e=br(Ke,"works",te.docId);await Ay(_e,{waitingTime:re,updatedAt:new Date})}catch(_e){console.error(`Bekleme sresi gncellenirken hata (${te.docId}):`,_e)}}}};se();const Y=setInterval(se,60*60*1e3);return()=>clearInterval(Y)},[n]);const B=()=>{try{if(n.length===0){alert("Aktarlacak veri yok.");return}const se=Fa,Y=n.map(z=>Fa.map(K=>{const he=qp[K],xe=z[he];return xe instanceof Date?xe.toLocaleDateString("tr-TR"):xe??""})),te=[se,...Y],re=E0.aoa_to_sheet(te),_e=Fa.map(z=>({wch:Math.max(z.length*.8,15)}));re["!cols"]=_e;const V=E0.book_new(),H=t!=null&&t.name?`${t.name} -  Takip`:" Takip Tablosu";E0.book_append_sheet(V,re,H.substring(0,30));const W=t!=null&&t.name?`${t.name}_Is_Takip_${new Date().toLocaleDateString("tr-TR").replace(/\./g,"-")}.xlsx`:`Is_Takip_${new Date().toLocaleDateString("tr-TR").replace(/\./g,"-")}.xlsx`;fV(V,W)}catch(se){console.error("Excel aktarm hatas:",se),alert("Excel dosyas oluturulurken bir hata olutu: "+se.message)}},j=se=>{if(!se)return null;try{const Y=new Date(se),te=new Date;te.setHours(0,0,0,0),Y.setHours(0,0,0,0);const re=te-Y,_e=Math.floor(re/(1e3*60*60*24));return _e<0?null:`${_e} gn`}catch(Y){return console.error("Bekleme sresi hesaplanrken hata:",Y),null}},x=async(se,Y,te)=>{var re;try{const _e=(re=n.find(he=>he.docId===se))==null?void 0:re[Y],V=_e==null?"":String(_e).substring(0,200),H=te==null?"":String(te).substring(0,200);if(V===H)return;const W=br(Ke,"works",se),z={[Y]:te,updatedAt:new Date};if(Y==="arrivalDate"){const he=j(te);he!==null&&(z.waitingTime=he)}await Ay(W,z),i(he=>he.map(xe=>xe.docId===se?{...xe,...z}:xe));const K=n.find(he=>he.docId===se);await Wc("update","works",{workDocId:se,workNo:K==null?void 0:K.workNo,projectId:K==null?void 0:K.projectId,projectName:(K==null?void 0:K.projectName)||(t==null?void 0:t.name)||"",field:Y,fieldLabel:SV[Y]||Y,oldValue:V||"-",newValue:H||"-"})}catch(_e){console.error("Hcre gncellenirken hata:",_e),alert("Gncelleme srasnda bir hata olutu: "+_e.message)}},w=async()=>{try{if(!(t!=null&&t.id)){alert("Ltfen nce bir proje sein.");return}const Y=n.reduce((_e,V)=>{const H=V.workNo||0;return H>_e?H:_e},0)+1,te={...h,workNo:Y,projectId:t.id,projectName:t.name||"",createdAt:new Date,updatedAt:new Date};if(te.arrivalDate){const _e=j(te.arrivalDate);_e!==null&&(te.waitingTime=_e)}Object.keys(te).forEach(_e=>{(te[_e]===""||te[_e]===void 0)&&delete te[_e]});const re=await aa(Vt(Ke,"works"),te);d({}),await Wc("create","works",{workDocId:re.id,workNo:Y,projectId:t.id,projectName:t.name||"",summary:{mainCustomerName:te.mainCustomerName||"-",customerName:te.customerName||"-",partNumber:te.partNumber||"-",waybillNo:te.waybillNo||"-"}})}catch(se){console.error("Satr eklenirken hata:",se),alert("Satr eklenirken bir hata olutu: "+se.message)}},A=async se=>{window.confirm("Bu satr silmek istediinize emin misiniz?")&&(D(se),E(!0))},T=async se=>{try{if(!(t!=null&&t.id)){alert("Ltfen nce bir proje sein.");return}const Y=n.find(xe=>xe.docId===se);if(!Y){alert("oaltlacak satr bulunamad.");return}const re=n.reduce((xe,Se)=>{const me=Se.workNo||0;return me>xe?me:xe},0)+1,{docId:_e,createdAt:V,updatedAt:H,workNo:W,...z}=Y,K={...z,workNo:re,projectId:t.id,projectName:t.name||"",createdAt:new Date,updatedAt:new Date},he=await aa(Vt(Ke,"works"),K);await Wc("duplicate","works",{sourceWorkDocId:se,sourceWorkNo:Y.workNo,workDocId:he.id,workNo:re,projectId:t.id,projectName:t.name||"",summary:{mainCustomerName:K.mainCustomerName||"-",customerName:K.customerName||"-",partNumber:K.partNumber||"-",waybillNo:K.waybillNo||"-"}})}catch(Y){console.error("Satr oaltlrken hata:",Y),alert("Satr oaltlrken bir hata olutu: "+Y.message)}},R=se=>qp[se]||se.toLowerCase().replace(/\s+/g,""),L=(se,Y)=>{const te=R(Y);return se[te]||""},N=se=>{const Y=(se==null?void 0:se.name)||"",te=(se==null?void 0:se.code)||"";return te?`${Y} (${te})`:Y},Ie=se=>se==="Ana Mteri Ad/ Main customer name"||se==="Mteri Ad/ Customer name",ke=se=>se==="Tanmlama",Xe=se=>se.toLowerCase().includes("tarih")||se.toLowerCase().includes("date");return s?k.jsx("div",{className:"loading",children:"Ykleniyor..."}):k.jsxs("div",{className:"work-table-container",children:[k.jsxs("div",{className:"table-header-actions",children:[k.jsxs("div",{className:"project-filter",children:[k.jsx("span",{className:"project-filter-label",children:"Projeler:"}),k.jsxs("select",{className:"project-filter-select",value:(t==null?void 0:t.id)||"",onChange:se=>{const Y=se.target.value,te=m.find(re=>re.id===Y)||null;e==null||e(te),te!=null&&te.id?localStorage.setItem("selectedProjectId",te.id):localStorage.removeItem("selectedProjectId")},children:[k.jsx("option",{value:"",disabled:!0,children:"Proje seiniz..."}),m.map(se=>k.jsx("option",{value:se.id,children:se.name||"(simsiz Proje)"},se.id))]})]}),k.jsx("button",{onClick:w,className:"add-row-button",children:"+ Yeni  Ekle"}),k.jsx("button",{onClick:()=>r("/project-customer-management"),className:"management-button",children:"Proje / Mteri Ynetimi"}),k.jsx("button",{onClick:()=>r("/user-management"),className:"management-button",children:"Kullanc Ynetimi"}),k.jsx("button",{onClick:B,className:"export-excel-button",disabled:n.length===0,children:" Excel'e Aktar"})]}),k.jsx("div",{className:"table-wrapper",children:k.jsxs("table",{className:"work-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{className:"sticky-col action-col",children:"lemler"}),Fa.map((se,Y)=>k.jsx("th",{children:se},Y))]})}),k.jsxs("tbody",{children:[k.jsxs("tr",{className:"new-row",children:[k.jsx("td",{className:"sticky-col action-col",children:k.jsx("button",{onClick:w,className:"save-new-button",children:"Kaydet"})}),Fa.map((se,Y)=>{const te=R(se);return k.jsx("td",{children:Ie(se)?k.jsxs("select",{value:h[te]||"",onChange:re=>d({...h,[te]:re.target.value}),className:"cell-select",children:[k.jsx("option",{value:"",disabled:!0,children:"Seiniz..."}),k.jsx("optgroup",{label:"Projeler",children:m.map(re=>k.jsx("option",{value:N(re),children:N(re)},`p-${re.id}`))}),k.jsx("optgroup",{label:"Mteriler",children:g.map(re=>k.jsx("option",{value:N(re),children:N(re)},`c-${re.id}`))})]}):ke(se)?k.jsxs("select",{value:h[te]||"",onChange:re=>d({...h,[te]:re.target.value}),className:"cell-select",children:[k.jsx("option",{value:"",children:"Seiniz..."}),mx.map(re=>k.jsx("option",{value:re,children:re},re))]}):k.jsx("input",{type:Xe(se)?"date":"text",value:h[te]||"",onChange:re=>d({...h,[te]:re.target.value}),placeholder:te==="waitingTime"?"Otomatik hesaplanacak":te==="workNo"?"Otomatik atanacak":se,className:"cell-input",disabled:te==="waitingTime"||te==="workNo",style:te==="waitingTime"||te==="workNo"?{cursor:"not-allowed",opacity:.6}:{}})},Y)})]}),n.map((se,Y)=>{const te=re=>{switch(re){case"Hazr":return"row-hazir";case"retimde":return"row-uretimde";case"Denetimi Geti":return"row-denetim-gecti";case"retime Girmeden ade Edildi":return"row-iade";case"Fatura Edildi":return"row-fatura";case"Uygun Olmayan":return"row-uygun-olmayan";default:return""}};return k.jsxs("tr",{className:te(se.tanimlama),children:[k.jsx("td",{className:"sticky-col action-col",children:k.jsxs("div",{className:"row-actions",children:[k.jsx("button",{onClick:()=>T(se.docId),className:"action-btn duplicate-btn",title:"Satr oalt",children:"oalt"}),k.jsx("button",{onClick:()=>A(se.docId),className:"action-btn delete-btn",title:"Sil (ifre Gerekli)",children:"Sil"})]})}),Fa.map((re,_e)=>{const V=R(re),H=`${se.docId}-${V}`,W=o===H,z=L(se,re);return k.jsx("td",{className:W?"editing":"",onDoubleClick:()=>{V==="workNo"||V==="waitingTime"||(l(H),f(z))},children:W?Ie(re)?k.jsxs("select",{value:u,onChange:async K=>{const he=K.target.value;f(he),await x(se.docId,V,he),l(null)},onBlur:()=>l(null),autoFocus:!0,className:"cell-select",children:[k.jsx("option",{value:"",disabled:!0,children:"Seiniz..."}),k.jsx("optgroup",{label:"Projeler",children:m.map(K=>k.jsx("option",{value:N(K),children:N(K)},`p-${K.id}`))}),k.jsx("optgroup",{label:"Mteriler",children:g.map(K=>k.jsx("option",{value:N(K),children:N(K)},`c-${K.id}`))})]}):ke(re)?k.jsxs("select",{value:u,onChange:async K=>{const he=K.target.value;f(he),await x(se.docId,V,he),l(null)},onBlur:()=>l(null),autoFocus:!0,className:"cell-select",children:[k.jsx("option",{value:"",children:"Seiniz..."}),mx.map(K=>k.jsx("option",{value:K,children:K},K))]}):k.jsx("input",{type:Xe(re)?"date":"text",value:u,onChange:K=>f(K.target.value),onBlur:async()=>{await x(se.docId,V,u),l(null)},onKeyDown:K=>{K.key==="Enter"?(K.preventDefault(),(async()=>(await x(se.docId,V,u),l(null)))()):K.key==="Escape"&&l(null)},autoFocus:!0,className:"cell-input"}):k.jsx("span",{className:"cell-value",children:z||"-"})},_e)})]},se.docId)})]})]})}),n.length===0&&k.jsx("div",{className:"empty-state",children:k.jsx("p",{children:"Henz i eklenmemi. Yeni i eklemek iin stteki butonu kullann."})}),k.jsx(jo,{isOpen:I,title:"Silme ilemini onaylamak iin ifrenizi girin",confirmText:"Sil",onCancel:()=>{E(!1),D(null)},onConfirm:async se=>{try{if(!S)throw new Error("Silinecek kayt seilemedi. Ltfen tekrar deneyin.");const Y=Ir.currentUser;if(!Y||!Y.email)throw new Error("Kullanc bilgisi bulunamad. Ltfen tekrar giri yapn.");const te=On.credential(Y.email,se);await ju(Y,te);const re=n.find(H=>H.docId===S),_e=br(Ke,"works",S);if(await qs(_e),(await Yu(_e)).exists())throw new Error("Silme ilemi tamamlanamad (kayt hl mevcut). Yetki/kurallar kontrol edilmeli.");await Wc("delete","works",{workDocId:S,workNo:re==null?void 0:re.workNo,projectId:re==null?void 0:re.projectId,projectName:(re==null?void 0:re.projectName)||"",summary:re?{mainCustomerName:re.mainCustomerName||"-",customerName:re.customerName||"-",partNumber:re.partNumber||"-",waybillNo:re.waybillNo||"-",arrivalDate:re.arrivalDate||"-",waitingTime:re.waitingTime||"-",deliveryDate1:re.deliveryDate1||"-",poNo:re.poNo||"-",finishCode:re.finishCode||"-"}:{note:" detaylar bulunamad"}}),E(!1),D(null)}catch(Y){if(console.error("Satr silinirken hata:",Y),(Y==null?void 0:Y.code)==="auth/wrong-password"||(Y==null?void 0:Y.code)==="auth/invalid-credential")throw new Error("Hatal ifre! Silme ilemi iptal edildi.");if((Y==null?void 0:Y.code)==="auth/too-many-requests")throw new Error("ok fazla baarsz deneme. Ltfen daha sonra tekrar deneyin.");if((Y==null?void 0:Y.code)==="permission-denied")throw new Error("Yetki hatas: Silme izni yok. Firestore rules kontrol edin.");const te=Y!=null&&Y.code?String(Y.code):"",re=Y!=null&&Y.message?String(Y.message):"Bilinmeyen hata";throw new Error(`${te?`${te}: `:""}${re}`)}}})]})}function IV(){const t=da(),[e,r]=J.useState(null),[n,i]=J.useState(null);J.useEffect(()=>{const a=Ir.onAuthStateChanged(o=>{o?r(o):t("/login")});return()=>a()},[t]);const s=async()=>{try{await JN(Ir),t("/login")}catch(a){console.error("k yaplrken hata:",a)}};return e?k.jsxs("div",{className:"dashboard-container",children:[k.jsx("header",{className:"dashboard-header",children:k.jsxs("div",{className:"header-content",children:[k.jsxs("h1",{children:["OKAS  Takip Tablosu",n!=null&&n.name?` - ${n.name}`:""]}),k.jsxs("div",{className:"user-info",children:[k.jsx("span",{className:"user-email",children:e.email}),k.jsx("button",{onClick:()=>t("/announcements"),className:"announcements-button",children:" Duyurular"}),k.jsx("button",{onClick:()=>t("/log-records"),className:"logs-button",children:" Log Kaytlar"}),k.jsx("button",{onClick:s,className:"logout-button",children:"k Yap"})]})]})}),k.jsx("main",{className:"dashboard-main",children:k.jsx(AV,{selectedProject:n,setSelectedProject:i})})]}):null}function Ws(t){return(t||"").toString().trim().toLowerCase()}async function CV(t){const e=Ir.currentUser;if(!e||!e.email)throw new Error("Kullanc bilgisi bulunamad. Ltfen tekrar giri yapn.");const r=On.credential(e.email,t);await ju(e,r)}function gx({title:t,isOpen:e,onClose:r,onSubmit:n,initialName:i="",initialCode:s=""}){const[a,o]=J.useState(i),[l,u]=J.useState(s),[f,h]=J.useState(!1),[d,m]=J.useState("");return J.useEffect(()=>{e&&(o(i),u(s),h(!1),m(""))},[e,i,s]),e?k.jsx("div",{className:"pcm-modal-overlay",role:"dialog","aria-modal":"true",children:k.jsxs("div",{className:"pcm-modal",children:[k.jsx("div",{className:"pcm-modal-header",children:k.jsx("h3",{children:t})}),k.jsxs("div",{className:"pcm-modal-body",children:[k.jsxs("div",{className:"pcm-field",children:[k.jsx("label",{children:"Ad"}),k.jsx("input",{value:a,onChange:_=>o(_.target.value),placeholder:"rn: Aselsan",autoFocus:!0})]}),k.jsxs("div",{className:"pcm-field",children:[k.jsx("label",{children:"Ksaltma"}),k.jsx("input",{value:l,onChange:_=>u(_.target.value),placeholder:"rn: ASE"})]}),d?k.jsx("div",{className:"pcm-error",children:d}):null]}),k.jsxs("div",{className:"pcm-modal-actions",children:[k.jsx("button",{className:"pcm-btn pcm-btn-ghost",onClick:r,disabled:f,children:"ptal"}),k.jsx("button",{className:"pcm-btn pcm-btn-primary",disabled:f,onClick:async()=>{m("");const _=a.trim(),g=l.trim();if(!_||!g){m("Ltfen ad ve ksaltma alanlarn doldurun.");return}try{h(!0),await n({name:_,code:g}),r()}catch(y){m((y==null?void 0:y.message)||"Kaydedilirken hata olutu.")}finally{h(!1)}},children:f?"Kaydediliyor...":"Kaydet"})]})]})}):null}function vx({title:t,searchPlaceholder:e,items:r,search:n,setSearch:i,selectedId:s,setSelectedId:a,onAddClick:o,onDeleteClick:l,addLabel:u,deleteLabel:f}){const h=J.useMemo(()=>{const d=Ws(n);return d?r.filter(m=>Ws(m.name).includes(d)||Ws(m.code).includes(d)):r},[r,n]);return k.jsxs("section",{className:"pcm-section",children:[k.jsx("h2",{className:"pcm-section-title",children:t}),k.jsxs("div",{className:"pcm-toolbar",children:[k.jsxs("div",{className:"pcm-search",children:[k.jsx("span",{className:"pcm-search-icon",children:""}),k.jsx("input",{value:n,onChange:d=>i(d.target.value),placeholder:e})]}),k.jsxs("div",{className:"pcm-actions",children:[k.jsx("button",{className:"pcm-btn pcm-btn-primary",onClick:o,children:u}),k.jsx("button",{className:"pcm-btn pcm-btn-danger",onClick:l,disabled:!s,title:s?"":"Silmek iin nce bir kart sein",children:f})]})]}),k.jsxs("div",{className:"pcm-card-list",children:[h.map(d=>{const m=d.id===s;return k.jsx("button",{type:"button",className:`pcm-card ${m?"is-selected":""}`,onClick:()=>a(m?null:d.id),children:k.jsxs("div",{className:"pcm-card-title",children:[d.name," (",d.code,")"]})},d.id)}),h.length===0?k.jsx("div",{className:"pcm-empty",children:"Kayt bulunamad."}):null]})]})}function kV(){const t=da(),[e,r]=J.useState([]),[n,i]=J.useState([]),[s,a]=J.useState(""),[o,l]=J.useState(""),[u,f]=J.useState(null),[h,d]=J.useState(null),[m,_]=J.useState(!1),[g,y]=J.useState(!1),[I,E]=J.useState(!1),[S,D]=J.useState(null);J.useEffect(()=>{const A=cn(Vt(Ke,"projects"),Bn("createdAt","desc")),T=qn(A,N=>{r(N.docs.map(Ie=>({id:Ie.id,...Ie.data()})))}),R=cn(Vt(Ke,"customers"),Bn("createdAt","desc")),L=qn(R,N=>{i(N.docs.map(Ie=>({id:Ie.id,...Ie.data()})))});return()=>{T(),L()}},[]);const B=async({name:A,code:T})=>{if(e.some(L=>Ws(L.code)===Ws(T)))throw new Error("Bu ksaltma ile zaten bir proje var.");await aa(Vt(Ke,"projects"),{name:A,code:T,createdAt:Al(),updatedAt:Al()})},j=async({name:A,code:T})=>{if(n.some(L=>Ws(L.code)===Ws(T)))throw new Error("Bu ksaltma ile zaten bir mteri var.");await aa(Vt(Ke,"customers"),{name:A,code:T,createdAt:Al(),updatedAt:Al()})},x=async()=>{u&&window.confirm("Projeyi silmek istediinize emin misiniz?")&&(D({type:"project",id:u}),E(!0))},w=async()=>{h&&window.confirm("Mteriyi silmek istediinize emin misiniz?")&&(D({type:"customer",id:h}),E(!0))};return k.jsxs("div",{className:"pcm-page",children:[k.jsxs("header",{className:"pcm-appbar",children:[k.jsx("button",{className:"pcm-back",onClick:()=>t(-1),"aria-label":"Geri",children:""}),k.jsx("div",{className:"pcm-title",children:"Mteri / Proje Sayfas"}),k.jsx("div",{className:"pcm-right-spacer"})]}),k.jsxs("main",{className:"pcm-content",children:[k.jsx(vx,{title:"Projeler",searchPlaceholder:"Proje Ara",items:e,search:s,setSearch:a,selectedId:u,setSelectedId:f,onAddClick:()=>_(!0),onDeleteClick:x,addLabel:"Yeni Proje Ekle",deleteLabel:"Projeyi Sil"}),k.jsx(vx,{title:"Mteriler",searchPlaceholder:"Mteri Ara",items:n,search:o,setSearch:l,selectedId:h,setSelectedId:d,onAddClick:()=>y(!0),onDeleteClick:w,addLabel:"Yeni Mteri Ekle",deleteLabel:"Mteriyi Sil"})]}),k.jsx(gx,{title:"Yeni Proje Ekle",isOpen:m,onClose:()=>_(!1),onSubmit:B}),k.jsx(gx,{title:"Yeni Mteri Ekle",isOpen:g,onClose:()=>y(!1),onSubmit:j}),k.jsx(jo,{isOpen:I,title:"Silme ilemini onaylamak iin ifrenizi girin",confirmText:"Sil",onCancel:()=>{E(!1),D(null)},onConfirm:async A=>{try{if(await CV(A),(S==null?void 0:S.type)==="project"){const T=cn(Vt(Ke,"works"),Y2("projectId","==",S.id)),R=await d3(T),L=R.docs.map(N=>qs(br(Ke,"works",N.id)));await Promise.all(L),await qs(br(Ke,"projects",S.id)),f(null),alert(`Proje ve ${R.size} adet i kayd silindi.`)}else(S==null?void 0:S.type)==="customer"&&(await qs(br(Ke,"customers",S.id)),d(null));E(!1),D(null)}catch(T){throw(T==null?void 0:T.code)==="auth/wrong-password"||(T==null?void 0:T.code)==="auth/invalid-credential"?new Error("Hatal ifre! Silme ilemi iptal edildi."):(T==null?void 0:T.code)==="auth/too-many-requests"?new Error("ok fazla baarsz deneme. Ltfen daha sonra tekrar deneyin."):T}}})]})}function Jc(t){return(t||"").toString().trim().toLowerCase()}function RV({isOpen:t,onClose:e}){const[r,n]=J.useState(""),[i,s]=J.useState(""),[a,o]=J.useState(""),[l,u]=J.useState("user"),[f,h]=J.useState(!1),[d,m]=J.useState(!1),[_,g]=J.useState("");return J.useEffect(()=>{t&&(n(""),s(""),o(""),u("user"),h(!1),m(!1),g(""))},[t]),t?k.jsx("div",{className:"pcm-modal-overlay",role:"dialog","aria-modal":"true",children:k.jsxs("div",{className:"um-modal",children:[k.jsx("div",{className:"um-modal-header",children:k.jsx("h3",{children:"Yeni Kullanc Ekle"})}),k.jsxs("div",{className:"um-modal-body",children:[k.jsxs("div",{className:"um-field",children:[k.jsx("label",{children:"E-posta"}),k.jsx("input",{value:r,onChange:y=>n(y.target.value),placeholder:"ornek@email.com",type:"email",autoFocus:!0})]}),k.jsxs("div",{className:"um-field",children:[k.jsx("label",{children:"ifre"}),k.jsxs("div",{className:"um-password-row",children:[k.jsx("input",{value:i,onChange:y=>s(y.target.value),placeholder:"",type:f?"text":"password"}),k.jsx("button",{type:"button",className:"um-toggle",onClick:()=>h(y=>!y),children:f?"Gizle":"Gster"})]}),k.jsx("div",{className:"um-hint",children:"Minimum 6 karakter nerilir."})]}),k.jsxs("div",{className:"um-field",children:[k.jsx("label",{children:"Ad Soyad (Opsiyonel)"}),k.jsx("input",{value:a,onChange:y=>o(y.target.value),placeholder:"rn: Yusuf Gk"})]}),k.jsxs("div",{className:"um-field",children:[k.jsx("label",{children:"Rol"}),k.jsxs("select",{value:l,onChange:y=>u(y.target.value),className:"um-select",children:[k.jsx("option",{value:"user",children:"user"}),k.jsx("option",{value:"admin",children:"admin"}),k.jsx("option",{value:"mhendis",children:"mhendis"}),k.jsx("option",{value:"ba mhendis",children:"ba mhendis"}),k.jsx("option",{value:"istasyon sorumlusu",children:"istasyon sorumlusu"})]})]}),_?k.jsx("div",{className:"um-error",children:_}):null]}),k.jsxs("div",{className:"um-modal-actions",children:[k.jsx("button",{className:"um-btn um-btn-ghost",onClick:e,disabled:d,children:"ptal"}),k.jsx("button",{className:"um-btn um-btn-primary",disabled:d,onClick:async()=>{var S;g("");const y=r.trim(),I=i,E=a.trim();if(!y||!I){g("Ltfen e-posta ve ifre alanlarn doldurun.");return}if(I.length<6){g("ifre en az 6 karakter olmal.");return}try{m(!0),await zp(Wp,"createUser")({email:y,password:I,displayName:E||null,role:l}),e()}catch(D){const B=D!=null&&D.code?String(D.code):"",j=typeof(D==null?void 0:D.details)=="string"?D.details:(S=D==null?void 0:D.details)!=null&&S.message?String(D.details.message):"",x=`${B?`${B}: `:""}${j||(D==null?void 0:D.message)||"Kullanc eklenirken hata olutu."}`;g(x+" (Functions deploy edildi mi?)")}finally{m(!1)}},children:d?"Ekleniyor...":"Kullanc Ekle"})]})]})}):null}function NV(){const t=da(),[e,r]=J.useState([]),[n,i]=J.useState(""),[s,a]=J.useState(!1),[o,l]=J.useState(null),[u,f]=J.useState(null),[h,d]=J.useState(""),[m,_]=J.useState(!1),[g,y]=J.useState(null);J.useEffect(()=>{(async()=>{const j=Ir.currentUser;if(j){const x=await Yu(br(Ke,"users",j.uid));x.exists()&&l(x.data().role)}})()},[]),J.useEffect(()=>{const B=cn(Vt(Ke,"users"),Bn("createdAt","desc")),j=qn(B,x=>{r(x.docs.map(w=>({id:w.id,...w.data()})))});return()=>j()},[]);const I=async B=>{y(B),_(!0)},E=async B=>{if(g)try{await zp(Wp,"deleteUser")({uid:g.uid}),alert(`${g.email} baaryla silindi.`),y(null)}catch(j){console.error("Kullanc silme hatas:",j);const x=(j==null?void 0:j.message)||"Kullanc silinemedi.";alert(x)}},S=async(B,j)=>{if(!(!j||j===B.role))try{await zp(Wp,"updateUserRole")({uid:B.uid,role:j}),alert(`${B.email} rol "${j}" olarak gncellendi.`),f(null),d("")}catch(x){console.error("Rol gncelleme hatas:",x);const w=(x==null?void 0:x.message)||"Rol gncellenemedi.";alert(w)}},D=J.useMemo(()=>{const B=Jc(n);return B?e.filter(j=>Jc(j.email).includes(B)||Jc(j.displayName).includes(B)||Jc(j.role).includes(B)):e},[e,n]);return k.jsxs("div",{className:"um-page",children:[k.jsxs("header",{className:"um-appbar",children:[k.jsx("button",{className:"um-back",onClick:()=>t(-1),"aria-label":"Geri",children:""}),k.jsx("div",{className:"um-title",children:"Kullanc Ynetimi"}),k.jsx("div",{className:"um-right-spacer"})]}),k.jsx("main",{className:"um-content",children:k.jsxs("section",{className:"um-section",children:[k.jsx("h2",{className:"um-section-title",children:"Kullanclar"}),k.jsxs("div",{className:"um-toolbar",children:[k.jsxs("div",{className:"um-search",children:[k.jsx("span",{className:"um-search-icon",children:""}),k.jsx("input",{value:n,onChange:B=>i(B.target.value),placeholder:"Kullanc Ara"})]}),k.jsx("div",{className:"um-actions",children:k.jsx("button",{className:"um-btn um-btn-primary",onClick:()=>a(!0),children:"Yeni Kullanc Ekle"})})]}),k.jsxs("div",{className:"um-card-list",children:[D.map(B=>{var A;const j=((A=Ir.currentUser)==null?void 0:A.uid)===B.uid,x=o==="admin",w=(u==null?void 0:u.id)===B.id;return k.jsx("div",{className:"um-card",children:k.jsxs("div",{className:"um-card-header",children:[k.jsxs("div",{children:[k.jsx("div",{className:"um-card-title",children:B.displayName||B.email||""}),k.jsxs("div",{className:"um-card-sub",children:[w?k.jsxs("select",{value:h,onChange:T=>d(T.target.value),className:"um-role-select",children:[k.jsx("option",{value:"user",children:"user"}),k.jsx("option",{value:"admin",children:"admin"}),k.jsx("option",{value:"mhendis",children:"mhendis"}),k.jsx("option",{value:"ba mhendis",children:"ba mhendis"}),k.jsx("option",{value:"istasyon sorumlusu",children:"istasyon sorumlusu"})]}):k.jsx("span",{className:"um-chip",children:B.role||"user"}),k.jsx("span",{className:"um-email",children:B.email||""})]})]}),x&&!j&&k.jsx("div",{className:"um-card-actions",children:w?k.jsxs(k.Fragment,{children:[k.jsx("button",{className:"um-action-btn um-save-btn",onClick:()=>{S(B,h)},children:" Kaydet"}),k.jsx("button",{className:"um-action-btn um-cancel-btn",onClick:()=>{f(null),d("")},children:" ptal"})]}):k.jsxs(k.Fragment,{children:[k.jsx("button",{className:"um-action-btn um-edit-btn",onClick:()=>{f(B),d(B.role||"user")},children:" Rol Deitir"}),k.jsx("button",{className:"um-action-btn um-delete-btn",onClick:()=>I(B),children:" Sil"})]})})]})},B.id)}),D.length===0?k.jsx("div",{className:"um-empty",children:"Kayt bulunamad."}):null]})]})}),k.jsx(RV,{isOpen:s,onClose:()=>a(!1)}),k.jsx(jo,{isOpen:m,onClose:()=>{_(!1),y(null)},onConfirm:E,title:"Kullancy Sil",message:`${(g==null?void 0:g.email)||"Bu kullancy"} silmek istediinizden emin misiniz?`})]})}function PV({announcement:t,index:e,onDeleteAnnouncement:r}){var D;const[n,i]=J.useState([]),[s,a]=J.useState(!1),[o,l]=J.useState(""),[u,f]=J.useState(!1),[h,d]=J.useState(!1),[m,_]=J.useState(null),g=Ir.currentUser,y=g&&t.createdByUid===g.uid;J.useEffect(()=>{if(!t.docId)return;const B=cn(Vt(Ke,"announcements",t.docId,"replies"),Bn("createdAt","asc")),j=qn(B,x=>{const w=x.docs.map(A=>({docId:A.id,...A.data()}));i(w)});return()=>j()},[t.docId]);const I=async()=>{if(!(!o.trim()||u)){f(!0);try{await aa(Vt(Ke,"announcements",t.docId,"replies"),{content:o.trim(),createdAt:new Date,createdBy:(g==null?void 0:g.email)||"Anonim",createdByUid:(g==null?void 0:g.uid)||null}),l("")}catch(B){console.error("Cevap eklenirken hata:",B),alert("Cevap eklenirken bir hata olutu: "+B.message)}finally{f(!1)}}},E=B=>{_(B),d(!0)},S=async B=>{try{const j=Ir.currentUser;if(!j||!j.email)throw new Error("Kullanc bilgisi bulunamad.");const x=On.credential(j.email,B);if(await ju(j,x),await qs(br(Ke,"announcements",t.docId,"replies",m)),(await Yu(br(Ke,"announcements",t.docId,"replies",m))).exists())throw new Error("Cevap silinemedi.");d(!1),_(null)}catch(j){throw console.error("Cevap silinirken hata:",j),(j==null?void 0:j.code)==="auth/wrong-password"||(j==null?void 0:j.code)==="auth/invalid-credential"?new Error("Hatal ifre!"):j}};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"ann-card",style:{"--card-index":e},children:[k.jsxs("div",{className:"ann-card-header",children:[k.jsx("h3",{className:"ann-card-title",children:t.title}),y&&k.jsx("button",{className:"ann-delete-btn",onClick:()=>r(t.docId),title:"Sil (ifre Gerekli)",children:""})]}),k.jsx("p",{className:"ann-card-content",children:t.content}),k.jsxs("div",{className:"ann-card-footer",children:[k.jsxs("span",{className:"ann-author",children:["Yazan: ",t.createdBy]}),k.jsx("span",{className:"ann-date",children:(D=t.createdAt)!=null&&D.toDate?new Date(t.createdAt.toDate()).toLocaleDateString("tr-TR"):"-"})]}),k.jsxs("div",{className:"ann-replies-section",children:[k.jsxs("button",{className:"ann-toggle-replies",onClick:()=>a(!s),children:[" ",n.length," Cevap ",s?"":""]}),s&&k.jsxs("div",{className:"ann-replies-container",children:[n.map((B,j)=>{var w;const x=g&&B.createdByUid===g.uid;return k.jsxs("div",{className:"ann-reply",style:{"--reply-index":j},children:[k.jsxs("div",{className:"ann-reply-header",children:[k.jsx("span",{className:"ann-reply-author",children:B.createdBy}),x&&k.jsx("button",{className:"ann-reply-delete",onClick:()=>E(B.docId),title:"Sil",children:""})]}),k.jsx("p",{className:"ann-reply-content",children:B.content}),k.jsx("span",{className:"ann-reply-date",children:(w=B.createdAt)!=null&&w.toDate?new Date(B.createdAt.toDate()).toLocaleString("tr-TR"):"-"})]},B.docId)}),k.jsxs("div",{className:"ann-reply-input",children:[k.jsx("input",{type:"text",value:o,onChange:B=>l(B.target.value),onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),I())},placeholder:"Cevap yazn...",disabled:u}),k.jsx("button",{onClick:I,disabled:!o.trim()||u,className:"ann-reply-send",children:""})]})]})]})]}),k.jsx(jo,{isOpen:h,title:"Cevab silmek iin ifrenizi girin",confirmText:"Sil",onCancel:()=>{d(!1),_(null)},onConfirm:S})]})}function DV(){const t=da(),[e,r]=J.useState([]),[n,i]=J.useState(!0),[s,a]=J.useState(!1),[o,l]=J.useState({title:"",content:""}),[u,f]=J.useState(""),[h,d]=J.useState(!1),[m,_]=J.useState(!1),[g,y]=J.useState(null);J.useEffect(()=>{const D=cn(Vt(Ke,"announcements"),Bn("createdAt","desc")),B=qn(D,j=>{const x=j.docs.map(w=>({docId:w.id,...w.data()}));r(x),i(!1)});return()=>B()},[]);const I=async()=>{f("");const{title:D,content:B}=o;if(!D.trim()||!B.trim()){f("Balk ve ierik zorunludur.");return}d(!0);try{const j=Ir.currentUser;await aa(Vt(Ke,"announcements"),{title:D.trim(),content:B.trim(),createdAt:new Date,createdBy:(j==null?void 0:j.email)||"Anonim",createdByUid:(j==null?void 0:j.uid)||null}),l({title:"",content:""}),a(!1),f("")}catch(j){console.error("Duyuru eklenirken hata:",j),f("Duyuru eklenirken bir hata olutu: "+j.message)}finally{d(!1)}},E=D=>{y(D),_(!0)},S=async D=>{try{const B=Ir.currentUser;if(!B||!B.email)throw new Error("Kullanc bilgisi bulunamad.");const j=On.credential(B.email,D);if(await ju(B,j),await qs(br(Ke,"announcements",g)),(await Yu(br(Ke,"announcements",g))).exists())throw new Error("Duyuru silinemedi, veritabannda hl mevcut.");_(!1),y(null)}catch(B){throw console.error("Duyuru silinirken hata:",B),(B==null?void 0:B.code)==="auth/wrong-password"||(B==null?void 0:B.code)==="auth/invalid-credential"?new Error("Hatal ifre!"):(B==null?void 0:B.code)==="auth/too-many-requests"?new Error("ok fazla baarsz deneme."):B}};return n?k.jsxs("div",{className:"ann-page",children:[k.jsxs("div",{className:"ann-appbar",children:[k.jsx("button",{className:"ann-back",onClick:()=>t("/"),children:""}),k.jsx("div",{className:"ann-title",children:"Duyurular"}),k.jsx("div",{className:"ann-right-spacer"})]}),k.jsx("div",{className:"ann-content",children:k.jsx("div",{className:"ann-loading",children:"Ykleniyor..."})})]}):k.jsxs("div",{className:"ann-page",children:[k.jsxs("div",{className:"ann-appbar",children:[k.jsx("button",{className:"ann-back",onClick:()=>t("/"),children:""}),k.jsx("div",{className:"ann-title",children:"Duyurular"}),k.jsx("div",{className:"ann-right-spacer"})]}),k.jsxs("div",{className:"ann-content",children:[k.jsxs("div",{className:"ann-toolbar",children:[k.jsx("h2",{className:"ann-section-title",children:"Tm Duyurular"}),k.jsx("button",{className:"ann-btn ann-btn-primary",onClick:()=>a(!0),children:"+ Yeni Duyuru Ekle"})]}),k.jsx("div",{className:"ann-list",children:e.length===0?k.jsx("div",{className:"ann-empty",children:"Henz duyuru eklenmemi."}):e.map((D,B)=>k.jsx(PV,{announcement:D,index:B,onDeleteAnnouncement:E},D.docId))})]}),s&&k.jsx("div",{className:"ann-modal-overlay",onClick:()=>!h&&a(!1),children:k.jsxs("div",{className:"ann-modal",onClick:D=>D.stopPropagation(),children:[k.jsx("div",{className:"ann-modal-header",children:k.jsx("h3",{children:"Yeni Duyuru Ekle"})}),k.jsxs("div",{className:"ann-modal-body",children:[k.jsxs("div",{className:"ann-field",style:{"--field-index":0},children:[k.jsx("label",{children:"Balk"}),k.jsx("input",{type:"text",value:o.title,onChange:D=>l({...o,title:D.target.value}),placeholder:"Duyuru bal",disabled:h})]}),k.jsxs("div",{className:"ann-field",style:{"--field-index":1},children:[k.jsx("label",{children:"erik"}),k.jsx("textarea",{value:o.content,onChange:D=>l({...o,content:D.target.value}),placeholder:"Duyuru ierii",rows:"6",disabled:h,className:"ann-textarea"})]}),u&&k.jsx("div",{className:"ann-error",children:u})]}),k.jsxs("div",{className:"ann-modal-actions",children:[k.jsx("button",{className:"ann-btn ann-btn-ghost",onClick:()=>a(!1),disabled:h,children:"ptal"}),k.jsx("button",{className:"ann-btn ann-btn-primary",onClick:I,disabled:h,children:h?"Ekleniyor...":"Ekle"})]})]})}),k.jsx(jo,{isOpen:m,title:"Duyuruyu silmek iin ifrenizi girin",confirmText:"Sil",onCancel:()=>{_(!1),y(null)},onConfirm:S})]})}const OV={create:"Ekleme",update:"Gncelleme",delete:"Silme",duplicate:"oaltma"},_x={works:" Tablosu",announcements:"Duyurular",projects:"Projeler",customers:"Mteriler",users:"Kullanclar"},FV={mainCustomerName:"Ana Mteri",customerName:"Mteri",partNumber:"Para No",waybillNo:"rsaliye No",arrivalDate:"Geli Tarihi",waitingTime:"Bekleme Sresi",deliveryDate1:"Termin 1",poNo:"Sipari No",finishCode:"lem Kodu"};function LV(){const t=da(),[e,r]=J.useState([]),[n,i]=J.useState([]),[s,a]=J.useState(!0),[o,l]=J.useState("all"),[u,f]=J.useState("all"),[h,d]=J.useState("all"),[m,_]=J.useState(!1),[g,y]=J.useState(!1),[I,E]=J.useState(null);J.useEffect(()=>{(async()=>{const N=Ir.currentUser;if(N)try{const Ie=await Yu(br(Ke,"users",N.uid));if(Ie.exists()){const ke=Ie.data();_(ke.role==="admin")}}catch(Ie){console.error("Kullanc rol alnrken hata:",Ie)}})();const R=cn(Vt(Ke,"logs"),Bn("timestamp","desc"),u3(200)),L=qn(R,N=>{const Ie=N.docs.map(ke=>({id:ke.id,...ke.data()}));r(Ie),a(!1)});return()=>L()},[]),J.useEffect(()=>{const T=cn(Vt(Ke,"users")),R=qn(T,L=>{const N=L.docs.map(Ie=>({uid:Ie.id,...Ie.data()}));i(N)});return()=>R()},[]);const S=J.useMemo(()=>n.map(T=>T.email).filter(T=>T).sort((T,R)=>String(T).localeCompare(String(R),"tr")),[n]),D=e.filter(T=>!(o!=="all"&&T.action!==o||u!=="all"&&T.module!==u||h!=="all"&&T.userEmail!==h)),B=async T=>{window.confirm("Bu log kaydn silmek istediinize emin misiniz?")&&(E(T),y(!0))},j=T=>T?typeof(T==null?void 0:T.toDate)=="function"?new Date(T.toDate()).toLocaleString("tr-TR"):T instanceof Date?T.toLocaleString("tr-TR"):"-":"-",x=T=>{if(!T)return null;const R=String(T);return R.length>10?`${R.slice(0,10)}`:R},w=T=>{const R=(T==null?void 0:T.details)||{};return(T==null?void 0:T.action)==="update"&&R.field&&R.newValue===void 0&&R.oldValue===void 0?{...R,fieldLabel:R.fieldLabel||R.field,oldValue:R.oldValue??"-",newValue:R.newValue??R.value??"-"}:!R.summary&&R.action&&typeof R.action=="string"?{...R,message:R.action}:R},A=T=>{const R=w(T),L=_x[T==null?void 0:T.module]||(T==null?void 0:T.module)||"-";if(!R||Object.keys(R).length===0)return k.jsx("span",{className:"logs-muted",children:"-"});const N=T.action==="update",Ie=T.action==="create",ke=T.action==="delete",Xe=T.action==="duplicate",se=R.workDocId||R.docId||R.id,Y=x(se),te=R.workNo,re=R.projectName,_e=R.summary?Object.entries(R.summary).filter(([,H])=>H!=null&&String(H).trim()!=="").map(([H,W])=>`${FV[H]||H}: ${W}`):[],V=N?`Satr gncellendi  ${R.fieldLabel||R.field||"Alan"}`:Ie?"Yeni satr eklendi":ke?"Satr silindi":Xe?"Satr oaltld":R.message||R.action||"lem";return k.jsxs("div",{className:"logs-detail",children:[k.jsxs("div",{className:"logs-detail-title",children:[k.jsx("span",{className:"logs-detail-primary",children:V}),k.jsxs("span",{className:"logs-detail-secondary",children:[L,re&&k.jsxs("span",{className:"logs-pill logs-pill-project",children:["Proje: ",re]}),te?k.jsxs("span",{className:"logs-pill",children:[" No: ",te]}):Y?k.jsxs("span",{className:"logs-pill",children:["ID: ",Y]}):null]})]}),N?k.jsxs("div",{className:"logs-detail-grid",children:[k.jsxs("div",{className:"logs-detail-row",children:[k.jsx("span",{className:"logs-detail-k",children:"nce"}),k.jsx("span",{className:"logs-detail-v logs-old",children:R.oldValue??"-"})]}),k.jsxs("div",{className:"logs-detail-row",children:[k.jsx("span",{className:"logs-detail-k",children:"Sonra"}),k.jsx("span",{className:"logs-detail-v logs-new",children:R.newValue??"-"})]})]}):null,_e.length?k.jsx("div",{className:"logs-summary",children:_e.slice(0,4).map(H=>k.jsx("span",{className:"logs-summary-pill",children:H},H))}):null,Xe&&R.sourceWorkDocId&&R.workDocId?k.jsxs("div",{className:"logs-dup",children:[k.jsx("span",{className:"logs-detail-k",children:"Kopya"}),k.jsxs("span",{className:"logs-detail-v logs-mono",children:[x(R.sourceWorkDocId),"  ",x(R.workDocId)]})]}):null,k.jsxs("details",{className:"logs-raw",children:[k.jsx("summary",{children:"Ham detay"}),k.jsx("pre",{children:JSON.stringify(R,null,2)})]})]})};return s?k.jsxs("div",{className:"logs-page",children:[k.jsxs("div",{className:"logs-appbar",children:[k.jsx("button",{className:"logs-back",onClick:()=>t("/"),children:""}),k.jsx("div",{className:"logs-title",children:"Log Kaytlar"}),k.jsx("div",{className:"logs-right-spacer"})]}),k.jsx("div",{className:"logs-content",children:k.jsx("div",{className:"logs-loading",children:"Ykleniyor..."})})]}):k.jsxs("div",{className:"logs-page",children:[k.jsxs("div",{className:"logs-appbar",children:[k.jsx("button",{className:"logs-back",onClick:()=>t("/"),children:""}),k.jsx("div",{className:"logs-title",children:"Log Kaytlar"}),k.jsx("div",{className:"logs-right-spacer"})]}),k.jsxs("div",{className:"logs-content",children:[k.jsxs("div",{className:"logs-filters",children:[k.jsxs("div",{className:"logs-filter",children:[k.jsx("label",{children:"lem Tr:"}),k.jsxs("select",{value:o,onChange:T=>l(T.target.value),children:[k.jsx("option",{value:"all",children:"Tm"}),k.jsx("option",{value:"create",children:"Ekleme"}),k.jsx("option",{value:"update",children:"Gncelleme"}),k.jsx("option",{value:"delete",children:"Silme"}),k.jsx("option",{value:"duplicate",children:"oaltma"})]})]}),k.jsxs("div",{className:"logs-filter",children:[k.jsx("label",{children:"Modl:"}),k.jsxs("select",{value:u,onChange:T=>f(T.target.value),children:[k.jsx("option",{value:"all",children:"Tm"}),k.jsx("option",{value:"works",children:" Tablosu"}),k.jsx("option",{value:"announcements",children:"Duyurular"}),k.jsx("option",{value:"projects",children:"Projeler"}),k.jsx("option",{value:"customers",children:"Mteriler"}),k.jsx("option",{value:"users",children:"Kullanclar"})]})]}),k.jsxs("div",{className:"logs-filter",children:[k.jsx("label",{children:"Kullanc:"}),k.jsxs("select",{value:h,onChange:T=>d(T.target.value),children:[k.jsx("option",{value:"all",children:"Tm"}),S.map(T=>k.jsx("option",{value:T,children:T},T))]})]})]}),k.jsx("div",{className:"logs-stats",children:k.jsxs("span",{className:"logs-count",children:["Toplam ",D.length," kayt"]})}),k.jsx("div",{className:"logs-table-wrapper",children:k.jsxs("table",{className:"logs-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Tarih/Saat"}),k.jsx("th",{children:"lem"}),k.jsx("th",{children:"Modl"}),k.jsx("th",{children:"Kullanc"}),k.jsx("th",{children:"Detaylar"}),m&&k.jsx("th",{children:"lemler"})]})}),k.jsx("tbody",{children:D.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:m?"6":"5",className:"logs-empty",children:"Kayt bulunamad"})}):D.map((T,R)=>k.jsxs("tr",{style:{"--row-index":R},children:[k.jsx("td",{className:"logs-timestamp",children:j(T.timestamp)}),k.jsx("td",{children:k.jsx("span",{className:`logs-action-badge action-${T.action}`,children:OV[T.action]||T.action})}),k.jsx("td",{children:k.jsx("span",{className:"logs-module",children:_x[T.module]||T.module})}),k.jsx("td",{className:"logs-user",children:T.userEmail||"Bilinmiyor"}),k.jsx("td",{className:"logs-details",children:A(T)}),m&&k.jsx("td",{className:"logs-actions",children:k.jsx("button",{onClick:()=>B(T.id),className:"log-delete-btn",title:"Log Kaydn Sil",children:"Sil"})})]},T.id))})]})})]}),k.jsx(jo,{isOpen:g,title:"Log kaydn silmek iin ifrenizi girin",confirmText:"Sil",onCancel:()=>{y(!1),E(null)},onConfirm:async T=>{try{if(!I)throw new Error("Silinecek log kayd seilemedi.");const R=Ir.currentUser;if(!R||!R.email)throw new Error("Kullanc bilgisi bulunamad.");const L=On.credential(R.email,T);await ju(R,L);const N=br(Ke,"logs",I);await qs(N),y(!1),E(null)}catch(R){throw console.error("Log kayd silinirken hata:",R),(R==null?void 0:R.code)==="auth/wrong-password"||(R==null?void 0:R.code)==="auth/invalid-credential"?new Error("Hatal ifre!"):new Error((R==null?void 0:R.message)||"Log kayd silinemedi.")}}})]})}function MV(){const{user:t,loading:e}=O3();return e?k.jsxs("div",{className:"loading-container",children:[k.jsx("div",{className:"loading-spinner"}),k.jsx("p",{children:"Ykleniyor..."})]}):k.jsx(ER,{children:k.jsxs(_R,{children:[k.jsx(Ms,{path:"/login",element:t?k.jsx(Na,{to:"/"}):k.jsx(F3,{})}),k.jsx(Ms,{path:"/",element:t?k.jsx(IV,{}):k.jsx(Na,{to:"/login"})}),k.jsx(Ms,{path:"/project-customer-management",element:t?k.jsx(kV,{}):k.jsx(Na,{to:"/login"})}),k.jsx(Ms,{path:"/user-management",element:t?k.jsx(NV,{}):k.jsx(Na,{to:"/login"})}),k.jsx(Ms,{path:"/announcements",element:t?k.jsx(DV,{}):k.jsx(Na,{to:"/login"})}),k.jsx(Ms,{path:"/log-records",element:t?k.jsx(LV,{}):k.jsx(Na,{to:"/login"})})]})})}w0.createRoot(document.getElementById("root")).render(k.jsx(Rx.StrictMode,{children:k.jsx(MV,{})}));
